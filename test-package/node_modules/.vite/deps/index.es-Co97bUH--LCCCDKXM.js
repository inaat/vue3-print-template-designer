import {
  DC,
  Ee,
  Tx
} from "./chunk-65B7X2NR.js";
import "./chunk-FIAHBV72.js";

// node_modules/vue3-print-template-designer/dist/index.es-Co97bUH-.mjs
var ht = function(a3) {
  return a3 && a3.Math === Math && a3;
};
var _ = (
  // eslint-disable-next-line es/no-global-this -- safe
  ht(typeof globalThis == "object" && globalThis) || ht(typeof window == "object" && window) || // eslint-disable-next-line no-restricted-globals -- safe
  ht(typeof self == "object" && self) || ht(typeof Tx == "object" && Tx) || ht(typeof Tx == "object" && Tx) || // eslint-disable-next-line no-new-func -- fallback
  /* @__PURE__ */ (function() {
    return this;
  })() || Function("return this")()
);
var Et = {};
var D = function(a3) {
  try {
    return !!a3();
  } catch {
    return true;
  }
};
var $l = D;
var he = !$l(function() {
  return Object.defineProperty({}, 1, { get: function() {
    return 7;
  } })[1] !== 7;
});
var wl = D;
var br = !wl(function() {
  var a3 = (function() {
  }).bind();
  return typeof a3 != "function" || a3.hasOwnProperty("prototype");
});
var Cl = br;
var Ft = Function.prototype.call;
var Y = Cl ? Ft.bind(Ft) : function() {
  return Ft.apply(Ft, arguments);
};
var Mo = {};
var _o = {}.propertyIsEnumerable;
var Vo = Object.getOwnPropertyDescriptor;
var Al = Vo && !_o.call({ 1: 2 }, 1);
Mo.f = Al ? function(e) {
  var t = Vo(this, e);
  return !!t && t.enumerable;
} : _o;
var xi = function(a3, e) {
  return {
    enumerable: !(a3 & 1),
    configurable: !(a3 & 2),
    writable: !(a3 & 4),
    value: e
  };
};
var Do = br;
var Lo = Function.prototype;
var Ha = Lo.call;
var Pl = Do && Lo.bind.bind(Ha, Ha);
var L = Do ? Pl : function(a3) {
  return function() {
    return Ha.apply(a3, arguments);
  };
};
var ko = L;
var Rl = ko({}.toString);
var Nl = ko("".slice);
var je = function(a3) {
  return Nl(Rl(a3), 8, -1);
};
var Il = L;
var Ml = D;
var _l = je;
var Zr = Object;
var Vl = Il("".split);
var Bo = Ml(function() {
  return !Zr("z").propertyIsEnumerable(0);
}) ? function(a3) {
  return _l(a3) === "String" ? Vl(a3, "") : Zr(a3);
} : Zr;
var xr = function(a3) {
  return a3 == null;
};
var Dl = xr;
var Ll = TypeError;
var ve = function(a3) {
  if (Dl(a3)) throw new Ll("Can't call method on " + a3);
  return a3;
};
var kl = Bo;
var Bl = ve;
var $t = function(a3) {
  return kl(Bl(a3));
};
var Jr = typeof document == "object" && document.all;
var B = typeof Jr > "u" && Jr !== void 0 ? function(a3) {
  return typeof a3 == "function" || a3 === Jr;
} : function(a3) {
  return typeof a3 == "function";
};
var jl = B;
var ae = function(a3) {
  return typeof a3 == "object" ? a3 !== null : jl(a3);
};
var ea = _;
var Fl = B;
var Ul = function(a3) {
  return Fl(a3) ? a3 : void 0;
};
var Fe = function(a3, e) {
  return arguments.length < 2 ? Ul(ea[a3]) : ea[a3] && ea[a3][e];
};
var Gl = L;
var Tr = Gl({}.isPrototypeOf);
var zl = _;
var gn = zl.navigator;
var dn = gn && gn.userAgent;
var wt = dn ? String(dn) : "";
var jo = _;
var ta = wt;
var pn = jo.process;
var yn = jo.Deno;
var mn = pn && pn.versions || yn && yn.version;
var bn = mn && mn.v8;
var le;
var cr;
bn && (le = bn.split("."), cr = le[0] > 0 && le[0] < 4 ? 1 : +(le[0] + le[1]));
!cr && ta && (le = ta.match(/Edge\/(\d+)/), (!le || le[1] >= 74) && (le = ta.match(/Chrome\/(\d+)/), le && (cr = +le[1])));
var Ti = cr;
var xn = Ti;
var Hl = D;
var Yl = _;
var Xl = Yl.String;
var Fo = !!Object.getOwnPropertySymbols && !Hl(function() {
  var a3 = Symbol("symbol detection");
  return !Xl(a3) || !(Object(a3) instanceof Symbol) || // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances
  !Symbol.sham && xn && xn < 41;
});
var Wl = Fo;
var Uo = Wl && !Symbol.sham && typeof Symbol.iterator == "symbol";
var ql = Fe;
var Ql = B;
var Kl = Tr;
var Zl = Uo;
var Jl = Object;
var Go = Zl ? function(a3) {
  return typeof a3 == "symbol";
} : function(a3) {
  var e = ql("Symbol");
  return Ql(e) && Kl(e.prototype, Jl(a3));
};
var eh = String;
var Or = function(a3) {
  try {
    return eh(a3);
  } catch {
    return "Object";
  }
};
var th = B;
var rh = Or;
var ah = TypeError;
var Te = function(a3) {
  if (th(a3)) return a3;
  throw new ah(rh(a3) + " is not a function");
};
var ih = Te;
var nh = xr;
var st = function(a3, e) {
  var t = a3[e];
  return nh(t) ? void 0 : ih(t);
};
var ra = Y;
var aa = B;
var ia = ae;
var sh = TypeError;
var oh = function(a3, e) {
  var t, r;
  if (e === "string" && aa(t = a3.toString) && !ia(r = ra(t, a3)) || aa(t = a3.valueOf) && !ia(r = ra(t, a3)) || e !== "string" && aa(t = a3.toString) && !ia(r = ra(t, a3))) return r;
  throw new sh("Can't convert object to primitive value");
};
var zo = { exports: {} };
var Tn = _;
var uh = Object.defineProperty;
var Oi = function(a3, e) {
  try {
    uh(Tn, a3, { value: e, configurable: true, writable: true });
  } catch {
    Tn[a3] = e;
  }
  return e;
};
var lh = _;
var hh = Oi;
var On = "__core-js_shared__";
var Sn = zo.exports = lh[On] || hh(On, {});
(Sn.versions || (Sn.versions = [])).push({
  version: "3.45.0",
  mode: "global",
  copyright: "Â© 2014-2025 Denis Pushkarev (zloirock.ru)",
  license: "https://github.com/zloirock/core-js/blob/v3.45.0/LICENSE",
  source: "https://github.com/zloirock/core-js"
});
var Si = zo.exports;
var En = Si;
var Ei = function(a3, e) {
  return En[a3] || (En[a3] = e || {});
};
var vh = ve;
var fh = Object;
var Sr = function(a3) {
  return fh(vh(a3));
};
var ch = L;
var gh = Sr;
var dh = ch({}.hasOwnProperty);
var fe = Object.hasOwn || function(e, t) {
  return dh(gh(e), t);
};
var ph = L;
var yh = 0;
var mh = Math.random();
var bh = ph(1.1.toString);
var Ho = function(a3) {
  return "Symbol(" + (a3 === void 0 ? "" : a3) + ")_" + bh(++yh + mh, 36);
};
var xh = _;
var Th = Ei;
var $n = fe;
var Oh = Ho;
var Sh = Fo;
var Eh = Uo;
var Ke = xh.Symbol;
var na = Th("wks");
var $h = Eh ? Ke.for || Ke : Ke && Ke.withoutSetter || Oh;
var z = function(a3) {
  return $n(na, a3) || (na[a3] = Sh && $n(Ke, a3) ? Ke[a3] : $h("Symbol." + a3)), na[a3];
};
var wh = Y;
var wn = ae;
var Cn = Go;
var Ch = st;
var Ah = oh;
var Ph = z;
var Rh = TypeError;
var Nh = Ph("toPrimitive");
var Ih = function(a3, e) {
  if (!wn(a3) || Cn(a3)) return a3;
  var t = Ch(a3, Nh), r;
  if (t) {
    if (e === void 0 && (e = "default"), r = wh(t, a3, e), !wn(r) || Cn(r)) return r;
    throw new Rh("Can't convert object to primitive value");
  }
  return e === void 0 && (e = "number"), Ah(a3, e);
};
var Mh = Ih;
var _h = Go;
var Yo = function(a3) {
  var e = Mh(a3, "string");
  return _h(e) ? e : e + "";
};
var Vh = _;
var An = ae;
var Ya = Vh.document;
var Dh = An(Ya) && An(Ya.createElement);
var Er = function(a3) {
  return Dh ? Ya.createElement(a3) : {};
};
var Lh = he;
var kh = D;
var Bh = Er;
var Xo = !Lh && !kh(function() {
  return Object.defineProperty(Bh("div"), "a", {
    get: function() {
      return 7;
    }
  }).a !== 7;
});
var jh = he;
var Fh = Y;
var Uh = Mo;
var Gh = xi;
var zh = $t;
var Hh = Yo;
var Yh = fe;
var Xh = Xo;
var Pn = Object.getOwnPropertyDescriptor;
Et.f = jh ? Pn : function(e, t) {
  if (e = zh(e), t = Hh(t), Xh) try {
    return Pn(e, t);
  } catch {
  }
  if (Yh(e, t)) return Gh(!Fh(Uh.f, e, t), e[t]);
};
var Oe = {};
var Wh = he;
var qh = D;
var Wo = Wh && qh(function() {
  return Object.defineProperty(function() {
  }, "prototype", {
    value: 42,
    writable: false
  }).prototype !== 42;
});
var Qh = ae;
var Kh = String;
var Zh = TypeError;
var J = function(a3) {
  if (Qh(a3)) return a3;
  throw new Zh(Kh(a3) + " is not an object");
};
var Jh = he;
var ev = Xo;
var tv = Wo;
var Ut = J;
var Rn = Yo;
var rv = TypeError;
var sa = Object.defineProperty;
var av = Object.getOwnPropertyDescriptor;
var oa = "enumerable";
var ua = "configurable";
var la = "writable";
Oe.f = Jh ? tv ? function(e, t, r) {
  if (Ut(e), t = Rn(t), Ut(r), typeof e == "function" && t === "prototype" && "value" in r && la in r && !r[la]) {
    var i = av(e, t);
    i && i[la] && (e[t] = r.value, r = {
      configurable: ua in r ? r[ua] : i[ua],
      enumerable: oa in r ? r[oa] : i[oa],
      writable: false
    });
  }
  return sa(e, t, r);
} : sa : function(e, t, r) {
  if (Ut(e), t = Rn(t), Ut(r), ev) try {
    return sa(e, t, r);
  } catch {
  }
  if ("get" in r || "set" in r) throw new rv("Accessors not supported");
  return "value" in r && (e[t] = r.value), e;
};
var iv = he;
var nv = Oe;
var sv = xi;
var Ct = iv ? function(a3, e, t) {
  return nv.f(a3, e, sv(1, t));
} : function(a3, e, t) {
  return a3[e] = t, a3;
};
var qo = { exports: {} };
var Xa = he;
var ov = fe;
var Qo = Function.prototype;
var uv = Xa && Object.getOwnPropertyDescriptor;
var Ko = ov(Qo, "name");
var lv = Ko && (function() {
}).name === "something";
var hv = Ko && (!Xa || Xa && uv(Qo, "name").configurable);
var $r = {
  PROPER: lv,
  CONFIGURABLE: hv
};
var vv = L;
var fv = B;
var Wa = Si;
var cv = vv(Function.toString);
fv(Wa.inspectSource) || (Wa.inspectSource = function(a3) {
  return cv(a3);
});
var $i = Wa.inspectSource;
var gv = _;
var dv = B;
var Nn = gv.WeakMap;
var pv = dv(Nn) && /native code/.test(String(Nn));
var yv = Ei;
var mv = Ho;
var In = yv("keys");
var wi = function(a3) {
  return In[a3] || (In[a3] = mv(a3));
};
var Ci = {};
var bv = pv;
var Zo = _;
var xv = ae;
var Tv = Ct;
var ha = fe;
var va = Si;
var Ov = wi;
var Sv = Ci;
var Mn = "Object already initialized";
var qa = Zo.TypeError;
var Ev = Zo.WeakMap;
var gr;
var Tt;
var dr;
var $v = function(a3) {
  return dr(a3) ? Tt(a3) : gr(a3, {});
};
var wv = function(a3) {
  return function(e) {
    var t;
    if (!xv(e) || (t = Tt(e)).type !== a3)
      throw new qa("Incompatible receiver, " + a3 + " required");
    return t;
  };
};
if (bv || va.state) {
  de = va.state || (va.state = new Ev());
  de.get = de.get, de.has = de.has, de.set = de.set, gr = function(a3, e) {
    if (de.has(a3)) throw new qa(Mn);
    return e.facade = a3, de.set(a3, e), e;
  }, Tt = function(a3) {
    return de.get(a3) || {};
  }, dr = function(a3) {
    return de.has(a3);
  };
} else {
  Ye = Ov("state");
  Sv[Ye] = true, gr = function(a3, e) {
    if (ha(a3, Ye)) throw new qa(Mn);
    return e.facade = a3, Tv(a3, Ye, e), e;
  }, Tt = function(a3) {
    return ha(a3, Ye) ? a3[Ye] : {};
  }, dr = function(a3) {
    return ha(a3, Ye);
  };
}
var de;
var Ye;
var wr = {
  set: gr,
  get: Tt,
  has: dr,
  enforce: $v,
  getterFor: wv
};
var Ai = L;
var Cv = D;
var Av = B;
var Gt = fe;
var Qa = he;
var Pv = $r.CONFIGURABLE;
var Rv = $i;
var Jo = wr;
var Nv = Jo.enforce;
var Iv = Jo.get;
var _n = String;
var or = Object.defineProperty;
var Mv = Ai("".slice);
var _v = Ai("".replace);
var Vv = Ai([].join);
var Dv = Qa && !Cv(function() {
  return or(function() {
  }, "length", { value: 8 }).length !== 8;
});
var Lv = String(String).split("String");
var kv = qo.exports = function(a3, e, t) {
  Mv(_n(e), 0, 7) === "Symbol(" && (e = "[" + _v(_n(e), /^Symbol\(([^)]*)\).*$/, "$1") + "]"), t && t.getter && (e = "get " + e), t && t.setter && (e = "set " + e), (!Gt(a3, "name") || Pv && a3.name !== e) && (Qa ? or(a3, "name", { value: e, configurable: true }) : a3.name = e), Dv && t && Gt(t, "arity") && a3.length !== t.arity && or(a3, "length", { value: t.arity });
  try {
    t && Gt(t, "constructor") && t.constructor ? Qa && or(a3, "prototype", { writable: false }) : a3.prototype && (a3.prototype = void 0);
  } catch {
  }
  var r = Nv(a3);
  return Gt(r, "source") || (r.source = Vv(Lv, typeof e == "string" ? e : "")), a3;
};
Function.prototype.toString = kv(function() {
  return Av(this) && Iv(this).source || Rv(this);
}, "toString");
var eu = qo.exports;
var Bv = B;
var jv = Oe;
var Fv = eu;
var Uv = Oi;
var Ue = function(a3, e, t, r) {
  r || (r = {});
  var i = r.enumerable, n = r.name !== void 0 ? r.name : e;
  if (Bv(t) && Fv(t, n, r), r.global)
    i ? a3[e] = t : Uv(e, t);
  else {
    try {
      r.unsafe ? a3[e] && (i = true) : delete a3[e];
    } catch {
    }
    i ? a3[e] = t : jv.f(a3, e, {
      value: t,
      enumerable: false,
      configurable: !r.nonConfigurable,
      writable: !r.nonWritable
    });
  }
  return a3;
};
var tu = {};
var Gv = Math.ceil;
var zv = Math.floor;
var Hv = Math.trunc || function(e) {
  var t = +e;
  return (t > 0 ? zv : Gv)(t);
};
var Yv = Hv;
var Cr = function(a3) {
  var e = +a3;
  return e !== e || e === 0 ? 0 : Yv(e);
};
var Xv = Cr;
var Wv = Math.max;
var qv = Math.min;
var Qv = function(a3, e) {
  var t = Xv(a3);
  return t < 0 ? Wv(t + e, 0) : qv(t, e);
};
var Kv = Cr;
var Zv = Math.min;
var ot = function(a3) {
  var e = Kv(a3);
  return e > 0 ? Zv(e, 9007199254740991) : 0;
};
var Jv = ot;
var Pi = function(a3) {
  return Jv(a3.length);
};
var ef = $t;
var tf = Qv;
var rf = Pi;
var af = function(a3) {
  return function(e, t, r) {
    var i = ef(e), n = rf(i);
    if (n === 0) return !a3 && -1;
    var o = tf(r, n), s;
    if (a3 && t !== t) {
      for (; n > o; )
        if (s = i[o++], s !== s) return true;
    } else for (; n > o; o++)
      if ((a3 || o in i) && i[o] === t) return a3 || o || 0;
    return !a3 && -1;
  };
};
var ru = {
  // `Array.prototype.indexOf` method
  // https://tc39.es/ecma262/#sec-array.prototype.indexof
  indexOf: af(false)
};
var nf = L;
var fa = fe;
var sf = $t;
var of = ru.indexOf;
var uf = Ci;
var Vn = nf([].push);
var au = function(a3, e) {
  var t = sf(a3), r = 0, i = [], n;
  for (n in t) !fa(uf, n) && fa(t, n) && Vn(i, n);
  for (; e.length > r; ) fa(t, n = e[r++]) && (~of(i, n) || Vn(i, n));
  return i;
};
var Ri = [
  "constructor",
  "hasOwnProperty",
  "isPrototypeOf",
  "propertyIsEnumerable",
  "toLocaleString",
  "toString",
  "valueOf"
];
var lf = au;
var hf = Ri;
var vf = hf.concat("length", "prototype");
tu.f = Object.getOwnPropertyNames || function(e) {
  return lf(e, vf);
};
var iu = {};
iu.f = Object.getOwnPropertySymbols;
var ff = Fe;
var cf = L;
var gf = tu;
var df = iu;
var pf = J;
var yf = cf([].concat);
var mf = ff("Reflect", "ownKeys") || function(e) {
  var t = gf.f(pf(e)), r = df.f;
  return r ? yf(t, r(e)) : t;
};
var Dn = fe;
var bf = mf;
var xf = Et;
var Tf = Oe;
var Of = function(a3, e, t) {
  for (var r = bf(e), i = Tf.f, n = xf.f, o = 0; o < r.length; o++) {
    var s = r[o];
    !Dn(a3, s) && !(t && Dn(t, s)) && i(a3, s, n(e, s));
  }
};
var Sf = D;
var Ef = B;
var $f = /#|\.prototype\./;
var At = function(a3, e) {
  var t = Cf[wf(a3)];
  return t === Pf ? true : t === Af ? false : Ef(e) ? Sf(e) : !!e;
};
var wf = At.normalize = function(a3) {
  return String(a3).replace($f, ".").toLowerCase();
};
var Cf = At.data = {};
var Af = At.NATIVE = "N";
var Pf = At.POLYFILL = "P";
var nu = At;
var zt = _;
var Rf = Et.f;
var Nf = Ct;
var If = Ue;
var Mf = Oi;
var _f = Of;
var Vf = nu;
var ee = function(a3, e) {
  var t = a3.target, r = a3.global, i = a3.stat, n, o, s, u, l, h;
  if (r ? o = zt : i ? o = zt[t] || Mf(t, {}) : o = zt[t] && zt[t].prototype, o) for (s in e) {
    if (l = e[s], a3.dontCallGetSet ? (h = Rf(o, s), u = h && h.value) : u = o[s], n = Vf(r ? s : t + (i ? "." : "#") + s, a3.forced), !n && u !== void 0) {
      if (typeof l == typeof u) continue;
      _f(l, u);
    }
    (a3.sham || u && u.sham) && Nf(l, "sham", true), If(o, s, l, a3);
  }
};
var vt = _;
var Df = wt;
var Lf = je;
var Ht = function(a3) {
  return Df.slice(0, a3.length) === a3;
};
var su = (function() {
  return Ht("Bun/") ? "BUN" : Ht("Cloudflare-Workers") ? "CLOUDFLARE" : Ht("Deno/") ? "DENO" : Ht("Node.js/") ? "NODE" : vt.Bun && typeof Bun.version == "string" ? "BUN" : vt.Deno && typeof Deno.version == "object" ? "DENO" : Lf(vt.process) === "process" ? "NODE" : vt.window && vt.document ? "BROWSER" : "REST";
})();
var kf = su;
var Ar = kf === "NODE";
var Bf = _;
var jf = Bf;
var Ff = L;
var Uf = Te;
var Gf = function(a3, e, t) {
  try {
    return Ff(Uf(Object.getOwnPropertyDescriptor(a3, e)[t]));
  } catch {
  }
};
var zf = ae;
var Hf = function(a3) {
  return zf(a3) || a3 === null;
};
var Yf = Hf;
var Xf = String;
var Wf = TypeError;
var qf = function(a3) {
  if (Yf(a3)) return a3;
  throw new Wf("Can't set " + Xf(a3) + " as a prototype");
};
var Qf = Gf;
var Kf = ae;
var Zf = ve;
var Jf = qf;
var ou = Object.setPrototypeOf || ("__proto__" in {} ? (function() {
  var a3 = false, e = {}, t;
  try {
    t = Qf(Object.prototype, "__proto__", "set"), t(e, []), a3 = e instanceof Array;
  } catch {
  }
  return function(i, n) {
    return Zf(i), Jf(n), Kf(i) && (a3 ? t(i, n) : i.__proto__ = n), i;
  };
})() : void 0);
var ec = Oe.f;
var tc = fe;
var rc = z;
var Ln = rc("toStringTag");
var Pr = function(a3, e, t) {
  a3 && !t && (a3 = a3.prototype), a3 && !tc(a3, Ln) && ec(a3, Ln, { configurable: true, value: e });
};
var kn = eu;
var ac = Oe;
var ic = function(a3, e, t) {
  return t.get && kn(t.get, e, { getter: true }), t.set && kn(t.set, e, { setter: true }), ac.f(a3, e, t);
};
var nc = Fe;
var sc = ic;
var oc = z;
var uc = he;
var Bn = oc("species");
var lc = function(a3) {
  var e = nc(a3);
  uc && e && !e[Bn] && sc(e, Bn, {
    configurable: true,
    get: function() {
      return this;
    }
  });
};
var hc = Tr;
var vc = TypeError;
var fc = function(a3, e) {
  if (hc(e, a3)) return a3;
  throw new vc("Incorrect invocation");
};
var cc = z;
var gc = cc("toStringTag");
var uu = {};
uu[gc] = "z";
var dc = String(uu) === "[object z]";
var pc = dc;
var yc = B;
var ur = je;
var mc = z;
var bc = mc("toStringTag");
var xc = Object;
var Tc = ur(/* @__PURE__ */ (function() {
  return arguments;
})()) === "Arguments";
var Oc = function(a3, e) {
  try {
    return a3[e];
  } catch {
  }
};
var Ni = pc ? ur : function(a3) {
  var e, t, r;
  return a3 === void 0 ? "Undefined" : a3 === null ? "Null" : typeof (t = Oc(e = xc(a3), bc)) == "string" ? t : Tc ? ur(e) : (r = ur(e)) === "Object" && yc(e.callee) ? "Arguments" : r;
};
var Sc = L;
var Ec = D;
var lu = B;
var $c = Ni;
var wc = Fe;
var Cc = $i;
var hu = function() {
};
var vu = wc("Reflect", "construct");
var Ii = /^\s*(?:class|function)\b/;
var Ac = Sc(Ii.exec);
var Pc = !Ii.test(hu);
var ft = function(e) {
  if (!lu(e)) return false;
  try {
    return vu(hu, [], e), true;
  } catch {
    return false;
  }
};
var fu = function(e) {
  if (!lu(e)) return false;
  switch ($c(e)) {
    case "AsyncFunction":
    case "GeneratorFunction":
    case "AsyncGeneratorFunction":
      return false;
  }
  try {
    return Pc || !!Ac(Ii, Cc(e));
  } catch {
    return true;
  }
};
fu.sham = true;
var Rc = !vu || Ec(function() {
  var a3;
  return ft(ft.call) || !ft(Object) || !ft(function() {
    a3 = true;
  }) || a3;
}) ? fu : ft;
var Nc = Rc;
var Ic = Or;
var Mc = TypeError;
var _c = function(a3) {
  if (Nc(a3)) return a3;
  throw new Mc(Ic(a3) + " is not a constructor");
};
var jn = J;
var Vc = _c;
var Dc = xr;
var Lc = z;
var kc = Lc("species");
var cu = function(a3, e) {
  var t = jn(a3).constructor, r;
  return t === void 0 || Dc(r = jn(t)[kc]) ? e : Vc(r);
};
var Bc = br;
var gu = Function.prototype;
var Fn = gu.apply;
var Un = gu.call;
var du = typeof Reflect == "object" && Reflect.apply || (Bc ? Un.bind(Fn) : function() {
  return Un.apply(Fn, arguments);
});
var jc = je;
var Fc = L;
var Rr = function(a3) {
  if (jc(a3) === "Function") return Fc(a3);
};
var Gn = Rr;
var Uc = Te;
var Gc = br;
var zc = Gn(Gn.bind);
var Mi = function(a3, e) {
  return Uc(a3), e === void 0 ? a3 : Gc ? zc(a3, e) : function() {
    return a3.apply(e, arguments);
  };
};
var Hc = Fe;
var pu = Hc("document", "documentElement");
var Yc = L;
var Xc = Yc([].slice);
var Wc = TypeError;
var qc = function(a3, e) {
  if (a3 < e) throw new Wc("Not enough arguments");
  return a3;
};
var Qc = wt;
var yu = /(?:ipad|iphone|ipod).*applewebkit/i.test(Qc);
var ie = _;
var Kc = du;
var Zc = Mi;
var zn = B;
var Jc = fe;
var mu = D;
var Hn = pu;
var eg = Xc;
var Yn = Er;
var tg = qc;
var rg = yu;
var ag = Ar;
var Ka = ie.setImmediate;
var Xn = ie.clearImmediate;
var ig = ie.process;
var ca = ie.Dispatch;
var ng = ie.Function;
var Wn = ie.MessageChannel;
var sg = ie.String;
var ga = 0;
var bt = {};
var qn = "onreadystatechange";
var Ot;
var Ie;
var da;
var pa;
mu(function() {
  Ot = ie.location;
});
var _i = function(a3) {
  if (Jc(bt, a3)) {
    var e = bt[a3];
    delete bt[a3], e();
  }
};
var ya = function(a3) {
  return function() {
    _i(a3);
  };
};
var Qn = function(a3) {
  _i(a3.data);
};
var Kn = function(a3) {
  ie.postMessage(sg(a3), Ot.protocol + "//" + Ot.host);
};
(!Ka || !Xn) && (Ka = function(e) {
  tg(arguments.length, 1);
  var t = zn(e) ? e : ng(e), r = eg(arguments, 1);
  return bt[++ga] = function() {
    Kc(t, void 0, r);
  }, Ie(ga), ga;
}, Xn = function(e) {
  delete bt[e];
}, ag ? Ie = function(a3) {
  ig.nextTick(ya(a3));
} : ca && ca.now ? Ie = function(a3) {
  ca.now(ya(a3));
} : Wn && !rg ? (da = new Wn(), pa = da.port2, da.port1.onmessage = Qn, Ie = Zc(pa.postMessage, pa)) : ie.addEventListener && zn(ie.postMessage) && !ie.importScripts && Ot && Ot.protocol !== "file:" && !mu(Kn) ? (Ie = Kn, ie.addEventListener("message", Qn, false)) : qn in Yn("script") ? Ie = function(a3) {
  Hn.appendChild(Yn("script"))[qn] = function() {
    Hn.removeChild(this), _i(a3);
  };
} : Ie = function(a3) {
  setTimeout(ya(a3), 0);
});
var bu = {
  set: Ka
};
var Zn = _;
var og = he;
var ug = Object.getOwnPropertyDescriptor;
var lg = function(a3) {
  if (!og) return Zn[a3];
  var e = ug(Zn, a3);
  return e && e.value;
};
var xu = function() {
  this.head = null, this.tail = null;
};
xu.prototype = {
  add: function(a3) {
    var e = { item: a3, next: null }, t = this.tail;
    t ? t.next = e : this.head = e, this.tail = e;
  },
  get: function() {
    var a3 = this.head;
    if (a3) {
      var e = this.head = a3.next;
      return e === null && (this.tail = null), a3.item;
    }
  }
};
var Tu = xu;
var hg = wt;
var vg = /ipad|iphone|ipod/i.test(hg) && typeof Pebble < "u";
var fg = wt;
var cg = /web0s(?!.*chrome)/i.test(fg);
var at = _;
var gg = lg;
var Jn = Mi;
var ma = bu.set;
var dg = Tu;
var pg = yu;
var yg = vg;
var mg = cg;
var ba = Ar;
var es = at.MutationObserver || at.WebKitMutationObserver;
var ts = at.document;
var rs = at.process;
var Yt = at.Promise;
var Za = gg("queueMicrotask");
var Xe;
var xa;
var Ta;
var Xt;
var as;
if (!Za) {
  Wt = new dg(), qt = function() {
    var a3, e;
    for (ba && (a3 = rs.domain) && a3.exit(); e = Wt.get(); ) try {
      e();
    } catch (t) {
      throw Wt.head && Xe(), t;
    }
    a3 && a3.enter();
  };
  !pg && !ba && !mg && es && ts ? (xa = true, Ta = ts.createTextNode(""), new es(qt).observe(Ta, { characterData: true }), Xe = function() {
    Ta.data = xa = !xa;
  }) : !yg && Yt && Yt.resolve ? (Xt = Yt.resolve(void 0), Xt.constructor = Yt, as = Jn(Xt.then, Xt), Xe = function() {
    as(qt);
  }) : ba ? Xe = function() {
    rs.nextTick(qt);
  } : (ma = Jn(ma, at), Xe = function() {
    ma(qt);
  }), Za = function(a3) {
    Wt.head || Xe(), Wt.add(a3);
  };
}
var Wt;
var qt;
var bg = Za;
var xg = function(a3, e) {
  try {
    arguments.length === 1 ? console.error(a3) : console.error(a3, e);
  } catch {
  }
};
var Vi = function(a3) {
  try {
    return { error: false, value: a3() };
  } catch (e) {
    return { error: true, value: e };
  }
};
var Tg = _;
var Nr = Tg.Promise;
var Og = _;
var xt = Nr;
var Sg = B;
var Eg = nu;
var $g = $i;
var wg = z;
var is = su;
var Oa = Ti;
xt && xt.prototype;
var Cg = wg("species");
var Ja = false;
var Ou = Sg(Og.PromiseRejectionEvent);
var Ag = Eg("Promise", function() {
  var a3 = $g(xt), e = a3 !== String(xt);
  if (!e && Oa === 66) return true;
  if (!Oa || Oa < 51 || !/native code/.test(a3)) {
    var t = new xt(function(n) {
      n(1);
    }), r = function(n) {
      n(function() {
      }, function() {
      });
    }, i = t.constructor = {};
    if (i[Cg] = r, Ja = t.then(function() {
    }) instanceof r, !Ja) return true;
  }
  return !e && (is === "BROWSER" || is === "DENO") && !Ou;
});
var Pt = {
  CONSTRUCTOR: Ag,
  REJECTION_EVENT: Ou,
  SUBCLASSING: Ja
};
var ut = {};
var ns = Te;
var Pg = TypeError;
var Rg = function(a3) {
  var e, t;
  this.promise = new a3(function(r, i) {
    if (e !== void 0 || t !== void 0) throw new Pg("Bad Promise constructor");
    e = r, t = i;
  }), this.resolve = ns(e), this.reject = ns(t);
};
ut.f = function(a3) {
  return new Rg(a3);
};
var Ng = ee;
var pr = Ar;
var we = _;
var Ig = jf;
var it = Y;
var ss = Ue;
var os = ou;
var Mg = Pr;
var _g = lc;
var Vg = Te;
var lr = B;
var Dg = ae;
var Lg = fc;
var kg = cu;
var Su = bu.set;
var Di = bg;
var Bg = xg;
var jg = Vi;
var Fg = Tu;
var Eu = wr;
var yr = Nr;
var Li = Pt;
var $u = ut;
var Ir = "Promise";
var wu = Li.CONSTRUCTOR;
var Ug = Li.REJECTION_EVENT;
var Gg = Li.SUBCLASSING;
var Sa = Eu.getterFor(Ir);
var zg = Eu.set;
var qe = yr && yr.prototype;
var Le = yr;
var Qt = qe;
var Cu = we.TypeError;
var ei = we.document;
var ki = we.process;
var ti = $u.f;
var Hg = ti;
var Yg = !!(ei && ei.createEvent && we.dispatchEvent);
var Au = "unhandledrejection";
var Xg = "rejectionhandled";
var us = 0;
var Pu = 1;
var Wg = 2;
var Bi = 1;
var Ru = 2;
var Kt;
var ls;
var Nu;
var hs;
var Iu = function(a3) {
  var e;
  return Dg(a3) && lr(e = a3.then) ? e : false;
};
var Mu = function(a3, e) {
  var t = e.value, r = e.state === Pu, i = r ? a3.ok : a3.fail, n = a3.resolve, o = a3.reject, s = a3.domain, u, l, h;
  try {
    i ? (r || (e.rejection === Ru && Qg(e), e.rejection = Bi), i === true ? u = t : (s && s.enter(), u = i(t), s && (s.exit(), h = true)), u === a3.promise ? o(new Cu("Promise-chain cycle")) : (l = Iu(u)) ? it(l, u, n, o) : n(u)) : o(t);
  } catch (f) {
    s && !h && s.exit(), o(f);
  }
};
var _u = function(a3, e) {
  a3.notified || (a3.notified = true, Di(function() {
    for (var t = a3.reactions, r; r = t.get(); )
      Mu(r, a3);
    a3.notified = false, e && !a3.rejection && qg(a3);
  }));
};
var Vu = function(a3, e, t) {
  var r, i;
  Yg ? (r = ei.createEvent("Event"), r.promise = e, r.reason = t, r.initEvent(a3, false, true), we.dispatchEvent(r)) : r = { promise: e, reason: t }, !Ug && (i = we["on" + a3]) ? i(r) : a3 === Au && Bg("Unhandled promise rejection", t);
};
var qg = function(a3) {
  it(Su, we, function() {
    var e = a3.facade, t = a3.value, r = vs(a3), i;
    if (r && (i = jg(function() {
      pr ? ki.emit("unhandledRejection", t, e) : Vu(Au, e, t);
    }), a3.rejection = pr || vs(a3) ? Ru : Bi, i.error))
      throw i.value;
  });
};
var vs = function(a3) {
  return a3.rejection !== Bi && !a3.parent;
};
var Qg = function(a3) {
  it(Su, we, function() {
    var e = a3.facade;
    pr ? ki.emit("rejectionHandled", e) : Vu(Xg, e, a3.value);
  });
};
var Ze = function(a3, e, t) {
  return function(r) {
    a3(e, r, t);
  };
};
var et = function(a3, e, t) {
  a3.done || (a3.done = true, t && (a3 = t), a3.value = e, a3.state = Wg, _u(a3, true));
};
var ri = function(a3, e, t) {
  if (!a3.done) {
    a3.done = true, t && (a3 = t);
    try {
      if (a3.facade === e) throw new Cu("Promise can't be resolved itself");
      var r = Iu(e);
      r ? Di(function() {
        var i = { done: false };
        try {
          it(
            r,
            e,
            Ze(ri, i, a3),
            Ze(et, i, a3)
          );
        } catch (n) {
          et(i, n, a3);
        }
      }) : (a3.value = e, a3.state = Pu, _u(a3, false));
    } catch (i) {
      et({ done: false }, i, a3);
    }
  }
};
if (wu && (Le = function(e) {
  Lg(this, Qt), Vg(e), it(Kt, this);
  var t = Sa(this);
  try {
    e(Ze(ri, t), Ze(et, t));
  } catch (r) {
    et(t, r);
  }
}, Qt = Le.prototype, Kt = function(e) {
  zg(this, {
    type: Ir,
    done: false,
    notified: false,
    parent: false,
    reactions: new Fg(),
    rejection: false,
    state: us,
    value: null
  });
}, Kt.prototype = ss(Qt, "then", function(e, t) {
  var r = Sa(this), i = ti(kg(this, Le));
  return r.parent = true, i.ok = lr(e) ? e : true, i.fail = lr(t) && t, i.domain = pr ? ki.domain : void 0, r.state === us ? r.reactions.add(i) : Di(function() {
    Mu(i, r);
  }), i.promise;
}), ls = function() {
  var a3 = new Kt(), e = Sa(a3);
  this.promise = a3, this.resolve = Ze(ri, e), this.reject = Ze(et, e);
}, $u.f = ti = function(a3) {
  return a3 === Le || a3 === Nu ? new ls(a3) : Hg(a3);
}, lr(yr) && qe !== Object.prototype)) {
  hs = qe.then, Gg || ss(qe, "then", function(e, t) {
    var r = this;
    return new Le(function(i, n) {
      it(hs, r, i, n);
    }).then(e, t);
  }, { unsafe: true });
  try {
    delete qe.constructor;
  } catch {
  }
  os && os(qe, Qt);
}
Ng({ global: true, constructor: true, wrap: true, forced: wu }, {
  Promise: Le
});
Nu = Ig.Promise;
Mg(Le, Ir, false);
_g(Ir);
var Rt = {};
var Kg = z;
var Zg = Rt;
var Jg = Kg("iterator");
var ed = Array.prototype;
var td = function(a3) {
  return a3 !== void 0 && (Zg.Array === a3 || ed[Jg] === a3);
};
var rd = Ni;
var fs = st;
var ad = xr;
var id = Rt;
var nd = z;
var sd = nd("iterator");
var Du = function(a3) {
  if (!ad(a3)) return fs(a3, sd) || fs(a3, "@@iterator") || id[rd(a3)];
};
var od = Y;
var ud = Te;
var ld = J;
var hd = Or;
var vd = Du;
var fd = TypeError;
var cd = function(a3, e) {
  var t = arguments.length < 2 ? vd(a3) : e;
  if (ud(t)) return ld(od(t, a3));
  throw new fd(hd(a3) + " is not iterable");
};
var gd = Y;
var cs = J;
var dd = st;
var pd = function(a3, e, t) {
  var r, i;
  cs(a3);
  try {
    if (r = dd(a3, "return"), !r) {
      if (e === "throw") throw t;
      return t;
    }
    r = gd(r, a3);
  } catch (n) {
    i = true, r = n;
  }
  if (e === "throw") throw t;
  if (i) throw r;
  return cs(r), t;
};
var yd = Mi;
var md = Y;
var bd = J;
var xd = Or;
var Td = td;
var Od = Pi;
var gs = Tr;
var Sd = cd;
var Ed = Du;
var ds = pd;
var $d = TypeError;
var hr = function(a3, e) {
  this.stopped = a3, this.result = e;
};
var ps = hr.prototype;
var Lu = function(a3, e, t) {
  var r = t && t.that, i = !!(t && t.AS_ENTRIES), n = !!(t && t.IS_RECORD), o = !!(t && t.IS_ITERATOR), s = !!(t && t.INTERRUPTED), u = yd(e, r), l, h, f, c, v, g, d, p = function(x) {
    return l && ds(l, "normal"), new hr(true, x);
  }, y = function(x) {
    return i ? (bd(x), s ? u(x[0], x[1], p) : u(x[0], x[1])) : s ? u(x, p) : u(x);
  };
  if (n)
    l = a3.iterator;
  else if (o)
    l = a3;
  else {
    if (h = Ed(a3), !h) throw new $d(xd(a3) + " is not iterable");
    if (Td(h)) {
      for (f = 0, c = Od(a3); c > f; f++)
        if (v = y(a3[f]), v && gs(ps, v)) return v;
      return new hr(false);
    }
    l = Sd(a3, h);
  }
  for (g = n ? a3.next : l.next; !(d = md(g, l)).done; ) {
    try {
      v = y(d.value);
    } catch (x) {
      ds(l, "throw", x);
    }
    if (typeof v == "object" && v && gs(ps, v)) return v;
  }
  return new hr(false);
};
var wd = z;
var ku = wd("iterator");
var Bu = false;
try {
  Cd = 0, ys = {
    next: function() {
      return { done: !!Cd++ };
    },
    return: function() {
      Bu = true;
    }
  };
  ys[ku] = function() {
    return this;
  }, Array.from(ys, function() {
    throw 2;
  });
} catch {
}
var Cd;
var ys;
var Ad = function(a3, e) {
  try {
    if (!e && !Bu) return false;
  } catch {
    return false;
  }
  var t = false;
  try {
    var r = {};
    r[ku] = function() {
      return {
        next: function() {
          return { done: t = true };
        }
      };
    }, a3(r);
  } catch {
  }
  return t;
};
var Pd = Nr;
var Rd = Ad;
var Nd = Pt.CONSTRUCTOR;
var ju = Nd || !Rd(function(a3) {
  Pd.all(a3).then(void 0, function() {
  });
});
var Id = ee;
var Md = Y;
var _d = Te;
var Vd = ut;
var Dd = Vi;
var Ld = Lu;
var kd = ju;
Id({ target: "Promise", stat: true, forced: kd }, {
  all: function(e) {
    var t = this, r = Vd.f(t), i = r.resolve, n = r.reject, o = Dd(function() {
      var s = _d(t.resolve), u = [], l = 0, h = 1;
      Ld(e, function(f) {
        var c = l++, v = false;
        h++, Md(s, t, f).then(function(g) {
          v || (v = true, u[c] = g, --h || i(u));
        }, n);
      }), --h || i(u);
    });
    return o.error && n(o.value), r.promise;
  }
});
var Bd = ee;
var jd = Pt.CONSTRUCTOR;
var ai = Nr;
var Fd = Fe;
var Ud = B;
var Gd = Ue;
var ms = ai && ai.prototype;
Bd({ target: "Promise", proto: true, forced: jd, real: true }, {
  catch: function(a3) {
    return this.then(void 0, a3);
  }
});
if (Ud(ai)) {
  bs = Fd("Promise").prototype.catch;
  ms.catch !== bs && Gd(ms, "catch", bs, { unsafe: true });
}
var bs;
var zd = ee;
var Hd = Y;
var Yd = Te;
var Xd = ut;
var Wd = Vi;
var qd = Lu;
var Qd = ju;
zd({ target: "Promise", stat: true, forced: Qd }, {
  race: function(e) {
    var t = this, r = Xd.f(t), i = r.reject, n = Wd(function() {
      var o = Yd(t.resolve);
      qd(e, function(s) {
        Hd(o, t, s).then(r.resolve, i);
      });
    });
    return n.error && i(n.value), r.promise;
  }
});
var Kd = ee;
var Zd = ut;
var Jd = Pt.CONSTRUCTOR;
Kd({ target: "Promise", stat: true, forced: Jd }, {
  reject: function(e) {
    var t = Zd.f(this), r = t.reject;
    return r(e), t.promise;
  }
});
var ep = J;
var tp = ae;
var rp = ut;
var ap = function(a3, e) {
  if (ep(a3), tp(e) && e.constructor === a3) return e;
  var t = rp.f(a3), r = t.resolve;
  return r(e), t.promise;
};
var ip = ee;
var np = Fe;
var sp = Pt.CONSTRUCTOR;
var op = ap;
np("Promise");
ip({ target: "Promise", stat: true, forced: sp }, {
  resolve: function(e) {
    return op(this, e);
  }
});
function xs(a3, e, t, r, i, n, o) {
  try {
    var s = a3[n](o), u = s.value;
  } catch (l) {
    return void t(l);
  }
  s.done ? e(u) : Promise.resolve(u).then(r, i);
}
function xe(a3) {
  return function() {
    var e = this, t = arguments;
    return new Promise(function(r, i) {
      var n = a3.apply(e, t);
      function o(u) {
        xs(n, r, i, o, s, "next", u);
      }
      function s(u) {
        xs(n, r, i, o, s, "throw", u);
      }
      o(void 0);
    });
  };
}
var up = Ni;
var lp = String;
var pe = function(a3) {
  if (up(a3) === "Symbol") throw new TypeError("Cannot convert a Symbol value to a string");
  return lp(a3);
};
var hp = J;
var Fu = function() {
  var a3 = hp(this), e = "";
  return a3.hasIndices && (e += "d"), a3.global && (e += "g"), a3.ignoreCase && (e += "i"), a3.multiline && (e += "m"), a3.dotAll && (e += "s"), a3.unicode && (e += "u"), a3.unicodeSets && (e += "v"), a3.sticky && (e += "y"), e;
};
var ji = D;
var vp = _;
var Fi = vp.RegExp;
var Ui = ji(function() {
  var a3 = Fi("a", "y");
  return a3.lastIndex = 2, a3.exec("abcd") !== null;
});
Ui || ji(function() {
  return !Fi("a", "y").sticky;
});
var fp = Ui || ji(function() {
  var a3 = Fi("^r", "gy");
  return a3.lastIndex = 2, a3.exec("str") !== null;
});
var Uu = {
  BROKEN_CARET: fp,
  UNSUPPORTED_Y: Ui
};
var Gu = {};
var cp = au;
var gp = Ri;
var dp = Object.keys || function(e) {
  return cp(e, gp);
};
var pp = he;
var yp = Wo;
var mp = Oe;
var bp = J;
var xp = $t;
var Tp = dp;
Gu.f = pp && !yp ? Object.defineProperties : function(e, t) {
  bp(e);
  for (var r = xp(t), i = Tp(t), n = i.length, o = 0, s; n > o; ) mp.f(e, s = i[o++], r[s]);
  return e;
};
var Op = J;
var Sp = Gu;
var Ts = Ri;
var Ep = Ci;
var $p = pu;
var wp = Er;
var Cp = wi;
var Os = ">";
var Ss = "<";
var ii = "prototype";
var ni = "script";
var zu = Cp("IE_PROTO");
var Ea = function() {
};
var Hu = function(a3) {
  return Ss + ni + Os + a3 + Ss + "/" + ni + Os;
};
var Es = function(a3) {
  a3.write(Hu("")), a3.close();
  var e = a3.parentWindow.Object;
  return a3 = null, e;
};
var Ap = function() {
  var a3 = wp("iframe"), e = "java" + ni + ":", t;
  return a3.style.display = "none", $p.appendChild(a3), a3.src = String(e), t = a3.contentWindow.document, t.open(), t.write(Hu("document.F=Object")), t.close(), t.F;
};
var Zt;
var vr = function() {
  try {
    Zt = new ActiveXObject("htmlfile");
  } catch {
  }
  vr = typeof document < "u" ? document.domain && Zt ? Es(Zt) : Ap() : Es(Zt);
  for (var a3 = Ts.length; a3--; ) delete vr[ii][Ts[a3]];
  return vr();
};
Ep[zu] = true;
var Gi = Object.create || function(e, t) {
  var r;
  return e !== null ? (Ea[ii] = Op(e), r = new Ea(), Ea[ii] = null, r[zu] = e) : r = vr(), t === void 0 ? r : Sp.f(r, t);
};
var Pp = D;
var Rp = _;
var Np = Rp.RegExp;
var Ip = Pp(function() {
  var a3 = Np(".", "s");
  return !(a3.dotAll && a3.test(`
`) && a3.flags === "s");
});
var Mp = D;
var _p = _;
var Vp = _p.RegExp;
var Dp = Mp(function() {
  var a3 = Vp("(?<a>b)", "g");
  return a3.exec("b").groups.a !== "b" || "b".replace(a3, "$<a>c") !== "bc";
});
var Je = Y;
var Mr = L;
var Lp = pe;
var kp = Fu;
var Bp = Uu;
var jp = Ei;
var Fp = Gi;
var Up = wr.get;
var Gp = Ip;
var zp = Dp;
var Hp = jp("native-string-replace", String.prototype.replace);
var mr = RegExp.prototype.exec;
var si = mr;
var Yp = Mr("".charAt);
var Xp = Mr("".indexOf);
var Wp = Mr("".replace);
var $a = Mr("".slice);
var oi = (function() {
  var a3 = /a/, e = /b*/g;
  return Je(mr, a3, "a"), Je(mr, e, "a"), a3.lastIndex !== 0 || e.lastIndex !== 0;
})();
var Yu = Bp.BROKEN_CARET;
var ui = /()??/.exec("")[1] !== void 0;
var qp = oi || ui || Yu || Gp || zp;
qp && (si = function(e) {
  var t = this, r = Up(t), i = Lp(e), n = r.raw, o, s, u, l, h, f, c;
  if (n)
    return n.lastIndex = t.lastIndex, o = Je(si, n, i), t.lastIndex = n.lastIndex, o;
  var v = r.groups, g = Yu && t.sticky, d = Je(kp, t), p = t.source, y = 0, x = i;
  if (g && (d = Wp(d, "y", ""), Xp(d, "g") === -1 && (d += "g"), x = $a(i, t.lastIndex), t.lastIndex > 0 && (!t.multiline || t.multiline && Yp(i, t.lastIndex - 1) !== `
`) && (p = "(?: " + p + ")", x = " " + x, y++), s = new RegExp("^(?:" + p + ")", d)), ui && (s = new RegExp("^" + p + "$(?!\\s)", d)), oi && (u = t.lastIndex), l = Je(mr, g ? s : t, x), g ? l ? (l.input = $a(l.input, y), l[0] = $a(l[0], y), l.index = t.lastIndex, t.lastIndex += l[0].length) : t.lastIndex = 0 : oi && l && (t.lastIndex = t.global ? l.index + l[0].length : u), ui && l && l.length > 1 && Je(Hp, l[0], s, function() {
    for (h = 1; h < arguments.length - 2; h++)
      arguments[h] === void 0 && (l[h] = void 0);
  }), l && v)
    for (l.groups = f = Fp(null), h = 0; h < v.length; h++)
      c = v[h], f[c[0]] = l[c[1]];
  return l;
});
var zi = si;
var Qp = ee;
var $s = zi;
Qp({ target: "RegExp", proto: true, forced: /./.exec !== $s }, {
  exec: $s
});
var ws = Y;
var Cs = Ue;
var Kp = zi;
var As = D;
var Xu = z;
var Zp = Ct;
var Jp = Xu("species");
var wa = RegExp.prototype;
var Hi = function(a3, e, t, r) {
  var i = Xu(a3), n = !As(function() {
    var l = {};
    return l[i] = function() {
      return 7;
    }, ""[a3](l) !== 7;
  }), o = n && !As(function() {
    var l = false, h = /a/;
    return a3 === "split" && (h = {}, h.constructor = {}, h.constructor[Jp] = function() {
      return h;
    }, h.flags = "", h[i] = /./[i]), h.exec = function() {
      return l = true, null;
    }, h[i](""), !l;
  });
  if (!n || !o || t) {
    var s = /./[i], u = e(i, ""[a3], function(l, h, f, c, v) {
      var g = h.exec;
      return g === Kp || g === wa.exec ? n && !v ? { done: true, value: ws(s, h, f, c) } : { done: true, value: ws(l, f, h, c) } : { done: false };
    });
    Cs(String.prototype, a3, u[0]), Cs(wa, i, u[1]);
  }
  r && Zp(wa[i], "sham", true);
};
var Yi = L;
var ey = Cr;
var ty = pe;
var ry = ve;
var ay = Yi("".charAt);
var Ps = Yi("".charCodeAt);
var iy = Yi("".slice);
var ny = function(a3) {
  return function(e, t) {
    var r = ty(ry(e)), i = ey(t), n = r.length, o, s;
    return i < 0 || i >= n ? a3 ? "" : void 0 : (o = Ps(r, i), o < 55296 || o > 56319 || i + 1 === n || (s = Ps(r, i + 1)) < 56320 || s > 57343 ? a3 ? ay(r, i) : o : a3 ? iy(r, i, i + 2) : (o - 55296 << 10) + (s - 56320) + 65536);
  };
};
var sy = {
  // `String.prototype.at` method
  // https://github.com/mathiasbynens/String.prototype.at
  charAt: ny(true)
};
var oy = sy.charAt;
var Xi = function(a3, e, t) {
  return e + (t ? oy(a3, e).length : 1);
};
var uy = _;
var ly = D;
var Rs = uy.RegExp;
var hy = !ly(function() {
  var a3 = true;
  try {
    Rs(".", "d");
  } catch {
    a3 = false;
  }
  var e = {}, t = "", r = a3 ? "dgimsy" : "gimsy", i = function(u, l) {
    Object.defineProperty(e, u, { get: function() {
      return t += l, true;
    } });
  }, n = {
    dotAll: "s",
    global: "g",
    ignoreCase: "i",
    multiline: "m",
    sticky: "y"
  };
  a3 && (n.hasIndices = "d");
  for (var o in n) i(o, n[o]);
  var s = Object.getOwnPropertyDescriptor(Rs.prototype, "flags").get.call(e);
  return s !== r || t !== r;
});
var vy = { correct: hy };
var fy = Y;
var cy = fe;
var gy = Tr;
var Ns = vy;
var dy = Fu;
var py = RegExp.prototype;
var Wi = Ns.correct ? function(a3) {
  return a3.flags;
} : function(a3) {
  return !Ns.correct && gy(py, a3) && !cy(a3, "flags") ? fy(dy, a3) : a3.flags;
};
var Is = Y;
var yy = J;
var my = B;
var by = je;
var xy = zi;
var Ty = TypeError;
var qi = function(a3, e) {
  var t = a3.exec;
  if (my(t)) {
    var r = Is(t, a3, e);
    return r !== null && yy(r), r;
  }
  if (by(a3) === "RegExp") return Is(xy, a3, e);
  throw new Ty("RegExp#exec called on incompatible receiver");
};
var Oy = Y;
var Sy = L;
var Ey = Hi;
var $y = J;
var wy = ae;
var Cy = ot;
var Jt = pe;
var Ay = ve;
var Py = st;
var Ry = Xi;
var Ny = Wi;
var Ms = qi;
var _s = Sy("".indexOf);
Ey("match", function(a3, e, t) {
  return [
    // `String.prototype.match` method
    // https://tc39.es/ecma262/#sec-string.prototype.match
    function(i) {
      var n = Ay(this), o = wy(i) ? Py(i, a3) : void 0;
      return o ? Oy(o, i, n) : new RegExp(i)[a3](Jt(n));
    },
    // `RegExp.prototype[@@match]` method
    // https://tc39.es/ecma262/#sec-regexp.prototype-@@match
    function(r) {
      var i = $y(this), n = Jt(r), o = t(e, i, n);
      if (o.done) return o.value;
      var s = Jt(Ny(i));
      if (_s(s, "g") === -1) return Ms(i, n);
      var u = _s(s, "u") !== -1;
      i.lastIndex = 0;
      for (var l = [], h = 0, f; (f = Ms(i, n)) !== null; ) {
        var c = Jt(f[0]);
        l[h] = c, c === "" && (i.lastIndex = Ry(n, Cy(i.lastIndex), u)), h++;
      }
      return h === 0 ? null : l;
    }
  ];
});
var Qi = L;
var Iy = Sr;
var My = Math.floor;
var Ca = Qi("".charAt);
var _y = Qi("".replace);
var Aa = Qi("".slice);
var Vy = /\$([$&'`]|\d{1,2}|<[^>]*>)/g;
var Dy = /\$([$&'`]|\d{1,2})/g;
var Ly = function(a3, e, t, r, i, n) {
  var o = t + a3.length, s = r.length, u = Dy;
  return i !== void 0 && (i = Iy(i), u = Vy), _y(n, u, function(l, h) {
    var f;
    switch (Ca(h, 0)) {
      case "$":
        return "$";
      case "&":
        return a3;
      case "`":
        return Aa(e, 0, t);
      case "'":
        return Aa(e, o);
      case "<":
        f = i[Aa(h, 1, -1)];
        break;
      default:
        var c = +h;
        if (c === 0) return l;
        if (c > s) {
          var v = My(c / 10);
          return v === 0 ? l : v <= s ? r[v - 1] === void 0 ? Ca(h, 1) : r[v - 1] + Ca(h, 1) : l;
        }
        f = r[c - 1];
    }
    return f === void 0 ? "" : f;
  });
};
var ky = du;
var Vs = Y;
var _r = L;
var By = Hi;
var jy = D;
var Fy = J;
var Uy = B;
var Gy = ae;
var zy = Cr;
var Hy = ot;
var Me = pe;
var Yy = ve;
var Xy = Xi;
var Wy = st;
var qy = Ly;
var Qy = Wi;
var Ky = qi;
var Zy = z;
var li = Zy("replace");
var Jy = Math.max;
var em = Math.min;
var tm = _r([].concat);
var Pa = _r([].push);
var er = _r("".indexOf);
var Ds = _r("".slice);
var rm = function(a3) {
  return a3 === void 0 ? a3 : String(a3);
};
var am = (function() {
  return "a".replace(/./, "$0") === "$0";
})();
var Ls = (function() {
  return /./[li] ? /./[li]("a", "$0") === "" : false;
})();
var im = !jy(function() {
  var a3 = /./;
  return a3.exec = function() {
    var e = [];
    return e.groups = { a: "7" }, e;
  }, "".replace(a3, "$<a>") !== "7";
});
By("replace", function(a3, e, t) {
  var r = Ls ? "$" : "$0";
  return [
    // `String.prototype.replace` method
    // https://tc39.es/ecma262/#sec-string.prototype.replace
    function(n, o) {
      var s = Yy(this), u = Gy(n) ? Wy(n, li) : void 0;
      return u ? Vs(u, n, s, o) : Vs(e, Me(s), n, o);
    },
    // `RegExp.prototype[@@replace]` method
    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace
    function(i, n) {
      var o = Fy(this), s = Me(i);
      if (typeof n == "string" && er(n, r) === -1 && er(n, "$<") === -1) {
        var u = t(e, o, s, n);
        if (u.done) return u.value;
      }
      var l = Uy(n);
      l || (n = Me(n));
      var h = Me(Qy(o)), f = er(h, "g") !== -1, c;
      f && (c = er(h, "u") !== -1, o.lastIndex = 0);
      for (var v = [], g; g = Ky(o, s), !(g === null || (Pa(v, g), !f)); ) {
        var d = Me(g[0]);
        d === "" && (o.lastIndex = Xy(s, Hy(o.lastIndex), c));
      }
      for (var p = "", y = 0, x = 0; x < v.length; x++) {
        g = v[x];
        for (var b = Me(g[0]), T = Jy(em(zy(g.index), s.length), 0), $ = [], E, O = 1; O < g.length; O++) Pa($, rm(g[O]));
        var C = g.groups;
        if (l) {
          var P = tm([b], $, T, s);
          C !== void 0 && Pa(P, C), E = Me(ky(n, void 0, P));
        } else
          E = qy(b, s, T, $, C, n);
        T >= y && (p += Ds(s, y, T) + E, y = T + b.length);
      }
      return p + Ds(s, y);
    }
  ];
}, !im || !am || Ls);
var nm = ae;
var sm = je;
var om = z;
var um = om("match");
var lm = function(a3) {
  var e;
  return nm(a3) && ((e = a3[um]) !== void 0 ? !!e : sm(a3) === "RegExp");
};
var hm = lm;
var vm = TypeError;
var Ki = function(a3) {
  if (hm(a3))
    throw new vm("The method doesn't accept regular expressions");
  return a3;
};
var fm = z;
var cm = fm("match");
var Zi = function(a3) {
  var e = /./;
  try {
    "/./"[a3](e);
  } catch {
    try {
      return e[cm] = false, "/./"[a3](e);
    } catch {
    }
  }
  return false;
};
var gm = ee;
var dm = Rr;
var pm = Et.f;
var ym = ot;
var ks = pe;
var mm = Ki;
var bm = ve;
var xm = Zi;
var Tm = dm("".slice);
var Om = Math.min;
var Wu = xm("startsWith");
var Sm = !Wu && !!(function() {
  var a3 = pm(String.prototype, "startsWith");
  return a3 && !a3.writable;
})();
gm({ target: "String", proto: true, forced: !Sm && !Wu }, {
  startsWith: function(e) {
    var t = ks(bm(this));
    mm(e);
    var r = ym(Om(arguments.length > 1 ? arguments[1] : void 0, t.length)), i = ks(e);
    return Tm(t, r, r + i.length) === i;
  }
});
var Em = z;
var $m = Gi;
var wm = Oe.f;
var hi = Em("unscopables");
var vi = Array.prototype;
vi[hi] === void 0 && wm(vi, hi, {
  configurable: true,
  value: $m(null)
});
var Cm = function(a3) {
  vi[hi][a3] = true;
};
var Am = D;
var Pm = !Am(function() {
  function a3() {
  }
  return a3.prototype.constructor = null, Object.getPrototypeOf(new a3()) !== a3.prototype;
});
var Rm = fe;
var Nm = B;
var Im = Sr;
var Mm = wi;
var _m = Pm;
var Bs = Mm("IE_PROTO");
var fi = Object;
var Vm = fi.prototype;
var qu = _m ? fi.getPrototypeOf : function(a3) {
  var e = Im(a3);
  if (Rm(e, Bs)) return e[Bs];
  var t = e.constructor;
  return Nm(t) && e instanceof t ? t.prototype : e instanceof fi ? Vm : null;
};
var Dm = D;
var Lm = B;
var km = ae;
var js = qu;
var Bm = Ue;
var jm = z;
var ci = jm("iterator");
var Qu = false;
var ke;
var Ra;
var Na;
[].keys && (Na = [].keys(), "next" in Na ? (Ra = js(js(Na)), Ra !== Object.prototype && (ke = Ra)) : Qu = true);
var Fm = !km(ke) || Dm(function() {
  var a3 = {};
  return ke[ci].call(a3) !== a3;
});
Fm && (ke = {});
Lm(ke[ci]) || Bm(ke, ci, function() {
  return this;
});
var Ku = {
  IteratorPrototype: ke,
  BUGGY_SAFARI_ITERATORS: Qu
};
var Um = Ku.IteratorPrototype;
var Gm = Gi;
var zm = xi;
var Hm = Pr;
var Ym = Rt;
var Xm = function() {
  return this;
};
var Wm = function(a3, e, t, r) {
  var i = e + " Iterator";
  return a3.prototype = Gm(Um, { next: zm(+!r, t) }), Hm(a3, i, false), Ym[i] = Xm, a3;
};
var qm = ee;
var Qm = Y;
var Zu = $r;
var Km = B;
var Zm = Wm;
var Fs = qu;
var Us = ou;
var Jm = Pr;
var e0 = Ct;
var Ia = Ue;
var t0 = z;
var r0 = Rt;
var Ju = Ku;
var a0 = Zu.PROPER;
var i0 = Zu.CONFIGURABLE;
var Gs = Ju.IteratorPrototype;
var tr = Ju.BUGGY_SAFARI_ITERATORS;
var ct = t0("iterator");
var zs = "keys";
var gt = "values";
var Hs = "entries";
var n0 = function() {
  return this;
};
var s0 = function(a3, e, t, r, i, n, o) {
  Zm(t, e, r);
  var s = function(y) {
    if (y === i && c) return c;
    if (!tr && y && y in h) return h[y];
    switch (y) {
      case zs:
        return function() {
          return new t(this, y);
        };
      case gt:
        return function() {
          return new t(this, y);
        };
      case Hs:
        return function() {
          return new t(this, y);
        };
    }
    return function() {
      return new t(this);
    };
  }, u = e + " Iterator", l = false, h = a3.prototype, f = h[ct] || h["@@iterator"] || i && h[i], c = !tr && f || s(i), v = e === "Array" && h.entries || f, g, d, p;
  if (v && (g = Fs(v.call(new a3())), g !== Object.prototype && g.next && (Fs(g) !== Gs && (Us ? Us(g, Gs) : Km(g[ct]) || Ia(g, ct, n0)), Jm(g, u, true))), a0 && i === gt && f && f.name !== gt && (i0 ? e0(h, "name", gt) : (l = true, c = function() {
    return Qm(f, this);
  })), i)
    if (d = {
      values: s(gt),
      keys: n ? c : s(zs),
      entries: s(Hs)
    }, o) for (p in d)
      (tr || l || !(p in h)) && Ia(h, p, d[p]);
    else qm({ target: e, proto: true, forced: tr || l }, d);
  return h[ct] !== c && Ia(h, ct, c, { name: i }), r0[e] = c, d;
};
var o0 = function(a3, e) {
  return { value: a3, done: e };
};
var u0 = $t;
var Ji = Cm;
var Ys = Rt;
var el = wr;
var l0 = Oe.f;
var h0 = s0;
var rr = o0;
var v0 = he;
var tl = "Array Iterator";
var f0 = el.set;
var c0 = el.getterFor(tl);
var g0 = h0(Array, "Array", function(a3, e) {
  f0(this, {
    type: tl,
    target: u0(a3),
    // target
    index: 0,
    // next index
    kind: e
    // kind
  });
}, function() {
  var a3 = c0(this), e = a3.target, t = a3.index++;
  if (!e || t >= e.length)
    return a3.target = null, rr(void 0, true);
  switch (a3.kind) {
    case "keys":
      return rr(t, false);
    case "values":
      return rr(e[t], false);
  }
  return rr([t, e[t]], false);
}, "values");
var Xs = Ys.Arguments = Ys.Array;
Ji("keys");
Ji("values");
Ji("entries");
if (v0 && Xs.name !== "values") try {
  l0(Xs, "name", { value: "values" });
} catch {
}
var d0 = {
  CSSRuleList: 0,
  CSSStyleDeclaration: 0,
  CSSValueList: 0,
  ClientRectList: 0,
  DOMRectList: 0,
  DOMStringList: 0,
  DOMTokenList: 1,
  DataTransferItemList: 0,
  FileList: 0,
  HTMLAllCollection: 0,
  HTMLCollection: 0,
  HTMLFormElement: 0,
  HTMLSelectElement: 0,
  MediaList: 0,
  MimeTypeArray: 0,
  NamedNodeMap: 0,
  NodeList: 1,
  PaintRequestList: 0,
  Plugin: 0,
  PluginArray: 0,
  SVGLengthList: 0,
  SVGNumberList: 0,
  SVGPathSegList: 0,
  SVGPointList: 0,
  SVGStringList: 0,
  SVGTransformList: 0,
  SourceBufferList: 0,
  StyleSheetList: 0,
  TextTrackCueList: 0,
  TextTrackList: 0,
  TouchList: 0
};
var p0 = Er;
var Ma = p0("span").classList;
var Ws = Ma && Ma.constructor && Ma.constructor.prototype;
var y0 = Ws === Object.prototype ? void 0 : Ws;
var qs = _;
var rl = d0;
var m0 = y0;
var pt = g0;
var Qs = Ct;
var b0 = Pr;
var x0 = z;
var _a = x0("iterator");
var Va = pt.values;
var al = function(a3, e) {
  if (a3) {
    if (a3[_a] !== Va) try {
      Qs(a3, _a, Va);
    } catch {
      a3[_a] = Va;
    }
    if (b0(a3, e, true), rl[e]) {
      for (var t in pt)
        if (a3[t] !== pt[t]) try {
          Qs(a3, t, pt[t]);
        } catch {
          a3[t] = pt[t];
        }
    }
  }
};
for (Da in rl)
  al(qs[Da] && qs[Da].prototype, Da);
var Da;
al(m0, "DOMTokenList");
function T0(a3, e) {
  if (Ee(a3) != "object" || !a3) return a3;
  var t = a3[Symbol.toPrimitive];
  if (t !== void 0) {
    var r = t.call(a3, e);
    if (Ee(r) != "object") return r;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (e === "string" ? String : Number)(a3);
}
function O0(a3) {
  var e = T0(a3, "string");
  return Ee(e) == "symbol" ? e : e + "";
}
function en(a3, e, t) {
  return (e = O0(e)) in a3 ? Object.defineProperty(a3, e, {
    value: t,
    enumerable: true,
    configurable: true,
    writable: true
  }) : a3[e] = t, a3;
}
var S0 = Te;
var E0 = Sr;
var $0 = Bo;
var w0 = Pi;
var Ks = TypeError;
var Zs = "Reduce of empty array with no initial value";
var C0 = function(a3) {
  return function(e, t, r, i) {
    var n = E0(e), o = $0(n), s = w0(n);
    if (S0(t), s === 0 && r < 2) throw new Ks(Zs);
    var u = a3 ? s - 1 : 0, l = a3 ? -1 : 1;
    if (r < 2) for (; ; ) {
      if (u in o) {
        i = o[u], u += l;
        break;
      }
      if (u += l, a3 ? u < 0 : s <= u)
        throw new Ks(Zs);
    }
    for (; a3 ? u >= 0 : s > u; u += l) u in o && (i = t(i, o[u], u, n));
    return i;
  };
};
var A0 = {
  // `Array.prototype.reduce` method
  // https://tc39.es/ecma262/#sec-array.prototype.reduce
  left: C0(false)
};
var P0 = D;
var il = function(a3, e) {
  var t = [][a3];
  return !!t && P0(function() {
    t.call(null, e || function() {
      return 1;
    }, 1);
  });
};
var R0 = ee;
var N0 = A0.left;
var I0 = il;
var Js = Ti;
var M0 = Ar;
var _0 = !M0 && Js > 79 && Js < 83;
var V0 = _0 || !I0("reduce");
R0({ target: "Array", proto: true, forced: V0 }, {
  reduce: function(e) {
    var t = arguments.length;
    return N0(this, e, t, t > 1 ? arguments[1] : void 0);
  }
});
var D0 = ee;
var L0 = Rr;
var k0 = Et.f;
var B0 = ot;
var eo = pe;
var j0 = Ki;
var F0 = ve;
var U0 = Zi;
var G0 = L0("".slice);
var z0 = Math.min;
var nl = U0("endsWith");
var H0 = !nl && !!(function() {
  var a3 = k0(String.prototype, "endsWith");
  return a3 && !a3.writable;
})();
D0({ target: "String", proto: true, forced: !H0 && !nl }, {
  endsWith: function(e) {
    var t = eo(F0(this));
    j0(e);
    var r = arguments.length > 1 ? arguments[1] : void 0, i = t.length, n = r === void 0 ? i : z0(B0(r), i), o = eo(e);
    return G0(t, n - o.length, n) === o;
  }
});
var La = Y;
var sl = L;
var Y0 = Hi;
var X0 = J;
var W0 = ae;
var q0 = ve;
var Q0 = cu;
var K0 = Xi;
var Z0 = ot;
var to = pe;
var J0 = st;
var ro = qi;
var eb = Uu;
var tb = D;
var We = eb.UNSUPPORTED_Y;
var rb = 4294967295;
var ab = Math.min;
var ka = sl([].push);
var Ba = sl("".slice);
var ib = !tb(function() {
  var a3 = /(?:)/, e = a3.exec;
  a3.exec = function() {
    return e.apply(this, arguments);
  };
  var t = "ab".split(a3);
  return t.length !== 2 || t[0] !== "a" || t[1] !== "b";
});
var ao = "abbc".split(/(b)*/)[1] === "c" || // eslint-disable-next-line regexp/no-empty-group -- required for testing
"test".split(/(?:)/, -1).length !== 4 || "ab".split(/(?:ab)*/).length !== 2 || ".".split(/(.?)(.?)/).length !== 4 || // eslint-disable-next-line regexp/no-empty-capturing-group, regexp/no-empty-group -- required for testing
".".split(/()()/).length > 1 || "".split(/.?/).length;
Y0("split", function(a3, e, t) {
  var r = "0".split(void 0, 0).length ? function(i, n) {
    return i === void 0 && n === 0 ? [] : La(e, this, i, n);
  } : e;
  return [
    // `String.prototype.split` method
    // https://tc39.es/ecma262/#sec-string.prototype.split
    function(n, o) {
      var s = q0(this), u = W0(n) ? J0(n, a3) : void 0;
      return u ? La(u, n, s, o) : La(r, to(s), n, o);
    },
    // `RegExp.prototype[@@split]` method
    // https://tc39.es/ecma262/#sec-regexp.prototype-@@split
    //
    // NOTE: This cannot be properly polyfilled in engines that don't support
    // the 'y' flag.
    function(i, n) {
      var o = X0(this), s = to(i);
      if (!ao) {
        var u = t(r, o, s, n, r !== e);
        if (u.done) return u.value;
      }
      var l = Q0(o, RegExp), h = o.unicode, f = (o.ignoreCase ? "i" : "") + (o.multiline ? "m" : "") + (o.unicode ? "u" : "") + (We ? "g" : "y"), c = new l(We ? "^(?:" + o.source + ")" : o, f), v = n === void 0 ? rb : n >>> 0;
      if (v === 0) return [];
      if (s.length === 0) return ro(c, s) === null ? [s] : [];
      for (var g = 0, d = 0, p = []; d < s.length; ) {
        c.lastIndex = We ? 0 : d;
        var y = ro(c, We ? Ba(s, d) : s), x;
        if (y === null || (x = ab(Z0(c.lastIndex + (We ? d : 0)), s.length)) === g)
          d = K0(s, d, h);
        else {
          if (ka(p, Ba(s, g, d)), p.length === v) return p;
          for (var b = 1; b <= y.length - 1; b++)
            if (ka(p, y[b]), p.length === v) return p;
          d = g = x;
        }
      }
      return ka(p, Ba(s, g)), p;
    }
  ];
}, ao || !ib, We);
var Vr = { exports: {} };
var yt = { exports: {} };
(function() {
  var a3, e, t, r, i, n;
  typeof performance < "u" && performance !== null && performance.now ? yt.exports = function() {
    return performance.now();
  } : typeof process < "u" && process !== null && process.hrtime ? (yt.exports = function() {
    return (a3() - i) / 1e6;
  }, e = process.hrtime, a3 = function() {
    var o;
    return o = e(), o[0] * 1e9 + o[1];
  }, r = a3(), n = process.uptime() * 1e9, i = r - n) : Date.now ? (yt.exports = function() {
    return Date.now() - t;
  }, t = Date.now()) : (yt.exports = function() {
    return (/* @__PURE__ */ new Date()).getTime() - t;
  }, t = (/* @__PURE__ */ new Date()).getTime());
}).call(Tx);
var nb = yt.exports;
var sb = nb;
var be = typeof window > "u" ? Tx : window;
var ar = ["moz", "webkit"];
var tt = "AnimationFrame";
var nt = be["request" + tt];
var St = be["cancel" + tt] || be["cancelRequest" + tt];
for (dt = 0; !nt && dt < ar.length; dt++)
  nt = be[ar[dt] + "Request" + tt], St = be[ar[dt] + "Cancel" + tt] || be[ar[dt] + "CancelRequest" + tt];
var dt;
if (!nt || !St) {
  ja = 0, io = 0, _e = [], ob = 1e3 / 60;
  nt = function(a3) {
    if (_e.length === 0) {
      var e = sb(), t = Math.max(0, ob - (e - ja));
      ja = t + e, setTimeout(function() {
        var r = _e.slice(0);
        _e.length = 0;
        for (var i = 0; i < r.length; i++)
          if (!r[i].cancelled)
            try {
              r[i].callback(ja);
            } catch (n) {
              setTimeout(function() {
                throw n;
              }, 0);
            }
      }, Math.round(t));
    }
    return _e.push({
      handle: ++io,
      callback: a3,
      cancelled: false
    }), io;
  }, St = function(a3) {
    for (var e = 0; e < _e.length; e++)
      _e[e].handle === a3 && (_e[e].cancelled = true);
  };
}
var ja;
var io;
var _e;
var ob;
Vr.exports = function(a3) {
  return nt.call(be, a3);
};
Vr.exports.cancel = function() {
  St.apply(be, arguments);
};
Vr.exports.polyfill = function(a3) {
  a3 || (a3 = be), a3.requestAnimationFrame = nt, a3.cancelAnimationFrame = St;
};
var ub = Vr.exports;
var Fa = DC(ub);
var ol = `	
\v\f\r Â áââââââââââââ¯âã\u2028\u2029\uFEFF`;
var lb = L;
var hb = ve;
var vb = pe;
var gi = ol;
var no = lb("".replace);
var fb = RegExp("^[" + gi + "]+");
var cb = RegExp("(^|[^" + gi + "])[" + gi + "]+$");
var gb = function(a3) {
  return function(e) {
    var t = vb(hb(e));
    return a3 & 1 && (t = no(t, fb, "")), a3 & 2 && (t = no(t, cb, "$1")), t;
  };
};
var db = {
  // `String.prototype.trim` method
  // https://tc39.es/ecma262/#sec-string.prototype.trim
  trim: gb(3)
};
var pb = $r.PROPER;
var yb = D;
var so = ol;
var oo = "âÂá ";
var mb = function(a3) {
  return yb(function() {
    return !!so[a3]() || oo[a3]() !== oo || pb && so[a3].name !== a3;
  });
};
var bb = ee;
var xb = db.trim;
var Tb = mb;
bb({ target: "String", proto: true, forced: Tb("trim") }, {
  trim: function() {
    return xb(this);
  }
});
var Ob = function(a3) {
  this.ok = false, this.alpha = 1, a3.charAt(0) == "#" && (a3 = a3.substr(1, 6)), a3 = a3.replace(/ /g, ""), a3 = a3.toLowerCase();
  var e = {
    aliceblue: "f0f8ff",
    antiquewhite: "faebd7",
    aqua: "00ffff",
    aquamarine: "7fffd4",
    azure: "f0ffff",
    beige: "f5f5dc",
    bisque: "ffe4c4",
    black: "000000",
    blanchedalmond: "ffebcd",
    blue: "0000ff",
    blueviolet: "8a2be2",
    brown: "a52a2a",
    burlywood: "deb887",
    cadetblue: "5f9ea0",
    chartreuse: "7fff00",
    chocolate: "d2691e",
    coral: "ff7f50",
    cornflowerblue: "6495ed",
    cornsilk: "fff8dc",
    crimson: "dc143c",
    cyan: "00ffff",
    darkblue: "00008b",
    darkcyan: "008b8b",
    darkgoldenrod: "b8860b",
    darkgray: "a9a9a9",
    darkgreen: "006400",
    darkkhaki: "bdb76b",
    darkmagenta: "8b008b",
    darkolivegreen: "556b2f",
    darkorange: "ff8c00",
    darkorchid: "9932cc",
    darkred: "8b0000",
    darksalmon: "e9967a",
    darkseagreen: "8fbc8f",
    darkslateblue: "483d8b",
    darkslategray: "2f4f4f",
    darkturquoise: "00ced1",
    darkviolet: "9400d3",
    deeppink: "ff1493",
    deepskyblue: "00bfff",
    dimgray: "696969",
    dodgerblue: "1e90ff",
    feldspar: "d19275",
    firebrick: "b22222",
    floralwhite: "fffaf0",
    forestgreen: "228b22",
    fuchsia: "ff00ff",
    gainsboro: "dcdcdc",
    ghostwhite: "f8f8ff",
    gold: "ffd700",
    goldenrod: "daa520",
    gray: "808080",
    green: "008000",
    greenyellow: "adff2f",
    honeydew: "f0fff0",
    hotpink: "ff69b4",
    indianred: "cd5c5c",
    indigo: "4b0082",
    ivory: "fffff0",
    khaki: "f0e68c",
    lavender: "e6e6fa",
    lavenderblush: "fff0f5",
    lawngreen: "7cfc00",
    lemonchiffon: "fffacd",
    lightblue: "add8e6",
    lightcoral: "f08080",
    lightcyan: "e0ffff",
    lightgoldenrodyellow: "fafad2",
    lightgrey: "d3d3d3",
    lightgreen: "90ee90",
    lightpink: "ffb6c1",
    lightsalmon: "ffa07a",
    lightseagreen: "20b2aa",
    lightskyblue: "87cefa",
    lightslateblue: "8470ff",
    lightslategray: "778899",
    lightsteelblue: "b0c4de",
    lightyellow: "ffffe0",
    lime: "00ff00",
    limegreen: "32cd32",
    linen: "faf0e6",
    magenta: "ff00ff",
    maroon: "800000",
    mediumaquamarine: "66cdaa",
    mediumblue: "0000cd",
    mediumorchid: "ba55d3",
    mediumpurple: "9370d8",
    mediumseagreen: "3cb371",
    mediumslateblue: "7b68ee",
    mediumspringgreen: "00fa9a",
    mediumturquoise: "48d1cc",
    mediumvioletred: "c71585",
    midnightblue: "191970",
    mintcream: "f5fffa",
    mistyrose: "ffe4e1",
    moccasin: "ffe4b5",
    navajowhite: "ffdead",
    navy: "000080",
    oldlace: "fdf5e6",
    olive: "808000",
    olivedrab: "6b8e23",
    orange: "ffa500",
    orangered: "ff4500",
    orchid: "da70d6",
    palegoldenrod: "eee8aa",
    palegreen: "98fb98",
    paleturquoise: "afeeee",
    palevioletred: "d87093",
    papayawhip: "ffefd5",
    peachpuff: "ffdab9",
    peru: "cd853f",
    pink: "ffc0cb",
    plum: "dda0dd",
    powderblue: "b0e0e6",
    purple: "800080",
    rebeccapurple: "663399",
    red: "ff0000",
    rosybrown: "bc8f8f",
    royalblue: "4169e1",
    saddlebrown: "8b4513",
    salmon: "fa8072",
    sandybrown: "f4a460",
    seagreen: "2e8b57",
    seashell: "fff5ee",
    sienna: "a0522d",
    silver: "c0c0c0",
    skyblue: "87ceeb",
    slateblue: "6a5acd",
    slategray: "708090",
    snow: "fffafa",
    springgreen: "00ff7f",
    steelblue: "4682b4",
    tan: "d2b48c",
    teal: "008080",
    thistle: "d8bfd8",
    tomato: "ff6347",
    turquoise: "40e0d0",
    violet: "ee82ee",
    violetred: "d02090",
    wheat: "f5deb3",
    white: "ffffff",
    whitesmoke: "f5f5f5",
    yellow: "ffff00",
    yellowgreen: "9acd32"
  };
  a3 = e[a3] || a3;
  for (var t = [
    {
      re: /^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,
      example: ["rgba(123, 234, 45, 0.8)", "rgba(255,234,245,1.0)"],
      process: function(u) {
        return [
          parseInt(u[1]),
          parseInt(u[2]),
          parseInt(u[3]),
          parseFloat(u[4])
        ];
      }
    },
    {
      re: /^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,
      example: ["rgb(123, 234, 45)", "rgb(255,234,245)"],
      process: function(u) {
        return [
          parseInt(u[1]),
          parseInt(u[2]),
          parseInt(u[3])
        ];
      }
    },
    {
      re: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
      example: ["#00ff00", "336699"],
      process: function(u) {
        return [
          parseInt(u[1], 16),
          parseInt(u[2], 16),
          parseInt(u[3], 16)
        ];
      }
    },
    {
      re: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
      example: ["#fb0", "f0f"],
      process: function(u) {
        return [
          parseInt(u[1] + u[1], 16),
          parseInt(u[2] + u[2], 16),
          parseInt(u[3] + u[3], 16)
        ];
      }
    }
  ], r = 0; r < t.length; r++) {
    var i = t[r].re, n = t[r].process, o = i.exec(a3);
    if (o) {
      var s = n(o);
      this.r = s[0], this.g = s[1], this.b = s[2], s.length > 3 && (this.alpha = s[3]), this.ok = true;
    }
  }
  this.r = this.r < 0 || isNaN(this.r) ? 0 : this.r > 255 ? 255 : this.r, this.g = this.g < 0 || isNaN(this.g) ? 0 : this.g > 255 ? 255 : this.g, this.b = this.b < 0 || isNaN(this.b) ? 0 : this.b > 255 ? 255 : this.b, this.alpha = this.alpha < 0 ? 0 : this.alpha > 1 || isNaN(this.alpha) ? 1 : this.alpha, this.toRGB = function() {
    return "rgb(" + this.r + ", " + this.g + ", " + this.b + ")";
  }, this.toRGBA = function() {
    return "rgba(" + this.r + ", " + this.g + ", " + this.b + ", " + this.alpha + ")";
  }, this.toHex = function() {
    var u = this.r.toString(16), l = this.g.toString(16), h = this.b.toString(16);
    return u.length == 1 && (u = "0" + u), l.length == 1 && (l = "0" + l), h.length == 1 && (h = "0" + h), "#" + u + l + h;
  }, this.getHelpXML = function() {
    for (var u = new Array(), l = 0; l < t.length; l++)
      for (var h = t[l].example, f = 0; f < h.length; f++)
        u[u.length] = h[f];
    for (var c in e)
      u[u.length] = c;
    var v = document.createElement("ul");
    v.setAttribute("id", "rgbcolor-examples");
    for (var l = 0; l < u.length; l++)
      try {
        var g = document.createElement("li"), d = new RGBColor(u[l]), p = document.createElement("div");
        p.style.cssText = "margin: 3px; border: 1px solid black; background:" + d.toHex() + "; color:" + d.toHex(), p.appendChild(document.createTextNode("test"));
        var y = document.createTextNode(
          " " + u[l] + " -> " + d.toRGB() + " -> " + d.toHex()
        );
        g.appendChild(p), g.appendChild(y), v.appendChild(g);
      } catch {
      }
    return v;
  };
};
var di = DC(Ob);
var Sb = ee;
var Eb = Rr;
var $b = ru.indexOf;
var wb = il;
var pi = Eb([].indexOf);
var ul = !!pi && 1 / pi([1], 1, -0) < 0;
var Cb = ul || !wb("indexOf");
Sb({ target: "Array", proto: true, forced: Cb }, {
  indexOf: function(e) {
    var t = arguments.length > 1 ? arguments[1] : void 0;
    return ul ? pi(this, e, t) || 0 : $b(this, e, t);
  }
});
var Ab = ee;
var Pb = L;
var Rb = Ki;
var Nb = ve;
var uo = pe;
var Ib = Zi;
var Mb = Pb("".indexOf);
Ab({ target: "String", proto: true, forced: !Ib("includes") }, {
  includes: function(e) {
    return !!~Mb(
      uo(Nb(this)),
      uo(Rb(e)),
      arguments.length > 1 ? arguments[1] : void 0
    );
  }
});
var _b = je;
var Vb = Array.isArray || function(e) {
  return _b(e) === "Array";
};
var Db = ee;
var Lb = L;
var kb = Vb;
var Bb = Lb([].reverse);
var lo = [1, 2];
Db({ target: "Array", proto: true, forced: String(lo) === String(lo.reverse()) }, {
  reverse: function() {
    return kb(this) && (this.length = this.length), Bb(this);
  }
});
var ll = function(a3, e) {
  return (ll = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t, r) {
    t.__proto__ = r;
  } || function(t, r) {
    for (var i in r) Object.prototype.hasOwnProperty.call(r, i) && (t[i] = r[i]);
  })(a3, e);
};
function hl(a3, e) {
  if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
  function t() {
    this.constructor = a3;
  }
  ll(a3, e), a3.prototype = e === null ? Object.create(e) : (t.prototype = e.prototype, new t());
}
function jb(a3) {
  var e = "";
  Array.isArray(a3) || (a3 = [a3]);
  for (var t = 0; t < a3.length; t++) {
    var r = a3[t];
    if (r.type === m.CLOSE_PATH) e += "z";
    else if (r.type === m.HORIZ_LINE_TO) e += (r.relative ? "h" : "H") + r.x;
    else if (r.type === m.VERT_LINE_TO) e += (r.relative ? "v" : "V") + r.y;
    else if (r.type === m.MOVE_TO) e += (r.relative ? "m" : "M") + r.x + " " + r.y;
    else if (r.type === m.LINE_TO) e += (r.relative ? "l" : "L") + r.x + " " + r.y;
    else if (r.type === m.CURVE_TO) e += (r.relative ? "c" : "C") + r.x1 + " " + r.y1 + " " + r.x2 + " " + r.y2 + " " + r.x + " " + r.y;
    else if (r.type === m.SMOOTH_CURVE_TO) e += (r.relative ? "s" : "S") + r.x2 + " " + r.y2 + " " + r.x + " " + r.y;
    else if (r.type === m.QUAD_TO) e += (r.relative ? "q" : "Q") + r.x1 + " " + r.y1 + " " + r.x + " " + r.y;
    else if (r.type === m.SMOOTH_QUAD_TO) e += (r.relative ? "t" : "T") + r.x + " " + r.y;
    else {
      if (r.type !== m.ARC) throw new Error('Unexpected command type "' + r.type + '" at index ' + t + ".");
      e += (r.relative ? "a" : "A") + r.rX + " " + r.rY + " " + r.xRot + " " + +r.lArcFlag + " " + +r.sweepFlag + " " + r.x + " " + r.y;
    }
  }
  return e;
}
function yi(a3, e) {
  var t = a3[0], r = a3[1];
  return [t * Math.cos(e) - r * Math.sin(e), t * Math.sin(e) + r * Math.cos(e)];
}
function ue() {
  for (var a3 = [], e = 0; e < arguments.length; e++) a3[e] = arguments[e];
  for (var t = 0; t < a3.length; t++) if (typeof a3[t] != "number") throw new Error("assertNumbers arguments[" + t + "] is not a number. " + typeof a3[t] + " == typeof " + a3[t]);
  return true;
}
var Ee2 = Math.PI;
function Ua(a3, e, t) {
  a3.lArcFlag = a3.lArcFlag === 0 ? 0 : 1, a3.sweepFlag = a3.sweepFlag === 0 ? 0 : 1;
  var r = a3.rX, i = a3.rY, n = a3.x, o = a3.y;
  r = Math.abs(a3.rX), i = Math.abs(a3.rY);
  var s = yi([(e - n) / 2, (t - o) / 2], -a3.xRot / 180 * Ee2), u = s[0], l = s[1], h = Math.pow(u, 2) / Math.pow(r, 2) + Math.pow(l, 2) / Math.pow(i, 2);
  1 < h && (r *= Math.sqrt(h), i *= Math.sqrt(h)), a3.rX = r, a3.rY = i;
  var f = Math.pow(r, 2) * Math.pow(l, 2) + Math.pow(i, 2) * Math.pow(u, 2), c = (a3.lArcFlag !== a3.sweepFlag ? 1 : -1) * Math.sqrt(Math.max(0, (Math.pow(r, 2) * Math.pow(i, 2) - f) / f)), v = r * l / i * c, g = -i * u / r * c, d = yi([v, g], a3.xRot / 180 * Ee2);
  a3.cX = d[0] + (e + n) / 2, a3.cY = d[1] + (t + o) / 2, a3.phi1 = Math.atan2((l - g) / i, (u - v) / r), a3.phi2 = Math.atan2((-l - g) / i, (-u - v) / r), a3.sweepFlag === 0 && a3.phi2 > a3.phi1 && (a3.phi2 -= 2 * Ee2), a3.sweepFlag === 1 && a3.phi2 < a3.phi1 && (a3.phi2 += 2 * Ee2), a3.phi1 *= 180 / Ee2, a3.phi2 *= 180 / Ee2;
}
function ho(a3, e, t) {
  ue(a3, e, t);
  var r = a3 * a3 + e * e - t * t;
  if (0 > r) return [];
  if (r === 0) return [[a3 * t / (a3 * a3 + e * e), e * t / (a3 * a3 + e * e)]];
  var i = Math.sqrt(r);
  return [[(a3 * t + e * i) / (a3 * a3 + e * e), (e * t - a3 * i) / (a3 * a3 + e * e)], [(a3 * t - e * i) / (a3 * a3 + e * e), (e * t + a3 * i) / (a3 * a3 + e * e)]];
}
var U;
var ye = Math.PI / 180;
function vo(a3, e, t) {
  return (1 - t) * a3 + t * e;
}
function fo(a3, e, t, r) {
  return a3 + Math.cos(r / 180 * Ee2) * e + Math.sin(r / 180 * Ee2) * t;
}
function co(a3, e, t, r) {
  var i = 1e-6, n = e - a3, o = t - e, s = 3 * n + 3 * (r - t) - 6 * o, u = 6 * (o - n), l = 3 * n;
  return Math.abs(s) < i ? [-l / u] : (function(h, f, c) {
    var v = h * h / 4 - f;
    if (v < -c) return [];
    if (v <= c) return [-h / 2];
    var g = Math.sqrt(v);
    return [-h / 2 - g, -h / 2 + g];
  })(u / s, l / s, i);
}
function go(a3, e, t, r, i) {
  var n = 1 - i;
  return a3 * (n * n * n) + e * (3 * n * n * i) + t * (3 * n * i * i) + r * (i * i * i);
}
(function(a3) {
  function e() {
    return i(function(s, u, l) {
      return s.relative && (s.x1 !== void 0 && (s.x1 += u), s.y1 !== void 0 && (s.y1 += l), s.x2 !== void 0 && (s.x2 += u), s.y2 !== void 0 && (s.y2 += l), s.x !== void 0 && (s.x += u), s.y !== void 0 && (s.y += l), s.relative = false), s;
    });
  }
  function t() {
    var s = NaN, u = NaN, l = NaN, h = NaN;
    return i(function(f, c, v) {
      return f.type & m.SMOOTH_CURVE_TO && (f.type = m.CURVE_TO, s = isNaN(s) ? c : s, u = isNaN(u) ? v : u, f.x1 = f.relative ? c - s : 2 * c - s, f.y1 = f.relative ? v - u : 2 * v - u), f.type & m.CURVE_TO ? (s = f.relative ? c + f.x2 : f.x2, u = f.relative ? v + f.y2 : f.y2) : (s = NaN, u = NaN), f.type & m.SMOOTH_QUAD_TO && (f.type = m.QUAD_TO, l = isNaN(l) ? c : l, h = isNaN(h) ? v : h, f.x1 = f.relative ? c - l : 2 * c - l, f.y1 = f.relative ? v - h : 2 * v - h), f.type & m.QUAD_TO ? (l = f.relative ? c + f.x1 : f.x1, h = f.relative ? v + f.y1 : f.y1) : (l = NaN, h = NaN), f;
    });
  }
  function r() {
    var s = NaN, u = NaN;
    return i(function(l, h, f) {
      if (l.type & m.SMOOTH_QUAD_TO && (l.type = m.QUAD_TO, s = isNaN(s) ? h : s, u = isNaN(u) ? f : u, l.x1 = l.relative ? h - s : 2 * h - s, l.y1 = l.relative ? f - u : 2 * f - u), l.type & m.QUAD_TO) {
        s = l.relative ? h + l.x1 : l.x1, u = l.relative ? f + l.y1 : l.y1;
        var c = l.x1, v = l.y1;
        l.type = m.CURVE_TO, l.x1 = ((l.relative ? 0 : h) + 2 * c) / 3, l.y1 = ((l.relative ? 0 : f) + 2 * v) / 3, l.x2 = (l.x + 2 * c) / 3, l.y2 = (l.y + 2 * v) / 3;
      } else s = NaN, u = NaN;
      return l;
    });
  }
  function i(s) {
    var u = 0, l = 0, h = NaN, f = NaN;
    return function(c) {
      if (isNaN(h) && !(c.type & m.MOVE_TO)) throw new Error("path must start with moveto");
      var v = s(c, u, l, h, f);
      return c.type & m.CLOSE_PATH && (u = h, l = f), c.x !== void 0 && (u = c.relative ? u + c.x : c.x), c.y !== void 0 && (l = c.relative ? l + c.y : c.y), c.type & m.MOVE_TO && (h = u, f = l), v;
    };
  }
  function n(s, u, l, h, f, c) {
    return ue(s, u, l, h, f, c), i(function(v, g, d, p) {
      var y = v.x1, x = v.x2, b = v.relative && !isNaN(p), T = v.x !== void 0 ? v.x : b ? 0 : g, $ = v.y !== void 0 ? v.y : b ? 0 : d;
      function E(se) {
        return se * se;
      }
      v.type & m.HORIZ_LINE_TO && u !== 0 && (v.type = m.LINE_TO, v.y = v.relative ? 0 : d), v.type & m.VERT_LINE_TO && l !== 0 && (v.type = m.LINE_TO, v.x = v.relative ? 0 : g), v.x !== void 0 && (v.x = v.x * s + $ * l + (b ? 0 : f)), v.y !== void 0 && (v.y = T * u + v.y * h + (b ? 0 : c)), v.x1 !== void 0 && (v.x1 = v.x1 * s + v.y1 * l + (b ? 0 : f)), v.y1 !== void 0 && (v.y1 = y * u + v.y1 * h + (b ? 0 : c)), v.x2 !== void 0 && (v.x2 = v.x2 * s + v.y2 * l + (b ? 0 : f)), v.y2 !== void 0 && (v.y2 = x * u + v.y2 * h + (b ? 0 : c));
      var O = s * h - u * l;
      if (v.xRot !== void 0 && (s !== 1 || u !== 0 || l !== 0 || h !== 1)) if (O === 0) delete v.rX, delete v.rY, delete v.xRot, delete v.lArcFlag, delete v.sweepFlag, v.type = m.LINE_TO;
      else {
        var C = v.xRot * Math.PI / 180, P = Math.sin(C), V = Math.cos(C), j = 1 / E(v.rX), R = 1 / E(v.rY), X = E(V) * j + E(P) * R, W = 2 * P * V * (j - R), G = E(P) * j + E(V) * R, q = X * h * h - W * u * h + G * u * u, H = W * (s * h + u * l) - 2 * (X * l * h + G * s * u), Q = X * l * l - W * s * l + G * s * s, N = (Math.atan2(H, q - Q) + Math.PI) % Math.PI / 2, M = Math.sin(N), K = Math.cos(N);
        v.rX = Math.abs(O) / Math.sqrt(q * E(K) + H * M * K + Q * E(M)), v.rY = Math.abs(O) / Math.sqrt(q * E(M) - H * M * K + Q * E(K)), v.xRot = 180 * N / Math.PI;
      }
      return v.sweepFlag !== void 0 && 0 > O && (v.sweepFlag = +!v.sweepFlag), v;
    });
  }
  function o() {
    return function(s) {
      var u = {};
      for (var l in s) u[l] = s[l];
      return u;
    };
  }
  a3.ROUND = function(s) {
    function u(l) {
      return Math.round(l * s) / s;
    }
    return s === void 0 && (s = 1e13), ue(s), function(l) {
      return l.x1 !== void 0 && (l.x1 = u(l.x1)), l.y1 !== void 0 && (l.y1 = u(l.y1)), l.x2 !== void 0 && (l.x2 = u(l.x2)), l.y2 !== void 0 && (l.y2 = u(l.y2)), l.x !== void 0 && (l.x = u(l.x)), l.y !== void 0 && (l.y = u(l.y)), l.rX !== void 0 && (l.rX = u(l.rX)), l.rY !== void 0 && (l.rY = u(l.rY)), l;
    };
  }, a3.TO_ABS = e, a3.TO_REL = function() {
    return i(function(s, u, l) {
      return s.relative || (s.x1 !== void 0 && (s.x1 -= u), s.y1 !== void 0 && (s.y1 -= l), s.x2 !== void 0 && (s.x2 -= u), s.y2 !== void 0 && (s.y2 -= l), s.x !== void 0 && (s.x -= u), s.y !== void 0 && (s.y -= l), s.relative = true), s;
    });
  }, a3.NORMALIZE_HVZ = function(s, u, l) {
    return s === void 0 && (s = true), u === void 0 && (u = true), l === void 0 && (l = true), i(function(h, f, c, v, g) {
      if (isNaN(v) && !(h.type & m.MOVE_TO)) throw new Error("path must start with moveto");
      return u && h.type & m.HORIZ_LINE_TO && (h.type = m.LINE_TO, h.y = h.relative ? 0 : c), l && h.type & m.VERT_LINE_TO && (h.type = m.LINE_TO, h.x = h.relative ? 0 : f), s && h.type & m.CLOSE_PATH && (h.type = m.LINE_TO, h.x = h.relative ? v - f : v, h.y = h.relative ? g - c : g), h.type & m.ARC && (h.rX === 0 || h.rY === 0) && (h.type = m.LINE_TO, delete h.rX, delete h.rY, delete h.xRot, delete h.lArcFlag, delete h.sweepFlag), h;
    });
  }, a3.NORMALIZE_ST = t, a3.QT_TO_C = r, a3.INFO = i, a3.SANITIZE = function(s) {
    s === void 0 && (s = 0), ue(s);
    var u = NaN, l = NaN, h = NaN, f = NaN;
    return i(function(c, v, g, d, p) {
      var y = Math.abs, x = false, b = 0, T = 0;
      if (c.type & m.SMOOTH_CURVE_TO && (b = isNaN(u) ? 0 : v - u, T = isNaN(l) ? 0 : g - l), c.type & (m.CURVE_TO | m.SMOOTH_CURVE_TO) ? (u = c.relative ? v + c.x2 : c.x2, l = c.relative ? g + c.y2 : c.y2) : (u = NaN, l = NaN), c.type & m.SMOOTH_QUAD_TO ? (h = isNaN(h) ? v : 2 * v - h, f = isNaN(f) ? g : 2 * g - f) : c.type & m.QUAD_TO ? (h = c.relative ? v + c.x1 : c.x1, f = c.relative ? g + c.y1 : c.y2) : (h = NaN, f = NaN), c.type & m.LINE_COMMANDS || c.type & m.ARC && (c.rX === 0 || c.rY === 0 || !c.lArcFlag) || c.type & m.CURVE_TO || c.type & m.SMOOTH_CURVE_TO || c.type & m.QUAD_TO || c.type & m.SMOOTH_QUAD_TO) {
        var $ = c.x === void 0 ? 0 : c.relative ? c.x : c.x - v, E = c.y === void 0 ? 0 : c.relative ? c.y : c.y - g;
        b = isNaN(h) ? c.x1 === void 0 ? b : c.relative ? c.x : c.x1 - v : h - v, T = isNaN(f) ? c.y1 === void 0 ? T : c.relative ? c.y : c.y1 - g : f - g;
        var O = c.x2 === void 0 ? 0 : c.relative ? c.x : c.x2 - v, C = c.y2 === void 0 ? 0 : c.relative ? c.y : c.y2 - g;
        y($) <= s && y(E) <= s && y(b) <= s && y(T) <= s && y(O) <= s && y(C) <= s && (x = true);
      }
      return c.type & m.CLOSE_PATH && y(v - d) <= s && y(g - p) <= s && (x = true), x ? [] : c;
    });
  }, a3.MATRIX = n, a3.ROTATE = function(s, u, l) {
    u === void 0 && (u = 0), l === void 0 && (l = 0), ue(s, u, l);
    var h = Math.sin(s), f = Math.cos(s);
    return n(f, h, -h, f, u - u * f + l * h, l - u * h - l * f);
  }, a3.TRANSLATE = function(s, u) {
    return u === void 0 && (u = 0), ue(s, u), n(1, 0, 0, 1, s, u);
  }, a3.SCALE = function(s, u) {
    return u === void 0 && (u = s), ue(s, u), n(s, 0, 0, u, 0, 0);
  }, a3.SKEW_X = function(s) {
    return ue(s), n(1, 0, Math.atan(s), 1, 0, 0);
  }, a3.SKEW_Y = function(s) {
    return ue(s), n(1, Math.atan(s), 0, 1, 0, 0);
  }, a3.X_AXIS_SYMMETRY = function(s) {
    return s === void 0 && (s = 0), ue(s), n(-1, 0, 0, 1, s, 0);
  }, a3.Y_AXIS_SYMMETRY = function(s) {
    return s === void 0 && (s = 0), ue(s), n(1, 0, 0, -1, 0, s);
  }, a3.A_TO_C = function() {
    return i(function(s, u, l) {
      return m.ARC === s.type ? (function(h, f, c) {
        var v, g, d, p;
        h.cX || Ua(h, f, c);
        for (var y = Math.min(h.phi1, h.phi2), x = Math.max(h.phi1, h.phi2) - y, b = Math.ceil(x / 90), T = new Array(b), $ = f, E = c, O = 0; O < b; O++) {
          var C = vo(h.phi1, h.phi2, O / b), P = vo(h.phi1, h.phi2, (O + 1) / b), V = P - C, j = 4 / 3 * Math.tan(V * ye / 4), R = [Math.cos(C * ye) - j * Math.sin(C * ye), Math.sin(C * ye) + j * Math.cos(C * ye)], X = R[0], W = R[1], G = [Math.cos(P * ye), Math.sin(P * ye)], q = G[0], H = G[1], Q = [q + j * Math.sin(P * ye), H - j * Math.cos(P * ye)], N = Q[0], M = Q[1];
          T[O] = { relative: h.relative, type: m.CURVE_TO };
          var K = function(se, ge) {
            var Se = yi([se * h.rX, ge * h.rY], h.xRot), ze = Se[0], It = Se[1];
            return [h.cX + ze, h.cY + It];
          };
          v = K(X, W), T[O].x1 = v[0], T[O].y1 = v[1], g = K(N, M), T[O].x2 = g[0], T[O].y2 = g[1], d = K(q, H), T[O].x = d[0], T[O].y = d[1], h.relative && (T[O].x1 -= $, T[O].y1 -= E, T[O].x2 -= $, T[O].y2 -= E, T[O].x -= $, T[O].y -= E), $ = (p = [T[O].x, T[O].y])[0], E = p[1];
        }
        return T;
      })(s, s.relative ? 0 : u, s.relative ? 0 : l) : s;
    });
  }, a3.ANNOTATE_ARCS = function() {
    return i(function(s, u, l) {
      return s.relative && (u = 0, l = 0), m.ARC === s.type && Ua(s, u, l), s;
    });
  }, a3.CLONE = o, a3.CALCULATE_BOUNDS = function() {
    var s = function(c) {
      var v = {};
      for (var g in c) v[g] = c[g];
      return v;
    }, u = e(), l = r(), h = t(), f = i(function(c, v, g) {
      var d = h(l(u(s(c))));
      function p(M) {
        M > f.maxX && (f.maxX = M), M < f.minX && (f.minX = M);
      }
      function y(M) {
        M > f.maxY && (f.maxY = M), M < f.minY && (f.minY = M);
      }
      if (d.type & m.DRAWING_COMMANDS && (p(v), y(g)), d.type & m.HORIZ_LINE_TO && p(d.x), d.type & m.VERT_LINE_TO && y(d.y), d.type & m.LINE_TO && (p(d.x), y(d.y)), d.type & m.CURVE_TO) {
        p(d.x), y(d.y);
        for (var x = 0, b = co(v, d.x1, d.x2, d.x); x < b.length; x++)
          0 < (N = b[x]) && 1 > N && p(go(v, d.x1, d.x2, d.x, N));
        for (var T = 0, $ = co(g, d.y1, d.y2, d.y); T < $.length; T++)
          0 < (N = $[T]) && 1 > N && y(go(g, d.y1, d.y2, d.y, N));
      }
      if (d.type & m.ARC) {
        p(d.x), y(d.y), Ua(d, v, g);
        for (var E = d.xRot / 180 * Math.PI, O = Math.cos(E) * d.rX, C = Math.sin(E) * d.rX, P = -Math.sin(E) * d.rY, V = Math.cos(E) * d.rY, j = d.phi1 < d.phi2 ? [d.phi1, d.phi2] : -180 > d.phi2 ? [d.phi2 + 360, d.phi1 + 360] : [d.phi2, d.phi1], R = j[0], X = j[1], W = function(M) {
          var K = M[0], se = M[1], ge = 180 * Math.atan2(se, K) / Math.PI;
          return ge < R ? ge + 360 : ge;
        }, G = 0, q = ho(P, -O, 0).map(W); G < q.length; G++)
          (N = q[G]) > R && N < X && p(fo(d.cX, O, P, N));
        for (var H = 0, Q = ho(V, -C, 0).map(W); H < Q.length; H++) {
          var N;
          (N = Q[H]) > R && N < X && y(fo(d.cY, C, V, N));
        }
      }
      return c;
    });
    return f.minX = 1 / 0, f.maxX = -1 / 0, f.minY = 1 / 0, f.maxY = -1 / 0, f;
  };
})(U || (U = {}));
var oe;
var vl = (function() {
  function a3() {
  }
  return a3.prototype.round = function(e) {
    return this.transform(U.ROUND(e));
  }, a3.prototype.toAbs = function() {
    return this.transform(U.TO_ABS());
  }, a3.prototype.toRel = function() {
    return this.transform(U.TO_REL());
  }, a3.prototype.normalizeHVZ = function(e, t, r) {
    return this.transform(U.NORMALIZE_HVZ(e, t, r));
  }, a3.prototype.normalizeST = function() {
    return this.transform(U.NORMALIZE_ST());
  }, a3.prototype.qtToC = function() {
    return this.transform(U.QT_TO_C());
  }, a3.prototype.aToC = function() {
    return this.transform(U.A_TO_C());
  }, a3.prototype.sanitize = function(e) {
    return this.transform(U.SANITIZE(e));
  }, a3.prototype.translate = function(e, t) {
    return this.transform(U.TRANSLATE(e, t));
  }, a3.prototype.scale = function(e, t) {
    return this.transform(U.SCALE(e, t));
  }, a3.prototype.rotate = function(e, t, r) {
    return this.transform(U.ROTATE(e, t, r));
  }, a3.prototype.matrix = function(e, t, r, i, n, o) {
    return this.transform(U.MATRIX(e, t, r, i, n, o));
  }, a3.prototype.skewX = function(e) {
    return this.transform(U.SKEW_X(e));
  }, a3.prototype.skewY = function(e) {
    return this.transform(U.SKEW_Y(e));
  }, a3.prototype.xSymmetry = function(e) {
    return this.transform(U.X_AXIS_SYMMETRY(e));
  }, a3.prototype.ySymmetry = function(e) {
    return this.transform(U.Y_AXIS_SYMMETRY(e));
  }, a3.prototype.annotateArcs = function() {
    return this.transform(U.ANNOTATE_ARCS());
  }, a3;
})();
var Fb = function(a3) {
  return a3 === " " || a3 === "	" || a3 === "\r" || a3 === `
`;
};
var po = function(a3) {
  return 48 <= a3.charCodeAt(0) && a3.charCodeAt(0) <= 57;
};
var Ub = (function(a3) {
  function e() {
    var t = a3.call(this) || this;
    return t.curNumber = "", t.curCommandType = -1, t.curCommandRelative = false, t.canParseCommandOrComma = true, t.curNumberHasExp = false, t.curNumberHasExpDigits = false, t.curNumberHasDecimal = false, t.curArgs = [], t;
  }
  return hl(e, a3), e.prototype.finish = function(t) {
    if (t === void 0 && (t = []), this.parse(" ", t), this.curArgs.length !== 0 || !this.canParseCommandOrComma) throw new SyntaxError("Unterminated command at the path end.");
    return t;
  }, e.prototype.parse = function(t, r) {
    var i = this;
    r === void 0 && (r = []);
    for (var n = function(f) {
      r.push(f), i.curArgs.length = 0, i.canParseCommandOrComma = true;
    }, o = 0; o < t.length; o++) {
      var s = t[o], u = !(this.curCommandType !== m.ARC || this.curArgs.length !== 3 && this.curArgs.length !== 4 || this.curNumber.length !== 1 || this.curNumber !== "0" && this.curNumber !== "1"), l = po(s) && (this.curNumber === "0" && s === "0" || u);
      if (!po(s) || l) if (s !== "e" && s !== "E") if (s !== "-" && s !== "+" || !this.curNumberHasExp || this.curNumberHasExpDigits) if (s !== "." || this.curNumberHasExp || this.curNumberHasDecimal || u) {
        if (this.curNumber && this.curCommandType !== -1) {
          var h = Number(this.curNumber);
          if (isNaN(h)) throw new SyntaxError("Invalid number ending at " + o);
          if (this.curCommandType === m.ARC) {
            if (this.curArgs.length === 0 || this.curArgs.length === 1) {
              if (0 > h) throw new SyntaxError('Expected positive number, got "' + h + '" at index "' + o + '"');
            } else if ((this.curArgs.length === 3 || this.curArgs.length === 4) && this.curNumber !== "0" && this.curNumber !== "1") throw new SyntaxError('Expected a flag, got "' + this.curNumber + '" at index "' + o + '"');
          }
          this.curArgs.push(h), this.curArgs.length === Gb[this.curCommandType] && (m.HORIZ_LINE_TO === this.curCommandType ? n({ type: m.HORIZ_LINE_TO, relative: this.curCommandRelative, x: h }) : m.VERT_LINE_TO === this.curCommandType ? n({ type: m.VERT_LINE_TO, relative: this.curCommandRelative, y: h }) : this.curCommandType === m.MOVE_TO || this.curCommandType === m.LINE_TO || this.curCommandType === m.SMOOTH_QUAD_TO ? (n({ type: this.curCommandType, relative: this.curCommandRelative, x: this.curArgs[0], y: this.curArgs[1] }), m.MOVE_TO === this.curCommandType && (this.curCommandType = m.LINE_TO)) : this.curCommandType === m.CURVE_TO ? n({ type: m.CURVE_TO, relative: this.curCommandRelative, x1: this.curArgs[0], y1: this.curArgs[1], x2: this.curArgs[2], y2: this.curArgs[3], x: this.curArgs[4], y: this.curArgs[5] }) : this.curCommandType === m.SMOOTH_CURVE_TO ? n({ type: m.SMOOTH_CURVE_TO, relative: this.curCommandRelative, x2: this.curArgs[0], y2: this.curArgs[1], x: this.curArgs[2], y: this.curArgs[3] }) : this.curCommandType === m.QUAD_TO ? n({ type: m.QUAD_TO, relative: this.curCommandRelative, x1: this.curArgs[0], y1: this.curArgs[1], x: this.curArgs[2], y: this.curArgs[3] }) : this.curCommandType === m.ARC && n({ type: m.ARC, relative: this.curCommandRelative, rX: this.curArgs[0], rY: this.curArgs[1], xRot: this.curArgs[2], lArcFlag: this.curArgs[3], sweepFlag: this.curArgs[4], x: this.curArgs[5], y: this.curArgs[6] })), this.curNumber = "", this.curNumberHasExpDigits = false, this.curNumberHasExp = false, this.curNumberHasDecimal = false, this.canParseCommandOrComma = true;
        }
        if (!Fb(s)) if (s === "," && this.canParseCommandOrComma) this.canParseCommandOrComma = false;
        else if (s !== "+" && s !== "-" && s !== ".") if (l) this.curNumber = s, this.curNumberHasDecimal = false;
        else {
          if (this.curArgs.length !== 0) throw new SyntaxError("Unterminated command at index " + o + ".");
          if (!this.canParseCommandOrComma) throw new SyntaxError('Unexpected character "' + s + '" at index ' + o + ". Command cannot follow comma");
          if (this.canParseCommandOrComma = false, s !== "z" && s !== "Z") if (s === "h" || s === "H") this.curCommandType = m.HORIZ_LINE_TO, this.curCommandRelative = s === "h";
          else if (s === "v" || s === "V") this.curCommandType = m.VERT_LINE_TO, this.curCommandRelative = s === "v";
          else if (s === "m" || s === "M") this.curCommandType = m.MOVE_TO, this.curCommandRelative = s === "m";
          else if (s === "l" || s === "L") this.curCommandType = m.LINE_TO, this.curCommandRelative = s === "l";
          else if (s === "c" || s === "C") this.curCommandType = m.CURVE_TO, this.curCommandRelative = s === "c";
          else if (s === "s" || s === "S") this.curCommandType = m.SMOOTH_CURVE_TO, this.curCommandRelative = s === "s";
          else if (s === "q" || s === "Q") this.curCommandType = m.QUAD_TO, this.curCommandRelative = s === "q";
          else if (s === "t" || s === "T") this.curCommandType = m.SMOOTH_QUAD_TO, this.curCommandRelative = s === "t";
          else {
            if (s !== "a" && s !== "A") throw new SyntaxError('Unexpected character "' + s + '" at index ' + o + ".");
            this.curCommandType = m.ARC, this.curCommandRelative = s === "a";
          }
          else r.push({ type: m.CLOSE_PATH }), this.canParseCommandOrComma = true, this.curCommandType = -1;
        }
        else this.curNumber = s, this.curNumberHasDecimal = s === ".";
      } else this.curNumber += s, this.curNumberHasDecimal = true;
      else this.curNumber += s;
      else this.curNumber += s, this.curNumberHasExp = true;
      else this.curNumber += s, this.curNumberHasExpDigits = this.curNumberHasExp;
    }
    return r;
  }, e.prototype.transform = function(t) {
    return Object.create(this, { parse: { value: function(r, i) {
      i === void 0 && (i = []);
      for (var n = 0, o = Object.getPrototypeOf(this).parse.call(this, r); n < o.length; n++) {
        var s = o[n], u = t(s);
        Array.isArray(u) ? i.push.apply(i, u) : i.push(u);
      }
      return i;
    } } });
  }, e;
})(vl);
var m = (function(a3) {
  function e(t) {
    var r = a3.call(this) || this;
    return r.commands = typeof t == "string" ? e.parse(t) : t, r;
  }
  return hl(e, a3), e.prototype.encode = function() {
    return e.encode(this.commands);
  }, e.prototype.getBounds = function() {
    var t = U.CALCULATE_BOUNDS();
    return this.transform(t), t;
  }, e.prototype.transform = function(t) {
    for (var r = [], i = 0, n = this.commands; i < n.length; i++) {
      var o = t(n[i]);
      Array.isArray(o) ? r.push.apply(r, o) : r.push(o);
    }
    return this.commands = r, this;
  }, e.encode = function(t) {
    return jb(t);
  }, e.parse = function(t) {
    var r = new Ub(), i = [];
    return r.parse(t, i), r.finish(i), i;
  }, e.CLOSE_PATH = 1, e.MOVE_TO = 2, e.HORIZ_LINE_TO = 4, e.VERT_LINE_TO = 8, e.LINE_TO = 16, e.CURVE_TO = 32, e.SMOOTH_CURVE_TO = 64, e.QUAD_TO = 128, e.SMOOTH_QUAD_TO = 256, e.ARC = 512, e.LINE_COMMANDS = e.LINE_TO | e.HORIZ_LINE_TO | e.VERT_LINE_TO, e.DRAWING_COMMANDS = e.HORIZ_LINE_TO | e.VERT_LINE_TO | e.LINE_TO | e.CURVE_TO | e.SMOOTH_CURVE_TO | e.QUAD_TO | e.SMOOTH_QUAD_TO | e.ARC, e;
})(vl);
var Gb = ((oe = {})[m.MOVE_TO] = 2, oe[m.LINE_TO] = 2, oe[m.HORIZ_LINE_TO] = 1, oe[m.VERT_LINE_TO] = 1, oe[m.CLOSE_PATH] = 0, oe[m.QUAD_TO] = 4, oe[m.SMOOTH_QUAD_TO] = 2, oe[m.CURVE_TO] = 6, oe[m.SMOOTH_CURVE_TO] = 4, oe[m.ARC] = 7, oe);
var zb = $r.PROPER;
var Hb = Ue;
var Yb = J;
var yo = pe;
var Xb = D;
var Wb = Wi;
var tn = "toString";
var fl = RegExp.prototype;
var cl = fl[tn];
var qb = Xb(function() {
  return cl.call({ source: "a", flags: "b" }) !== "/a/b";
});
var Qb = zb && cl.name !== tn;
(qb || Qb) && Hb(fl, tn, function() {
  var e = Yb(this), t = yo(e.source), r = yo(Wb(e));
  return "/" + t + "/" + r;
}, { unsafe: true });
function fr(a3) {
  "@babel/helpers - typeof";
  return typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? fr = function(e) {
    return typeof e;
  } : fr = function(e) {
    return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
  }, fr(a3);
}
function Kb(a3, e) {
  if (!(a3 instanceof e))
    throw new TypeError("Cannot call a class as a function");
}
var Zb = [512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259];
var Jb = [9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, 17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24];
function e1(a3, e, t, r, i) {
  if (typeof a3 == "string" && (a3 = document.getElementById(a3)), !a3 || fr(a3) !== "object" || !("getContext" in a3))
    throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");
  var n = a3.getContext("2d");
  try {
    return n.getImageData(e, t, r, i);
  } catch (o) {
    throw new Error("unable to access image data: " + o);
  }
}
function t1(a3, e, t, r, i, n) {
  if (!(isNaN(n) || n < 1)) {
    n |= 0;
    var o = e1(a3, e, t, r, i);
    o = r1(o, e, t, r, i, n), a3.getContext("2d").putImageData(o, e, t);
  }
}
function r1(a3, e, t, r, i, n) {
  for (var o = a3.data, s = 2 * n + 1, u = r - 1, l = i - 1, h = n + 1, f = h * (h + 1) / 2, c = new mo(), v = c, g, d = 1; d < s; d++)
    v = v.next = new mo(), d === h && (g = v);
  v.next = c;
  for (var p = null, y = null, x = 0, b = 0, T = Zb[n], $ = Jb[n], E = 0; E < i; E++) {
    v = c;
    for (var O = o[b], C = o[b + 1], P = o[b + 2], V = o[b + 3], j = 0; j < h; j++)
      v.r = O, v.g = C, v.b = P, v.a = V, v = v.next;
    for (var R = 0, X = 0, W = 0, G = 0, q = h * O, H = h * C, Q = h * P, N = h * V, M = f * O, K = f * C, se = f * P, ge = f * V, Se = 1; Se < h; Se++) {
      var ze = b + ((u < Se ? u : Se) << 2), It = o[ze], nn = o[ze + 1], sn = o[ze + 2], on = o[ze + 3], Mt = h - Se;
      M += (v.r = It) * Mt, K += (v.g = nn) * Mt, se += (v.b = sn) * Mt, ge += (v.a = on) * Mt, R += It, X += nn, W += sn, G += on, v = v.next;
    }
    p = c, y = g;
    for (var jr = 0; jr < r; jr++) {
      var Fr = ge * T >>> $;
      if (o[b + 3] = Fr, Fr !== 0) {
        var Ur = 255 / Fr;
        o[b] = (M * T >>> $) * Ur, o[b + 1] = (K * T >>> $) * Ur, o[b + 2] = (se * T >>> $) * Ur;
      } else
        o[b] = o[b + 1] = o[b + 2] = 0;
      M -= q, K -= H, se -= Q, ge -= N, q -= p.r, H -= p.g, Q -= p.b, N -= p.a;
      var Ae = jr + n + 1;
      Ae = x + (Ae < u ? Ae : u) << 2, R += p.r = o[Ae], X += p.g = o[Ae + 1], W += p.b = o[Ae + 2], G += p.a = o[Ae + 3], M += R, K += X, se += W, ge += G, p = p.next;
      var _t = y, un = _t.r, ln = _t.g, hn = _t.b, vn = _t.a;
      q += un, H += ln, Q += hn, N += vn, R -= un, X -= ln, W -= hn, G -= vn, y = y.next, b += 4;
    }
    x += r;
  }
  for (var He = 0; He < r; He++) {
    b = He << 2;
    var Pe = o[b], Re = o[b + 1], Ne = o[b + 2], te = o[b + 3], Gr = h * Pe, zr = h * Re, Hr = h * Ne, Yr = h * te, Vt = f * Pe, Dt = f * Re, Lt = f * Ne, kt = f * te;
    v = c;
    for (var fn = 0; fn < h; fn++)
      v.r = Pe, v.g = Re, v.b = Ne, v.a = te, v = v.next;
    for (var cn = r, Xr = 0, Wr = 0, qr = 0, Qr = 0, Bt = 1; Bt <= n; Bt++) {
      b = cn + He << 2;
      var jt = h - Bt;
      Vt += (v.r = Pe = o[b]) * jt, Dt += (v.g = Re = o[b + 1]) * jt, Lt += (v.b = Ne = o[b + 2]) * jt, kt += (v.a = te = o[b + 3]) * jt, Qr += Pe, Xr += Re, Wr += Ne, qr += te, v = v.next, Bt < l && (cn += r);
    }
    b = He, p = c, y = g;
    for (var Kr = 0; Kr < i; Kr++) {
      var re = b << 2;
      o[re + 3] = te = kt * T >>> $, te > 0 ? (te = 255 / te, o[re] = (Vt * T >>> $) * te, o[re + 1] = (Dt * T >>> $) * te, o[re + 2] = (Lt * T >>> $) * te) : o[re] = o[re + 1] = o[re + 2] = 0, Vt -= Gr, Dt -= zr, Lt -= Hr, kt -= Yr, Gr -= p.r, zr -= p.g, Hr -= p.b, Yr -= p.a, re = He + ((re = Kr + h) < l ? re : l) * r << 2, Vt += Qr += p.r = o[re], Dt += Xr += p.g = o[re + 1], Lt += Wr += p.b = o[re + 2], kt += qr += p.a = o[re + 3], p = p.next, Gr += Pe = y.r, zr += Re = y.g, Hr += Ne = y.b, Yr += te = y.a, Qr -= Pe, Xr -= Re, Wr -= Ne, qr -= te, y = y.next, b += r;
    }
  }
  return a3;
}
var mo = (
  /**
   * Set properties.
   */
  (function a() {
    Kb(this, a), this.r = 0, this.g = 0, this.b = 0, this.a = 0, this.next = null;
  })
);
function a1() {
  var {
    DOMParser: a3
  } = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, e = {
    window: null,
    ignoreAnimation: true,
    ignoreMouse: true,
    DOMParser: a3,
    createCanvas(t, r) {
      return new OffscreenCanvas(t, r);
    },
    createImage(t) {
      return xe(function* () {
        var r = yield fetch(t), i = yield r.blob(), n = yield createImageBitmap(i);
        return n;
      })();
    }
  };
  return (typeof DOMParser < "u" || typeof a3 > "u") && Reflect.deleteProperty(e, "DOMParser"), e;
}
function i1(a3) {
  var {
    DOMParser: e,
    canvas: t,
    fetch: r
  } = a3;
  return {
    window: null,
    ignoreAnimation: true,
    ignoreMouse: true,
    DOMParser: e,
    fetch: r,
    createCanvas: t.createCanvas,
    createImage: t.loadImage
  };
}
var p2 = Object.freeze({
  __proto__: null,
  offscreen: a1,
  node: i1
});
function lt(a3) {
  return a3.replace(/(?!\u3000)\s+/gm, " ");
}
function n1(a3) {
  return a3.replace(/^[\n \t]+/, "");
}
function s1(a3) {
  return a3.replace(/[\n \t]+$/, "");
}
function ne(a3) {
  var e = (a3 || "").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm) || [];
  return e.map(parseFloat);
}
var o1 = /^[A-Z-]+$/;
function u1(a3) {
  return o1.test(a3) ? a3.toLowerCase() : a3;
}
function gl(a3) {
  var e = /url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(a3) || [];
  return e[2] || e[3] || e[4];
}
function l1(a3) {
  if (!a3.startsWith("rgb"))
    return a3;
  var e = 3, t = a3.replace(/\d+(\.\d+)?/g, (r, i) => e-- && i ? String(Math.round(parseFloat(r))) : r);
  return t;
}
var h1 = /(\[[^\]]+\])/g;
var v1 = /(#[^\s+>~.[:]+)/g;
var f1 = /(\.[^\s+>~.[:]+)/g;
var c1 = /(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi;
var g1 = /(:[\w-]+\([^)]*\))/gi;
var d1 = /(:[^\s+>~.[:]+)/g;
var p1 = /([^\s+>~.[:]+)/g;
function Ve(a3, e) {
  var t = e.exec(a3);
  return t ? [a3.replace(e, " "), t.length] : [a3, 0];
}
function y1(a3) {
  var e = [0, 0, 0], t = a3.replace(/:not\(([^)]*)\)/g, "     $1 ").replace(/{[\s\S]*/gm, " "), r = 0;
  return [t, r] = Ve(t, h1), e[1] += r, [t, r] = Ve(t, v1), e[0] += r, [t, r] = Ve(t, f1), e[1] += r, [t, r] = Ve(t, c1), e[2] += r, [t, r] = Ve(t, g1), e[1] += r, [t, r] = Ve(t, d1), e[1] += r, t = t.replace(/[*\s+>~]/g, " ").replace(/[#.]/g, " "), [t, r] = Ve(t, p1), e[2] += r, e.join("");
}
var rt = 1e-8;
function bo(a3) {
  return Math.sqrt(Math.pow(a3[0], 2) + Math.pow(a3[1], 2));
}
function mi(a3, e) {
  return (a3[0] * e[0] + a3[1] * e[1]) / (bo(a3) * bo(e));
}
function xo(a3, e) {
  return (a3[0] * e[1] < a3[1] * e[0] ? -1 : 1) * Math.acos(mi(a3, e));
}
function To(a3) {
  return a3 * a3 * a3;
}
function Oo(a3) {
  return 3 * a3 * a3 * (1 - a3);
}
function So(a3) {
  return 3 * a3 * (1 - a3) * (1 - a3);
}
function Eo(a3) {
  return (1 - a3) * (1 - a3) * (1 - a3);
}
function $o(a3) {
  return a3 * a3;
}
function wo(a3) {
  return 2 * a3 * (1 - a3);
}
function Co(a3) {
  return (1 - a3) * (1 - a3);
}
var S = class _S {
  constructor(e, t, r) {
    this.document = e, this.name = t, this.value = r, this.isNormalizedColor = false;
  }
  static empty(e) {
    return new _S(e, "EMPTY", "");
  }
  split() {
    var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : " ", {
      document: t,
      name: r
    } = this;
    return lt(this.getString()).trim().split(e).map((i) => new _S(t, r, i));
  }
  hasValue(e) {
    var {
      value: t
    } = this;
    return t !== null && t !== "" && (e || t !== 0) && typeof t < "u";
  }
  isString(e) {
    var {
      value: t
    } = this, r = typeof t == "string";
    return !r || !e ? r : e.test(t);
  }
  isUrlDefinition() {
    return this.isString(/^url\(/);
  }
  isPixels() {
    if (!this.hasValue())
      return false;
    var e = this.getString();
    switch (true) {
      case e.endsWith("px"):
      case /^[0-9]+$/.test(e):
        return true;
      default:
        return false;
    }
  }
  setValue(e) {
    return this.value = e, this;
  }
  getValue(e) {
    return typeof e > "u" || this.hasValue() ? this.value : e;
  }
  getNumber(e) {
    if (!this.hasValue())
      return typeof e > "u" ? 0 : parseFloat(e);
    var {
      value: t
    } = this, r = parseFloat(t);
    return this.isString(/%$/) && (r /= 100), r;
  }
  getString(e) {
    return typeof e > "u" || this.hasValue() ? typeof this.value > "u" ? "" : String(this.value) : String(e);
  }
  getColor(e) {
    var t = this.getString(e);
    return this.isNormalizedColor || (this.isNormalizedColor = true, t = l1(t), this.value = t), t;
  }
  getDpi() {
    return 96;
  }
  getRem() {
    return this.document.rootEmSize;
  }
  getEm() {
    return this.document.emSize;
  }
  getUnits() {
    return this.getString().replace(/[0-9.-]/g, "");
  }
  getPixels(e) {
    var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
    if (!this.hasValue())
      return 0;
    var [r, i] = typeof e == "boolean" ? [void 0, e] : [e], {
      viewPort: n
    } = this.document.screen;
    switch (true) {
      case this.isString(/vmin$/):
        return this.getNumber() / 100 * Math.min(n.computeSize("x"), n.computeSize("y"));
      case this.isString(/vmax$/):
        return this.getNumber() / 100 * Math.max(n.computeSize("x"), n.computeSize("y"));
      case this.isString(/vw$/):
        return this.getNumber() / 100 * n.computeSize("x");
      case this.isString(/vh$/):
        return this.getNumber() / 100 * n.computeSize("y");
      case this.isString(/rem$/):
        return this.getNumber() * this.getRem();
      case this.isString(/em$/):
        return this.getNumber() * this.getEm();
      case this.isString(/ex$/):
        return this.getNumber() * this.getEm() / 2;
      case this.isString(/px$/):
        return this.getNumber();
      case this.isString(/pt$/):
        return this.getNumber() * this.getDpi() * (1 / 72);
      case this.isString(/pc$/):
        return this.getNumber() * 15;
      case this.isString(/cm$/):
        return this.getNumber() * this.getDpi() / 2.54;
      case this.isString(/mm$/):
        return this.getNumber() * this.getDpi() / 25.4;
      case this.isString(/in$/):
        return this.getNumber() * this.getDpi();
      case (this.isString(/%$/) && i):
        return this.getNumber() * this.getEm();
      case this.isString(/%$/):
        return this.getNumber() * n.computeSize(r);
      default: {
        var o = this.getNumber();
        return t && o < 1 ? o * n.computeSize(r) : o;
      }
    }
  }
  getMilliseconds() {
    return this.hasValue() ? this.isString(/ms$/) ? this.getNumber() : this.getNumber() * 1e3 : 0;
  }
  getRadians() {
    if (!this.hasValue())
      return 0;
    switch (true) {
      case this.isString(/deg$/):
        return this.getNumber() * (Math.PI / 180);
      case this.isString(/grad$/):
        return this.getNumber() * (Math.PI / 200);
      case this.isString(/rad$/):
        return this.getNumber();
      default:
        return this.getNumber() * (Math.PI / 180);
    }
  }
  getDefinition() {
    var e = this.getString(), t = /#([^)'"]+)/.exec(e);
    return t && (t = t[1]), t || (t = e), this.document.definitions[t];
  }
  getFillStyleDefinition(e, t) {
    var r = this.getDefinition();
    if (!r)
      return null;
    if (typeof r.createGradient == "function")
      return r.createGradient(this.document.ctx, e, t);
    if (typeof r.createPattern == "function") {
      if (r.getHrefAttribute().hasValue()) {
        var i = r.getAttribute("patternTransform");
        r = r.getHrefAttribute().getDefinition(), i.hasValue() && r.getAttribute("patternTransform", true).setValue(i.value);
      }
      return r.createPattern(this.document.ctx, e, t);
    }
    return null;
  }
  getTextBaseline() {
    return this.hasValue() ? _S.textBaselineMapping[this.getString()] : null;
  }
  addOpacity(e) {
    for (var t = this.getColor(), r = t.length, i = 0, n = 0; n < r && (t[n] === "," && i++, i !== 3); n++)
      ;
    if (e.hasValue() && this.isString() && i !== 3) {
      var o = new di(t);
      o.ok && (o.alpha = e.getNumber(), t = o.toRGBA());
    }
    return new _S(this.document, this.name, t);
  }
};
S.textBaselineMapping = {
  baseline: "alphabetic",
  "before-edge": "top",
  "text-before-edge": "top",
  middle: "middle",
  central: "middle",
  "after-edge": "bottom",
  "text-after-edge": "bottom",
  ideographic: "ideographic",
  alphabetic: "alphabetic",
  hanging: "hanging",
  mathematical: "alphabetic"
};
var m1 = class {
  constructor() {
    this.viewPorts = [];
  }
  clear() {
    this.viewPorts = [];
  }
  setCurrent(e, t) {
    this.viewPorts.push({
      width: e,
      height: t
    });
  }
  removeCurrent() {
    this.viewPorts.pop();
  }
  getCurrent() {
    var {
      viewPorts: e
    } = this;
    return e[e.length - 1];
  }
  get width() {
    return this.getCurrent().width;
  }
  get height() {
    return this.getCurrent().height;
  }
  computeSize(e) {
    return typeof e == "number" ? e : e === "x" ? this.width : e === "y" ? this.height : Math.sqrt(Math.pow(this.width, 2) + Math.pow(this.height, 2)) / Math.sqrt(2);
  }
};
var k = class _k {
  constructor(e, t) {
    this.x = e, this.y = t;
  }
  static parse(e) {
    var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, [r = t, i = t] = ne(e);
    return new _k(r, i);
  }
  static parseScale(e) {
    var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1, [r = t, i = r] = ne(e);
    return new _k(r, i);
  }
  static parsePath(e) {
    for (var t = ne(e), r = t.length, i = [], n = 0; n < r; n += 2)
      i.push(new _k(t[n], t[n + 1]));
    return i;
  }
  angleTo(e) {
    return Math.atan2(e.y - this.y, e.x - this.x);
  }
  applyTransform(e) {
    var {
      x: t,
      y: r
    } = this, i = t * e[0] + r * e[2] + e[4], n = t * e[1] + r * e[3] + e[5];
    this.x = i, this.y = n;
  }
};
var b1 = class {
  constructor(e) {
    this.screen = e, this.working = false, this.events = [], this.eventElements = [], this.onClick = this.onClick.bind(this), this.onMouseMove = this.onMouseMove.bind(this);
  }
  isWorking() {
    return this.working;
  }
  start() {
    if (!this.working) {
      var {
        screen: e,
        onClick: t,
        onMouseMove: r
      } = this, i = e.ctx.canvas;
      i.onclick = t, i.onmousemove = r, this.working = true;
    }
  }
  stop() {
    if (this.working) {
      var e = this.screen.ctx.canvas;
      this.working = false, e.onclick = null, e.onmousemove = null;
    }
  }
  hasEvents() {
    return this.working && this.events.length > 0;
  }
  runEvents() {
    if (this.working) {
      var {
        screen: e,
        events: t,
        eventElements: r
      } = this, {
        style: i
      } = e.ctx.canvas;
      i && (i.cursor = ""), t.forEach((n, o) => {
        for (var {
          run: s
        } = n, u = r[o]; u; )
          s(u), u = u.parent;
      }), this.events = [], this.eventElements = [];
    }
  }
  checkPath(e, t) {
    if (!(!this.working || !t)) {
      var {
        events: r,
        eventElements: i
      } = this;
      r.forEach((n, o) => {
        var {
          x: s,
          y: u
        } = n;
        !i[o] && t.isPointInPath && t.isPointInPath(s, u) && (i[o] = e);
      });
    }
  }
  checkBoundingBox(e, t) {
    if (!(!this.working || !t)) {
      var {
        events: r,
        eventElements: i
      } = this;
      r.forEach((n, o) => {
        var {
          x: s,
          y: u
        } = n;
        !i[o] && t.isPointInBox(s, u) && (i[o] = e);
      });
    }
  }
  mapXY(e, t) {
    for (var {
      window: r,
      ctx: i
    } = this.screen, n = new k(e, t), o = i.canvas; o; )
      n.x -= o.offsetLeft, n.y -= o.offsetTop, o = o.offsetParent;
    return r.scrollX && (n.x += r.scrollX), r.scrollY && (n.y += r.scrollY), n;
  }
  onClick(e) {
    var {
      x: t,
      y: r
    } = this.mapXY(e.clientX, e.clientY);
    this.events.push({
      type: "onclick",
      x: t,
      y: r,
      run(i) {
        i.onClick && i.onClick();
      }
    });
  }
  onMouseMove(e) {
    var {
      x: t,
      y: r
    } = this.mapXY(e.clientX, e.clientY);
    this.events.push({
      type: "onmousemove",
      x: t,
      y: r,
      run(i) {
        i.onMouseMove && i.onMouseMove();
      }
    });
  }
};
var dl = typeof window < "u" ? window : null;
var pl = typeof fetch < "u" ? fetch.bind(void 0) : null;
var Dr = class {
  constructor(e) {
    var {
      fetch: t = pl,
      window: r = dl
    } = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    this.ctx = e, this.FRAMERATE = 30, this.MAX_VIRTUAL_PIXELS = 3e4, this.CLIENT_WIDTH = 800, this.CLIENT_HEIGHT = 600, this.viewPort = new m1(), this.mouse = new b1(this), this.animations = [], this.waits = [], this.frameDuration = 0, this.isReadyLock = false, this.isFirstRender = true, this.intervalId = null, this.window = r, this.fetch = t;
  }
  wait(e) {
    this.waits.push(e);
  }
  ready() {
    return this.readyPromise ? this.readyPromise : Promise.resolve();
  }
  isReady() {
    if (this.isReadyLock)
      return true;
    var e = this.waits.every((t) => t());
    return e && (this.waits = [], this.resolveReady && this.resolveReady()), this.isReadyLock = e, e;
  }
  setDefaults(e) {
    e.strokeStyle = "rgba(0,0,0,0)", e.lineCap = "butt", e.lineJoin = "miter", e.miterLimit = 4;
  }
  setViewBox(e) {
    var {
      document: t,
      ctx: r,
      aspectRatio: i,
      width: n,
      desiredWidth: o,
      height: s,
      desiredHeight: u,
      minX: l = 0,
      minY: h = 0,
      refX: f,
      refY: c,
      clip: v = false,
      clipX: g = 0,
      clipY: d = 0
    } = e, p = lt(i).replace(/^defer\s/, ""), [y, x] = p.split(" "), b = y || "xMidYMid", T = x || "meet", $ = n / o, E = s / u, O = Math.min($, E), C = Math.max($, E), P = o, V = u;
    T === "meet" && (P *= O, V *= O), T === "slice" && (P *= C, V *= C);
    var j = new S(t, "refX", f), R = new S(t, "refY", c), X = j.hasValue() && R.hasValue();
    if (X && r.translate(-O * j.getPixels("x"), -O * R.getPixels("y")), v) {
      var W = O * g, G = O * d;
      r.beginPath(), r.moveTo(W, G), r.lineTo(n, G), r.lineTo(n, s), r.lineTo(W, s), r.closePath(), r.clip();
    }
    if (!X) {
      var q = T === "meet" && O === E, H = T === "slice" && C === E, Q = T === "meet" && O === $, N = T === "slice" && C === $;
      b.startsWith("xMid") && (q || H) && r.translate(n / 2 - P / 2, 0), b.endsWith("YMid") && (Q || N) && r.translate(0, s / 2 - V / 2), b.startsWith("xMax") && (q || H) && r.translate(n - P, 0), b.endsWith("YMax") && (Q || N) && r.translate(0, s - V);
    }
    switch (true) {
      case b === "none":
        r.scale($, E);
        break;
      case T === "meet":
        r.scale(O, O);
        break;
      case T === "slice":
        r.scale(C, C);
        break;
    }
    r.translate(-l, -h);
  }
  start(e) {
    var {
      enableRedraw: t = false,
      ignoreMouse: r = false,
      ignoreAnimation: i = false,
      ignoreDimensions: n = false,
      ignoreClear: o = false,
      forceRedraw: s,
      scaleWidth: u,
      scaleHeight: l,
      offsetX: h,
      offsetY: f
    } = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, {
      FRAMERATE: c,
      mouse: v
    } = this, g = 1e3 / c;
    if (this.frameDuration = g, this.readyPromise = new Promise((b) => {
      this.resolveReady = b;
    }), this.isReady() && this.render(e, n, o, u, l, h, f), !!t) {
      var d = Date.now(), p = d, y = 0, x = () => {
        d = Date.now(), y = d - p, y >= g && (p = d - y % g, this.shouldUpdate(i, s) && (this.render(e, n, o, u, l, h, f), v.runEvents())), this.intervalId = Fa(x);
      };
      r || v.start(), this.intervalId = Fa(x);
    }
  }
  stop() {
    this.intervalId && (Fa.cancel(this.intervalId), this.intervalId = null), this.mouse.stop();
  }
  shouldUpdate(e, t) {
    if (!e) {
      var {
        frameDuration: r
      } = this, i = this.animations.reduce((n, o) => o.update(r) || n, false);
      if (i)
        return true;
    }
    return !!(typeof t == "function" && t() || !this.isReadyLock && this.isReady() || this.mouse.hasEvents());
  }
  render(e, t, r, i, n, o, s) {
    var {
      CLIENT_WIDTH: u,
      CLIENT_HEIGHT: l,
      viewPort: h,
      ctx: f,
      isFirstRender: c
    } = this, v = f.canvas;
    h.clear(), v.width && v.height ? h.setCurrent(v.width, v.height) : h.setCurrent(u, l);
    var g = e.getStyle("width"), d = e.getStyle("height");
    !t && (c || typeof i != "number" && typeof n != "number") && (g.hasValue() && (v.width = g.getPixels("x"), v.style && (v.style.width = "".concat(v.width, "px"))), d.hasValue() && (v.height = d.getPixels("y"), v.style && (v.style.height = "".concat(v.height, "px"))));
    var p = v.clientWidth || v.width, y = v.clientHeight || v.height;
    if (t && g.hasValue() && d.hasValue() && (p = g.getPixels("x"), y = d.getPixels("y")), h.setCurrent(p, y), typeof o == "number" && e.getAttribute("x", true).setValue(o), typeof s == "number" && e.getAttribute("y", true).setValue(s), typeof i == "number" || typeof n == "number") {
      var x = ne(e.getAttribute("viewBox").getString()), b = 0, T = 0;
      if (typeof i == "number") {
        var $ = e.getStyle("width");
        $.hasValue() ? b = $.getPixels("x") / i : isNaN(x[2]) || (b = x[2] / i);
      }
      if (typeof n == "number") {
        var E = e.getStyle("height");
        E.hasValue() ? T = E.getPixels("y") / n : isNaN(x[3]) || (T = x[3] / n);
      }
      b || (b = T), T || (T = b), e.getAttribute("width", true).setValue(i), e.getAttribute("height", true).setValue(n);
      var O = e.getStyle("transform", true, true);
      O.setValue("".concat(O.getString(), " scale(").concat(1 / b, ", ").concat(1 / T, ")"));
    }
    r || f.clearRect(0, 0, p, y), e.render(f), c && (this.isFirstRender = false);
  }
};
Dr.defaultWindow = dl;
Dr.defaultFetch = pl;
var {
  defaultFetch: x1
} = Dr;
var T1 = typeof DOMParser < "u" ? DOMParser : null;
var Ga = class {
  constructor() {
    var {
      fetch: e = x1,
      DOMParser: t = T1
    } = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    this.fetch = e, this.DOMParser = t;
  }
  parse(e) {
    var t = this;
    return xe(function* () {
      return e.startsWith("<") ? t.parseFromString(e) : t.load(e);
    })();
  }
  parseFromString(e) {
    var t = new this.DOMParser();
    try {
      return this.checkDocument(t.parseFromString(e, "image/svg+xml"));
    } catch {
      return this.checkDocument(t.parseFromString(e, "text/xml"));
    }
  }
  checkDocument(e) {
    var t = e.getElementsByTagName("parsererror")[0];
    if (t)
      throw new Error(t.textContent);
    return e;
  }
  load(e) {
    var t = this;
    return xe(function* () {
      var r = yield t.fetch(e), i = yield r.text();
      return t.parseFromString(i);
    })();
  }
};
var O1 = class {
  constructor(e, t) {
    this.type = "translate", this.point = null, this.point = k.parse(t);
  }
  apply(e) {
    var {
      x: t,
      y: r
    } = this.point;
    e.translate(t || 0, r || 0);
  }
  unapply(e) {
    var {
      x: t,
      y: r
    } = this.point;
    e.translate(-1 * t || 0, -1 * r || 0);
  }
  applyToPoint(e) {
    var {
      x: t,
      y: r
    } = this.point;
    e.applyTransform([1, 0, 0, 1, t || 0, r || 0]);
  }
};
var S1 = class {
  constructor(e, t, r) {
    this.type = "rotate", this.angle = null, this.originX = null, this.originY = null, this.cx = 0, this.cy = 0;
    var i = ne(t);
    this.angle = new S(e, "angle", i[0]), this.originX = r[0], this.originY = r[1], this.cx = i[1] || 0, this.cy = i[2] || 0;
  }
  apply(e) {
    var {
      cx: t,
      cy: r,
      originX: i,
      originY: n,
      angle: o
    } = this, s = t + i.getPixels("x"), u = r + n.getPixels("y");
    e.translate(s, u), e.rotate(o.getRadians()), e.translate(-s, -u);
  }
  unapply(e) {
    var {
      cx: t,
      cy: r,
      originX: i,
      originY: n,
      angle: o
    } = this, s = t + i.getPixels("x"), u = r + n.getPixels("y");
    e.translate(s, u), e.rotate(-1 * o.getRadians()), e.translate(-s, -u);
  }
  applyToPoint(e) {
    var {
      cx: t,
      cy: r,
      angle: i
    } = this, n = i.getRadians();
    e.applyTransform([
      1,
      0,
      0,
      1,
      t || 0,
      r || 0
      // this.p.y
    ]), e.applyTransform([Math.cos(n), Math.sin(n), -Math.sin(n), Math.cos(n), 0, 0]), e.applyTransform([
      1,
      0,
      0,
      1,
      -t || 0,
      -r || 0
      // -this.p.y
    ]);
  }
};
var E1 = class {
  constructor(e, t, r) {
    this.type = "scale", this.scale = null, this.originX = null, this.originY = null;
    var i = k.parseScale(t);
    (i.x === 0 || i.y === 0) && (i.x = rt, i.y = rt), this.scale = i, this.originX = r[0], this.originY = r[1];
  }
  apply(e) {
    var {
      scale: {
        x: t,
        y: r
      },
      originX: i,
      originY: n
    } = this, o = i.getPixels("x"), s = n.getPixels("y");
    e.translate(o, s), e.scale(t, r || t), e.translate(-o, -s);
  }
  unapply(e) {
    var {
      scale: {
        x: t,
        y: r
      },
      originX: i,
      originY: n
    } = this, o = i.getPixels("x"), s = n.getPixels("y");
    e.translate(o, s), e.scale(1 / t, 1 / r || t), e.translate(-o, -s);
  }
  applyToPoint(e) {
    var {
      x: t,
      y: r
    } = this.scale;
    e.applyTransform([t || 0, 0, 0, r || 0, 0, 0]);
  }
};
var yl = class {
  constructor(e, t, r) {
    this.type = "matrix", this.matrix = [], this.originX = null, this.originY = null, this.matrix = ne(t), this.originX = r[0], this.originY = r[1];
  }
  apply(e) {
    var {
      originX: t,
      originY: r,
      matrix: i
    } = this, n = t.getPixels("x"), o = r.getPixels("y");
    e.translate(n, o), e.transform(i[0], i[1], i[2], i[3], i[4], i[5]), e.translate(-n, -o);
  }
  unapply(e) {
    var {
      originX: t,
      originY: r,
      matrix: i
    } = this, n = i[0], o = i[2], s = i[4], u = i[1], l = i[3], h = i[5], f = 0, c = 0, v = 1, g = 1 / (n * (l * v - h * c) - o * (u * v - h * f) + s * (u * c - l * f)), d = t.getPixels("x"), p = r.getPixels("y");
    e.translate(d, p), e.transform(g * (l * v - h * c), g * (h * f - u * v), g * (s * c - o * v), g * (n * v - s * f), g * (o * h - s * l), g * (s * u - n * h)), e.translate(-d, -p);
  }
  applyToPoint(e) {
    e.applyTransform(this.matrix);
  }
};
var ml = class extends yl {
  constructor(e, t, r) {
    super(e, t, r), this.type = "skew", this.angle = null, this.angle = new S(e, "angle", t);
  }
};
var $1 = class extends ml {
  constructor(e, t, r) {
    super(e, t, r), this.type = "skewX", this.matrix = [1, 0, Math.tan(this.angle.getRadians()), 1, 0, 0];
  }
};
var w1 = class extends ml {
  constructor(e, t, r) {
    super(e, t, r), this.type = "skewY", this.matrix = [1, Math.tan(this.angle.getRadians()), 0, 1, 0, 0];
  }
};
function C1(a3) {
  return lt(a3).trim().replace(/\)([a-zA-Z])/g, ") $1").replace(/\)(\s?,\s?)/g, ") ").split(/\s(?=[a-z])/);
}
function A1(a3) {
  var [e, t] = a3.split("(");
  return [e.trim(), t.trim().replace(")", "")];
}
var Be = class _Be {
  constructor(e, t, r) {
    this.document = e, this.transforms = [];
    var i = C1(t);
    i.forEach((n) => {
      if (n !== "none") {
        var [o, s] = A1(n), u = _Be.transformTypes[o];
        typeof u < "u" && this.transforms.push(new u(this.document, s, r));
      }
    });
  }
  static fromElement(e, t) {
    var r = t.getStyle("transform", false, true), [i, n = i] = t.getStyle("transform-origin", false, true).split(), o = [i, n];
    return r.hasValue() ? new _Be(e, r.getString(), o) : null;
  }
  apply(e) {
    for (var {
      transforms: t
    } = this, r = t.length, i = 0; i < r; i++)
      t[i].apply(e);
  }
  unapply(e) {
    for (var {
      transforms: t
    } = this, r = t.length, i = r - 1; i >= 0; i--)
      t[i].unapply(e);
  }
  // TODO: applyToPoint unused ... remove?
  applyToPoint(e) {
    for (var {
      transforms: t
    } = this, r = t.length, i = 0; i < r; i++)
      t[i].applyToPoint(e);
  }
};
Be.transformTypes = {
  translate: O1,
  rotate: S1,
  scale: E1,
  matrix: yl,
  skewX: $1,
  skewY: w1
};
var I = class _I {
  constructor(e, t) {
    var r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;
    if (this.document = e, this.node = t, this.captureTextNodes = r, this.attributes = /* @__PURE__ */ Object.create(null), this.styles = /* @__PURE__ */ Object.create(null), this.stylesSpecificity = /* @__PURE__ */ Object.create(null), this.animationFrozen = false, this.animationFrozenValue = "", this.parent = null, this.children = [], !(!t || t.nodeType !== 1)) {
      if (Array.from(t.attributes).forEach((s) => {
        var u = u1(s.nodeName);
        this.attributes[u] = new S(e, u, s.value);
      }), this.addStylesFromStyleDefinition(), this.getAttribute("style").hasValue()) {
        var i = this.getAttribute("style").getString().split(";").map((s) => s.trim());
        i.forEach((s) => {
          if (s) {
            var [u, l] = s.split(":").map((h) => h.trim());
            this.styles[u] = new S(e, u, l);
          }
        });
      }
      var {
        definitions: n
      } = e, o = this.getAttribute("id");
      o.hasValue() && (n[o.getString()] || (n[o.getString()] = this)), Array.from(t.childNodes).forEach((s) => {
        if (s.nodeType === 1)
          this.addChild(s);
        else if (r && (s.nodeType === 3 || s.nodeType === 4)) {
          var u = e.createTextNode(s);
          u.getText().length > 0 && this.addChild(u);
        }
      });
    }
  }
  getAttribute(e) {
    var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false, r = this.attributes[e];
    if (!r && t) {
      var i = new S(this.document, e, "");
      return this.attributes[e] = i, i;
    }
    return r || S.empty(this.document);
  }
  getHrefAttribute() {
    for (var e in this.attributes)
      if (e === "href" || e.endsWith(":href"))
        return this.attributes[e];
    return S.empty(this.document);
  }
  getStyle(e) {
    var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false, r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false, i = this.styles[e];
    if (i)
      return i;
    var n = this.getAttribute(e);
    if (n != null && n.hasValue())
      return this.styles[e] = n, n;
    if (!r) {
      var {
        parent: o
      } = this;
      if (o) {
        var s = o.getStyle(e);
        if (s != null && s.hasValue())
          return s;
      }
    }
    if (t) {
      var u = new S(this.document, e, "");
      return this.styles[e] = u, u;
    }
    return i || S.empty(this.document);
  }
  render(e) {
    if (!(this.getStyle("display").getString() === "none" || this.getStyle("visibility").getString() === "hidden")) {
      if (e.save(), this.getStyle("mask").hasValue()) {
        var t = this.getStyle("mask").getDefinition();
        t && (this.applyEffects(e), t.apply(e, this));
      } else if (this.getStyle("filter").getValue("none") !== "none") {
        var r = this.getStyle("filter").getDefinition();
        r && (this.applyEffects(e), r.apply(e, this));
      } else
        this.setContext(e), this.renderChildren(e), this.clearContext(e);
      e.restore();
    }
  }
  setContext(e) {
  }
  applyEffects(e) {
    var t = Be.fromElement(this.document, this);
    t && t.apply(e);
    var r = this.getStyle("clip-path", false, true);
    if (r.hasValue()) {
      var i = r.getDefinition();
      i && i.apply(e);
    }
  }
  clearContext(e) {
  }
  renderChildren(e) {
    this.children.forEach((t) => {
      t.render(e);
    });
  }
  addChild(e) {
    var t = e instanceof _I ? e : this.document.createElement(e);
    t.parent = this, _I.ignoreChildTypes.includes(t.type) || this.children.push(t);
  }
  matchesSelector(e) {
    var t, {
      node: r
    } = this;
    if (typeof r.matches == "function")
      return r.matches(e);
    var i = (t = r.getAttribute) === null || t === void 0 ? void 0 : t.call(r, "class");
    return !i || i === "" ? false : i.split(" ").some((n) => ".".concat(n) === e);
  }
  addStylesFromStyleDefinition() {
    var {
      styles: e,
      stylesSpecificity: t
    } = this.document;
    for (var r in e)
      if (!r.startsWith("@") && this.matchesSelector(r)) {
        var i = e[r], n = t[r];
        if (i)
          for (var o in i) {
            var s = this.stylesSpecificity[o];
            typeof s > "u" && (s = "000"), n >= s && (this.styles[o] = i[o], this.stylesSpecificity[o] = n);
          }
      }
  }
  removeStyles(e, t) {
    var r = t.reduce((i, n) => {
      var o = e.getStyle(n);
      if (!o.hasValue())
        return i;
      var s = o.getString();
      return o.setValue(""), [...i, [n, s]];
    }, []);
    return r;
  }
  restoreStyles(e, t) {
    t.forEach((r) => {
      var [i, n] = r;
      e.getStyle(i, true).setValue(n);
    });
  }
  isFirstChild() {
    var e;
    return ((e = this.parent) === null || e === void 0 ? void 0 : e.children.indexOf(this)) === 0;
  }
};
I.ignoreChildTypes = ["title"];
var P1 = class extends I {
  constructor(e, t, r) {
    super(e, t, r);
  }
};
function R1(a3) {
  var e = a3.trim();
  return /^('|")/.test(e) ? e : '"'.concat(e, '"');
}
function N1(a3) {
  return typeof process > "u" ? a3 : a3.trim().split(",").map(R1).join(",");
}
function I1(a3) {
  if (!a3)
    return "";
  var e = a3.trim().toLowerCase();
  switch (e) {
    case "normal":
    case "italic":
    case "oblique":
    case "inherit":
    case "initial":
    case "unset":
      return e;
    default:
      return /^oblique\s+(-|)\d+deg$/.test(e) ? e : "";
  }
}
function M1(a3) {
  if (!a3)
    return "";
  var e = a3.trim().toLowerCase();
  switch (e) {
    case "normal":
    case "bold":
    case "lighter":
    case "bolder":
    case "inherit":
    case "initial":
    case "unset":
      return e;
    default:
      return /^[\d.]+$/.test(e) ? e : "";
  }
}
var Z = class _Z {
  constructor(e, t, r, i, n, o) {
    var s = o ? typeof o == "string" ? _Z.parse(o) : o : {};
    this.fontFamily = n || s.fontFamily, this.fontSize = i || s.fontSize, this.fontStyle = e || s.fontStyle, this.fontWeight = r || s.fontWeight, this.fontVariant = t || s.fontVariant;
  }
  static parse() {
    var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : "", t = arguments.length > 1 ? arguments[1] : void 0, r = "", i = "", n = "", o = "", s = "", u = lt(e).trim().split(" "), l = {
      fontSize: false,
      fontStyle: false,
      fontWeight: false,
      fontVariant: false
    };
    return u.forEach((h) => {
      switch (true) {
        case (!l.fontStyle && _Z.styles.includes(h)):
          h !== "inherit" && (r = h), l.fontStyle = true;
          break;
        case (!l.fontVariant && _Z.variants.includes(h)):
          h !== "inherit" && (i = h), l.fontStyle = true, l.fontVariant = true;
          break;
        case (!l.fontWeight && _Z.weights.includes(h)):
          h !== "inherit" && (n = h), l.fontStyle = true, l.fontVariant = true, l.fontWeight = true;
          break;
        case !l.fontSize:
          h !== "inherit" && ([o] = h.split("/")), l.fontStyle = true, l.fontVariant = true, l.fontWeight = true, l.fontSize = true;
          break;
        default:
          h !== "inherit" && (s += h);
      }
    }), new _Z(r, i, n, o, s, t);
  }
  toString() {
    return [
      I1(this.fontStyle),
      this.fontVariant,
      M1(this.fontWeight),
      this.fontSize,
      // Wrap fontFamily only on nodejs and only for canvas.ctx
      N1(this.fontFamily)
    ].join(" ").trim();
  }
};
Z.styles = "normal|italic|oblique|inherit";
Z.variants = "normal|small-caps|inherit";
Z.weights = "normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";
var ce = class {
  constructor() {
    var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : Number.NaN, t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Number.NaN, r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : Number.NaN, i = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : Number.NaN;
    this.x1 = e, this.y1 = t, this.x2 = r, this.y2 = i, this.addPoint(e, t), this.addPoint(r, i);
  }
  get x() {
    return this.x1;
  }
  get y() {
    return this.y1;
  }
  get width() {
    return this.x2 - this.x1;
  }
  get height() {
    return this.y2 - this.y1;
  }
  addPoint(e, t) {
    typeof e < "u" && ((isNaN(this.x1) || isNaN(this.x2)) && (this.x1 = e, this.x2 = e), e < this.x1 && (this.x1 = e), e > this.x2 && (this.x2 = e)), typeof t < "u" && ((isNaN(this.y1) || isNaN(this.y2)) && (this.y1 = t, this.y2 = t), t < this.y1 && (this.y1 = t), t > this.y2 && (this.y2 = t));
  }
  addX(e) {
    this.addPoint(e, null);
  }
  addY(e) {
    this.addPoint(null, e);
  }
  addBoundingBox(e) {
    if (e) {
      var {
        x1: t,
        y1: r,
        x2: i,
        y2: n
      } = e;
      this.addPoint(t, r), this.addPoint(i, n);
    }
  }
  sumCubic(e, t, r, i, n) {
    return Math.pow(1 - e, 3) * t + 3 * Math.pow(1 - e, 2) * e * r + 3 * (1 - e) * Math.pow(e, 2) * i + Math.pow(e, 3) * n;
  }
  bezierCurveAdd(e, t, r, i, n) {
    var o = 6 * t - 12 * r + 6 * i, s = -3 * t + 9 * r - 9 * i + 3 * n, u = 3 * r - 3 * t;
    if (s === 0) {
      if (o === 0)
        return;
      var l = -u / o;
      0 < l && l < 1 && (e ? this.addX(this.sumCubic(l, t, r, i, n)) : this.addY(this.sumCubic(l, t, r, i, n)));
      return;
    }
    var h = Math.pow(o, 2) - 4 * u * s;
    if (!(h < 0)) {
      var f = (-o + Math.sqrt(h)) / (2 * s);
      0 < f && f < 1 && (e ? this.addX(this.sumCubic(f, t, r, i, n)) : this.addY(this.sumCubic(f, t, r, i, n)));
      var c = (-o - Math.sqrt(h)) / (2 * s);
      0 < c && c < 1 && (e ? this.addX(this.sumCubic(c, t, r, i, n)) : this.addY(this.sumCubic(c, t, r, i, n)));
    }
  }
  // from http://blog.hackers-cafe.net/2009/06/how-to-calculate-bezier-curves-bounding.html
  addBezierCurve(e, t, r, i, n, o, s, u) {
    this.addPoint(e, t), this.addPoint(s, u), this.bezierCurveAdd(true, e, r, n, s), this.bezierCurveAdd(false, t, i, o, u);
  }
  addQuadraticCurve(e, t, r, i, n, o) {
    var s = e + 0.6666666666666666 * (r - e), u = t + 2 / 3 * (i - t), l = s + 1 / 3 * (n - e), h = u + 1 / 3 * (o - t);
    this.addBezierCurve(e, t, s, l, u, h, n, o);
  }
  isPointInBox(e, t) {
    var {
      x1: r,
      y1: i,
      x2: n,
      y2: o
    } = this;
    return r <= e && e <= n && i <= t && t <= o;
  }
};
var w = class extends m {
  constructor(e) {
    super(e.replace(/([+\-.])\s+/gm, "$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g, "")), this.control = null, this.start = null, this.current = null, this.command = null, this.commands = this.commands, this.i = -1, this.previousCommand = null, this.points = [], this.angles = [];
  }
  reset() {
    this.i = -1, this.command = null, this.previousCommand = null, this.start = new k(0, 0), this.control = new k(0, 0), this.current = new k(0, 0), this.points = [], this.angles = [];
  }
  isEnd() {
    var {
      i: e,
      commands: t
    } = this;
    return e >= t.length - 1;
  }
  next() {
    var e = this.commands[++this.i];
    return this.previousCommand = this.command, this.command = e, e;
  }
  getPoint() {
    var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : "x", t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "y", r = new k(this.command[e], this.command[t]);
    return this.makeAbsolute(r);
  }
  getAsControlPoint(e, t) {
    var r = this.getPoint(e, t);
    return this.control = r, r;
  }
  getAsCurrentPoint(e, t) {
    var r = this.getPoint(e, t);
    return this.current = r, r;
  }
  getReflectedControlPoint() {
    var e = this.previousCommand.type;
    if (e !== m.CURVE_TO && e !== m.SMOOTH_CURVE_TO && e !== m.QUAD_TO && e !== m.SMOOTH_QUAD_TO)
      return this.current;
    var {
      current: {
        x: t,
        y: r
      },
      control: {
        x: i,
        y: n
      }
    } = this, o = new k(2 * t - i, 2 * r - n);
    return o;
  }
  makeAbsolute(e) {
    if (this.command.relative) {
      var {
        x: t,
        y: r
      } = this.current;
      e.x += t, e.y += r;
    }
    return e;
  }
  addMarker(e, t, r) {
    var {
      points: i,
      angles: n
    } = this;
    r && n.length > 0 && !n[n.length - 1] && (n[n.length - 1] = i[i.length - 1].angleTo(r)), this.addMarkerAngle(e, t ? t.angleTo(e) : null);
  }
  addMarkerAngle(e, t) {
    this.points.push(e), this.angles.push(t);
  }
  getMarkerPoints() {
    return this.points;
  }
  getMarkerAngles() {
    for (var {
      angles: e
    } = this, t = e.length, r = 0; r < t; r++)
      if (!e[r]) {
        for (var i = r + 1; i < t; i++)
          if (e[i]) {
            e[r] = e[i];
            break;
          }
      }
    return e;
  }
};
var Ge = class extends I {
  constructor() {
    super(...arguments), this.modifiedEmSizeStack = false;
  }
  calculateOpacity() {
    for (var e = 1, t = this; t; ) {
      var r = t.getStyle("opacity", false, true);
      r.hasValue(true) && (e *= r.getNumber()), t = t.parent;
    }
    return e;
  }
  setContext(e) {
    var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
    if (!t) {
      var r = this.getStyle("fill"), i = this.getStyle("fill-opacity"), n = this.getStyle("stroke"), o = this.getStyle("stroke-opacity");
      if (r.isUrlDefinition()) {
        var s = r.getFillStyleDefinition(this, i);
        s && (e.fillStyle = s);
      } else if (r.hasValue()) {
        r.getString() === "currentColor" && r.setValue(this.getStyle("color").getColor());
        var u = r.getColor();
        u !== "inherit" && (e.fillStyle = u === "none" ? "rgba(0,0,0,0)" : u);
      }
      if (i.hasValue()) {
        var l = new S(this.document, "fill", e.fillStyle).addOpacity(i).getColor();
        e.fillStyle = l;
      }
      if (n.isUrlDefinition()) {
        var h = n.getFillStyleDefinition(this, o);
        h && (e.strokeStyle = h);
      } else if (n.hasValue()) {
        n.getString() === "currentColor" && n.setValue(this.getStyle("color").getColor());
        var f = n.getString();
        f !== "inherit" && (e.strokeStyle = f === "none" ? "rgba(0,0,0,0)" : f);
      }
      if (o.hasValue()) {
        var c = new S(this.document, "stroke", e.strokeStyle).addOpacity(o).getString();
        e.strokeStyle = c;
      }
      var v = this.getStyle("stroke-width");
      if (v.hasValue()) {
        var g = v.getPixels();
        e.lineWidth = g || rt;
      }
      var d = this.getStyle("stroke-linecap"), p = this.getStyle("stroke-linejoin"), y = this.getStyle("stroke-miterlimit"), x = this.getStyle("stroke-dasharray"), b = this.getStyle("stroke-dashoffset");
      if (d.hasValue() && (e.lineCap = d.getString()), p.hasValue() && (e.lineJoin = p.getString()), y.hasValue() && (e.miterLimit = y.getNumber()), x.hasValue() && x.getString() !== "none") {
        var T = ne(x.getString());
        typeof e.setLineDash < "u" ? e.setLineDash(T) : typeof e.webkitLineDash < "u" ? e.webkitLineDash = T : typeof e.mozDash < "u" && !(T.length === 1 && T[0] === 0) && (e.mozDash = T);
        var $ = b.getPixels();
        typeof e.lineDashOffset < "u" ? e.lineDashOffset = $ : typeof e.webkitLineDashOffset < "u" ? e.webkitLineDashOffset = $ : typeof e.mozDashOffset < "u" && (e.mozDashOffset = $);
      }
    }
    if (this.modifiedEmSizeStack = false, typeof e.font < "u") {
      var E = this.getStyle("font"), O = this.getStyle("font-style"), C = this.getStyle("font-variant"), P = this.getStyle("font-weight"), V = this.getStyle("font-size"), j = this.getStyle("font-family"), R = new Z(O.getString(), C.getString(), P.getString(), V.hasValue() ? "".concat(V.getPixels(true), "px") : "", j.getString(), Z.parse(E.getString(), e.font));
      O.setValue(R.fontStyle), C.setValue(R.fontVariant), P.setValue(R.fontWeight), V.setValue(R.fontSize), j.setValue(R.fontFamily), e.font = R.toString(), V.isPixels() && (this.document.emSize = V.getPixels(), this.modifiedEmSizeStack = true);
    }
    t || (this.applyEffects(e), e.globalAlpha = this.calculateOpacity());
  }
  clearContext(e) {
    super.clearContext(e), this.modifiedEmSizeStack && this.document.popEmSize();
  }
};
var A = class _A extends Ge {
  constructor(e, t, r) {
    super(e, t, r), this.type = "path", this.pathParser = null, this.pathParser = new w(this.getAttribute("d").getString());
  }
  path(e) {
    var {
      pathParser: t
    } = this, r = new ce();
    for (t.reset(), e && e.beginPath(); !t.isEnd(); )
      switch (t.next().type) {
        case w.MOVE_TO:
          this.pathM(e, r);
          break;
        case w.LINE_TO:
          this.pathL(e, r);
          break;
        case w.HORIZ_LINE_TO:
          this.pathH(e, r);
          break;
        case w.VERT_LINE_TO:
          this.pathV(e, r);
          break;
        case w.CURVE_TO:
          this.pathC(e, r);
          break;
        case w.SMOOTH_CURVE_TO:
          this.pathS(e, r);
          break;
        case w.QUAD_TO:
          this.pathQ(e, r);
          break;
        case w.SMOOTH_QUAD_TO:
          this.pathT(e, r);
          break;
        case w.ARC:
          this.pathA(e, r);
          break;
        case w.CLOSE_PATH:
          this.pathZ(e, r);
          break;
      }
    return r;
  }
  getBoundingBox(e) {
    return this.path();
  }
  getMarkers() {
    var {
      pathParser: e
    } = this, t = e.getMarkerPoints(), r = e.getMarkerAngles(), i = t.map((n, o) => [n, r[o]]);
    return i;
  }
  renderChildren(e) {
    this.path(e), this.document.screen.mouse.checkPath(this, e);
    var t = this.getStyle("fill-rule");
    e.fillStyle !== "" && (t.getString("inherit") !== "inherit" ? e.fill(t.getString()) : e.fill()), e.strokeStyle !== "" && (this.getAttribute("vector-effect").getString() === "non-scaling-stroke" ? (e.save(), e.setTransform(1, 0, 0, 1, 0, 0), e.stroke(), e.restore()) : e.stroke());
    var r = this.getMarkers();
    if (r) {
      var i = r.length - 1, n = this.getStyle("marker-start"), o = this.getStyle("marker-mid"), s = this.getStyle("marker-end");
      if (n.isUrlDefinition()) {
        var u = n.getDefinition(), [l, h] = r[0];
        u.render(e, l, h);
      }
      if (o.isUrlDefinition())
        for (var f = o.getDefinition(), c = 1; c < i; c++) {
          var [v, g] = r[c];
          f.render(e, v, g);
        }
      if (s.isUrlDefinition()) {
        var d = s.getDefinition(), [p, y] = r[i];
        d.render(e, p, y);
      }
    }
  }
  static pathM(e) {
    var t = e.getAsCurrentPoint();
    return e.start = e.current, {
      point: t
    };
  }
  pathM(e, t) {
    var {
      pathParser: r
    } = this, {
      point: i
    } = _A.pathM(r), {
      x: n,
      y: o
    } = i;
    r.addMarker(i), t.addPoint(n, o), e && e.moveTo(n, o);
  }
  static pathL(e) {
    var {
      current: t
    } = e, r = e.getAsCurrentPoint();
    return {
      current: t,
      point: r
    };
  }
  pathL(e, t) {
    var {
      pathParser: r
    } = this, {
      current: i,
      point: n
    } = _A.pathL(r), {
      x: o,
      y: s
    } = n;
    r.addMarker(n, i), t.addPoint(o, s), e && e.lineTo(o, s);
  }
  static pathH(e) {
    var {
      current: t,
      command: r
    } = e, i = new k((r.relative ? t.x : 0) + r.x, t.y);
    return e.current = i, {
      current: t,
      point: i
    };
  }
  pathH(e, t) {
    var {
      pathParser: r
    } = this, {
      current: i,
      point: n
    } = _A.pathH(r), {
      x: o,
      y: s
    } = n;
    r.addMarker(n, i), t.addPoint(o, s), e && e.lineTo(o, s);
  }
  static pathV(e) {
    var {
      current: t,
      command: r
    } = e, i = new k(t.x, (r.relative ? t.y : 0) + r.y);
    return e.current = i, {
      current: t,
      point: i
    };
  }
  pathV(e, t) {
    var {
      pathParser: r
    } = this, {
      current: i,
      point: n
    } = _A.pathV(r), {
      x: o,
      y: s
    } = n;
    r.addMarker(n, i), t.addPoint(o, s), e && e.lineTo(o, s);
  }
  static pathC(e) {
    var {
      current: t
    } = e, r = e.getPoint("x1", "y1"), i = e.getAsControlPoint("x2", "y2"), n = e.getAsCurrentPoint();
    return {
      current: t,
      point: r,
      controlPoint: i,
      currentPoint: n
    };
  }
  pathC(e, t) {
    var {
      pathParser: r
    } = this, {
      current: i,
      point: n,
      controlPoint: o,
      currentPoint: s
    } = _A.pathC(r);
    r.addMarker(s, o, n), t.addBezierCurve(i.x, i.y, n.x, n.y, o.x, o.y, s.x, s.y), e && e.bezierCurveTo(n.x, n.y, o.x, o.y, s.x, s.y);
  }
  static pathS(e) {
    var {
      current: t
    } = e, r = e.getReflectedControlPoint(), i = e.getAsControlPoint("x2", "y2"), n = e.getAsCurrentPoint();
    return {
      current: t,
      point: r,
      controlPoint: i,
      currentPoint: n
    };
  }
  pathS(e, t) {
    var {
      pathParser: r
    } = this, {
      current: i,
      point: n,
      controlPoint: o,
      currentPoint: s
    } = _A.pathS(r);
    r.addMarker(s, o, n), t.addBezierCurve(i.x, i.y, n.x, n.y, o.x, o.y, s.x, s.y), e && e.bezierCurveTo(n.x, n.y, o.x, o.y, s.x, s.y);
  }
  static pathQ(e) {
    var {
      current: t
    } = e, r = e.getAsControlPoint("x1", "y1"), i = e.getAsCurrentPoint();
    return {
      current: t,
      controlPoint: r,
      currentPoint: i
    };
  }
  pathQ(e, t) {
    var {
      pathParser: r
    } = this, {
      current: i,
      controlPoint: n,
      currentPoint: o
    } = _A.pathQ(r);
    r.addMarker(o, n, n), t.addQuadraticCurve(i.x, i.y, n.x, n.y, o.x, o.y), e && e.quadraticCurveTo(n.x, n.y, o.x, o.y);
  }
  static pathT(e) {
    var {
      current: t
    } = e, r = e.getReflectedControlPoint();
    e.control = r;
    var i = e.getAsCurrentPoint();
    return {
      current: t,
      controlPoint: r,
      currentPoint: i
    };
  }
  pathT(e, t) {
    var {
      pathParser: r
    } = this, {
      current: i,
      controlPoint: n,
      currentPoint: o
    } = _A.pathT(r);
    r.addMarker(o, n, n), t.addQuadraticCurve(i.x, i.y, n.x, n.y, o.x, o.y), e && e.quadraticCurveTo(n.x, n.y, o.x, o.y);
  }
  static pathA(e) {
    var {
      current: t,
      command: r
    } = e, {
      rX: i,
      rY: n,
      xRot: o,
      lArcFlag: s,
      sweepFlag: u
    } = r, l = o * (Math.PI / 180), h = e.getAsCurrentPoint(), f = new k(Math.cos(l) * (t.x - h.x) / 2 + Math.sin(l) * (t.y - h.y) / 2, -Math.sin(l) * (t.x - h.x) / 2 + Math.cos(l) * (t.y - h.y) / 2), c = Math.pow(f.x, 2) / Math.pow(i, 2) + Math.pow(f.y, 2) / Math.pow(n, 2);
    c > 1 && (i *= Math.sqrt(c), n *= Math.sqrt(c));
    var v = (s === u ? -1 : 1) * Math.sqrt((Math.pow(i, 2) * Math.pow(n, 2) - Math.pow(i, 2) * Math.pow(f.y, 2) - Math.pow(n, 2) * Math.pow(f.x, 2)) / (Math.pow(i, 2) * Math.pow(f.y, 2) + Math.pow(n, 2) * Math.pow(f.x, 2)));
    isNaN(v) && (v = 0);
    var g = new k(v * i * f.y / n, v * -n * f.x / i), d = new k((t.x + h.x) / 2 + Math.cos(l) * g.x - Math.sin(l) * g.y, (t.y + h.y) / 2 + Math.sin(l) * g.x + Math.cos(l) * g.y), p = xo([1, 0], [(f.x - g.x) / i, (f.y - g.y) / n]), y = [(f.x - g.x) / i, (f.y - g.y) / n], x = [(-f.x - g.x) / i, (-f.y - g.y) / n], b = xo(y, x);
    return mi(y, x) <= -1 && (b = Math.PI), mi(y, x) >= 1 && (b = 0), {
      currentPoint: h,
      rX: i,
      rY: n,
      sweepFlag: u,
      xAxisRotation: l,
      centp: d,
      a1: p,
      ad: b
    };
  }
  pathA(e, t) {
    var {
      pathParser: r
    } = this, {
      currentPoint: i,
      rX: n,
      rY: o,
      sweepFlag: s,
      xAxisRotation: u,
      centp: l,
      a1: h,
      ad: f
    } = _A.pathA(r), c = 1 - s ? 1 : -1, v = h + c * (f / 2), g = new k(l.x + n * Math.cos(v), l.y + o * Math.sin(v));
    if (r.addMarkerAngle(g, v - c * Math.PI / 2), r.addMarkerAngle(i, v - c * Math.PI), t.addPoint(i.x, i.y), e && !isNaN(h) && !isNaN(f)) {
      var d = n > o ? n : o, p = n > o ? 1 : n / o, y = n > o ? o / n : 1;
      e.translate(l.x, l.y), e.rotate(u), e.scale(p, y), e.arc(0, 0, d, h, h + f, !!(1 - s)), e.scale(1 / p, 1 / y), e.rotate(-u), e.translate(-l.x, -l.y);
    }
  }
  static pathZ(e) {
    e.current = e.start;
  }
  pathZ(e, t) {
    _A.pathZ(this.pathParser), e && t.x1 !== t.x2 && t.y1 !== t.y2 && e.closePath();
  }
};
var bl = class extends A {
  constructor(e, t, r) {
    super(e, t, r), this.type = "glyph", this.horizAdvX = this.getAttribute("horiz-adv-x").getNumber(), this.unicode = this.getAttribute("unicode").getString(), this.arabicForm = this.getAttribute("arabic-form").getString();
  }
};
var Ce = class _Ce extends Ge {
  constructor(e, t, r) {
    super(e, t, new.target === _Ce ? true : r), this.type = "text", this.x = 0, this.y = 0, this.measureCache = -1;
  }
  setContext(e) {
    var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
    super.setContext(e, t);
    var r = this.getStyle("dominant-baseline").getTextBaseline() || this.getStyle("alignment-baseline").getTextBaseline();
    r && (e.textBaseline = r);
  }
  initializeCoordinates() {
    this.x = 0, this.y = 0, this.leafTexts = [], this.textChunkStart = 0, this.minX = Number.POSITIVE_INFINITY, this.maxX = Number.NEGATIVE_INFINITY;
  }
  getBoundingBox(e) {
    if (this.type !== "text")
      return this.getTElementBoundingBox(e);
    this.initializeCoordinates(), this.adjustChildCoordinatesRecursive(e);
    var t = null;
    return this.children.forEach((r, i) => {
      var n = this.getChildBoundingBox(e, this, this, i);
      t ? t.addBoundingBox(n) : t = n;
    }), t;
  }
  getFontSize() {
    var {
      document: e,
      parent: t
    } = this, r = Z.parse(e.ctx.font).fontSize, i = t.getStyle("font-size").getNumber(r);
    return i;
  }
  getTElementBoundingBox(e) {
    var t = this.getFontSize();
    return new ce(this.x, this.y - t, this.x + this.measureText(e), this.y);
  }
  getGlyph(e, t, r) {
    var i = t[r], n = null;
    if (e.isArabic) {
      var o = t.length, s = t[r - 1], u = t[r + 1], l = "isolated";
      if ((r === 0 || s === " ") && r < o - 1 && u !== " " && (l = "terminal"), r > 0 && s !== " " && r < o - 1 && u !== " " && (l = "medial"), r > 0 && s !== " " && (r === o - 1 || u === " ") && (l = "initial"), typeof e.glyphs[i] < "u") {
        var h = e.glyphs[i];
        n = h instanceof bl ? h : h[l];
      }
    } else
      n = e.glyphs[i];
    return n || (n = e.missingGlyph), n;
  }
  getText() {
    return "";
  }
  getTextFromNode(e) {
    var t = e || this.node, r = Array.from(t.parentNode.childNodes), i = r.indexOf(t), n = r.length - 1, o = lt(
      // textNode.value
      // || textNode.text
      t.textContent || ""
    );
    return i === 0 && (o = n1(o)), i === n && (o = s1(o)), o;
  }
  renderChildren(e) {
    if (this.type !== "text") {
      this.renderTElementChildren(e);
      return;
    }
    this.initializeCoordinates(), this.adjustChildCoordinatesRecursive(e), this.children.forEach((r, i) => {
      this.renderChild(e, this, this, i);
    });
    var {
      mouse: t
    } = this.document.screen;
    t.isWorking() && t.checkBoundingBox(this, this.getBoundingBox(e));
  }
  renderTElementChildren(e) {
    var {
      document: t,
      parent: r
    } = this, i = this.getText(), n = r.getStyle("font-family").getDefinition();
    if (n) {
      for (var {
        unitsPerEm: o
      } = n.fontFace, s = Z.parse(t.ctx.font), u = r.getStyle("font-size").getNumber(s.fontSize), l = r.getStyle("font-style").getString(s.fontStyle), h = u / o, f = n.isRTL ? i.split("").reverse().join("") : i, c = ne(r.getAttribute("dx").getString()), v = f.length, g = 0; g < v; g++) {
        var d = this.getGlyph(n, f, g);
        e.translate(this.x, this.y), e.scale(h, -h);
        var p = e.lineWidth;
        e.lineWidth = e.lineWidth * o / u, l === "italic" && e.transform(1, 0, 0.4, 1, 0, 0), d.render(e), l === "italic" && e.transform(1, 0, -0.4, 1, 0, 0), e.lineWidth = p, e.scale(1 / h, -1 / h), e.translate(-this.x, -this.y), this.x += u * (d.horizAdvX || n.horizAdvX) / o, typeof c[g] < "u" && !isNaN(c[g]) && (this.x += c[g]);
      }
      return;
    }
    var {
      x: y,
      y: x
    } = this;
    e.fillStyle && e.fillText(i, y, x), e.strokeStyle && e.strokeText(i, y, x);
  }
  applyAnchoring() {
    if (!(this.textChunkStart >= this.leafTexts.length)) {
      var e = this.leafTexts[this.textChunkStart], t = e.getStyle("text-anchor").getString("start"), r = false, i = 0;
      t === "start" && !r || t === "end" && r ? i = e.x - this.minX : t === "end" && !r || t === "start" && r ? i = e.x - this.maxX : i = e.x - (this.minX + this.maxX) / 2;
      for (var n = this.textChunkStart; n < this.leafTexts.length; n++)
        this.leafTexts[n].x += i;
      this.minX = Number.POSITIVE_INFINITY, this.maxX = Number.NEGATIVE_INFINITY, this.textChunkStart = this.leafTexts.length;
    }
  }
  adjustChildCoordinatesRecursive(e) {
    this.children.forEach((t, r) => {
      this.adjustChildCoordinatesRecursiveCore(e, this, this, r);
    }), this.applyAnchoring();
  }
  adjustChildCoordinatesRecursiveCore(e, t, r, i) {
    var n = r.children[i];
    n.children.length > 0 ? n.children.forEach((o, s) => {
      t.adjustChildCoordinatesRecursiveCore(e, t, n, s);
    }) : this.adjustChildCoordinates(e, t, r, i);
  }
  adjustChildCoordinates(e, t, r, i) {
    var n = r.children[i];
    if (typeof n.measureText != "function")
      return n;
    e.save(), n.setContext(e, true);
    var o = n.getAttribute("x"), s = n.getAttribute("y"), u = n.getAttribute("dx"), l = n.getAttribute("dy"), h = n.getStyle("font-family").getDefinition(), f = !!h && h.isRTL;
    i === 0 && (o.hasValue() || o.setValue(n.getInheritedAttribute("x")), s.hasValue() || s.setValue(n.getInheritedAttribute("y")), u.hasValue() || u.setValue(n.getInheritedAttribute("dx")), l.hasValue() || l.setValue(n.getInheritedAttribute("dy")));
    var c = n.measureText(e);
    return f && (t.x -= c), o.hasValue() ? (t.applyAnchoring(), n.x = o.getPixels("x"), u.hasValue() && (n.x += u.getPixels("x"))) : (u.hasValue() && (t.x += u.getPixels("x")), n.x = t.x), t.x = n.x, f || (t.x += c), s.hasValue() ? (n.y = s.getPixels("y"), l.hasValue() && (n.y += l.getPixels("y"))) : (l.hasValue() && (t.y += l.getPixels("y")), n.y = t.y), t.y = n.y, t.leafTexts.push(n), t.minX = Math.min(t.minX, n.x, n.x + c), t.maxX = Math.max(t.maxX, n.x, n.x + c), n.clearContext(e), e.restore(), n;
  }
  getChildBoundingBox(e, t, r, i) {
    var n = r.children[i];
    if (typeof n.getBoundingBox != "function")
      return null;
    var o = n.getBoundingBox(e);
    return o ? (n.children.forEach((s, u) => {
      var l = t.getChildBoundingBox(e, t, n, u);
      o.addBoundingBox(l);
    }), o) : null;
  }
  renderChild(e, t, r, i) {
    var n = r.children[i];
    n.render(e), n.children.forEach((o, s) => {
      t.renderChild(e, t, n, s);
    });
  }
  measureText(e) {
    var {
      measureCache: t
    } = this;
    if (~t)
      return t;
    var r = this.getText(), i = this.measureTargetText(e, r);
    return this.measureCache = i, i;
  }
  measureTargetText(e, t) {
    if (!t.length)
      return 0;
    var {
      parent: r
    } = this, i = r.getStyle("font-family").getDefinition();
    if (i) {
      for (var n = this.getFontSize(), o = i.isRTL ? t.split("").reverse().join("") : t, s = ne(r.getAttribute("dx").getString()), u = o.length, l = 0, h = 0; h < u; h++) {
        var f = this.getGlyph(i, o, h);
        l += (f.horizAdvX || i.horizAdvX) * n / i.fontFace.unitsPerEm, typeof s[h] < "u" && !isNaN(s[h]) && (l += s[h]);
      }
      return l;
    }
    if (!e.measureText)
      return t.length * 10;
    e.save(), this.setContext(e, true);
    var {
      width: c
    } = e.measureText(t);
    return this.clearContext(e), e.restore(), c;
  }
  /**
   * Inherits positional attributes from {@link TextElement} parent(s). Attributes
   * are only inherited from a parent to its first child.
   * @param name - The attribute name.
   * @returns The attribute value or null.
   */
  getInheritedAttribute(e) {
    for (var t = this; t instanceof _Ce && t.isFirstChild(); ) {
      var r = t.parent.getAttribute(e);
      if (r.hasValue(true))
        return r.getValue("0");
      t = t.parent;
    }
    return null;
  }
};
var Lr = class _Lr extends Ce {
  constructor(e, t, r) {
    super(e, t, new.target === _Lr ? true : r), this.type = "tspan", this.text = this.children.length > 0 ? "" : this.getTextFromNode();
  }
  getText() {
    return this.text;
  }
};
var _1 = class extends Lr {
  constructor() {
    super(...arguments), this.type = "textNode";
  }
};
var Nt = class extends Ge {
  constructor() {
    super(...arguments), this.type = "svg", this.root = false;
  }
  setContext(e) {
    var t, {
      document: r
    } = this, {
      screen: i,
      window: n
    } = r, o = e.canvas;
    if (i.setDefaults(e), o.style && typeof e.font < "u" && n && typeof n.getComputedStyle < "u") {
      e.font = n.getComputedStyle(o).getPropertyValue("font");
      var s = new S(r, "fontSize", Z.parse(e.font).fontSize);
      s.hasValue() && (r.rootEmSize = s.getPixels("y"), r.emSize = r.rootEmSize);
    }
    this.getAttribute("x").hasValue() || this.getAttribute("x", true).setValue(0), this.getAttribute("y").hasValue() || this.getAttribute("y", true).setValue(0);
    var {
      width: u,
      height: l
    } = i.viewPort;
    this.getStyle("width").hasValue() || this.getStyle("width", true).setValue("100%"), this.getStyle("height").hasValue() || this.getStyle("height", true).setValue("100%"), this.getStyle("color").hasValue() || this.getStyle("color", true).setValue("black");
    var h = this.getAttribute("refX"), f = this.getAttribute("refY"), c = this.getAttribute("viewBox"), v = c.hasValue() ? ne(c.getString()) : null, g = !this.root && this.getStyle("overflow").getValue("hidden") !== "visible", d = 0, p = 0, y = 0, x = 0;
    v && (d = v[0], p = v[1]), this.root || (u = this.getStyle("width").getPixels("x"), l = this.getStyle("height").getPixels("y"), this.type === "marker" && (y = d, x = p, d = 0, p = 0)), i.viewPort.setCurrent(u, l), this.node && (!this.parent || ((t = this.node.parentNode) === null || t === void 0 ? void 0 : t.nodeName) === "foreignObject") && this.getStyle("transform", false, true).hasValue() && !this.getStyle("transform-origin", false, true).hasValue() && this.getStyle("transform-origin", true, true).setValue("50% 50%"), super.setContext(e), e.translate(this.getAttribute("x").getPixels("x"), this.getAttribute("y").getPixels("y")), v && (u = v[2], l = v[3]), r.setViewBox({
      ctx: e,
      aspectRatio: this.getAttribute("preserveAspectRatio").getString(),
      width: i.viewPort.width,
      desiredWidth: u,
      height: i.viewPort.height,
      desiredHeight: l,
      minX: d,
      minY: p,
      refX: h.getValue(),
      refY: f.getValue(),
      clip: g,
      clipX: y,
      clipY: x
    }), v && (i.viewPort.removeCurrent(), i.viewPort.setCurrent(u, l));
  }
  clearContext(e) {
    super.clearContext(e), this.document.screen.viewPort.removeCurrent();
  }
  /**
   * Resize SVG to fit in given size.
   * @param width
   * @param height
   * @param preserveAspectRatio
   */
  resize(e) {
    var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : e, r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false, i = this.getAttribute("width", true), n = this.getAttribute("height", true), o = this.getAttribute("viewBox"), s = this.getAttribute("style"), u = i.getNumber(0), l = n.getNumber(0);
    if (r)
      if (typeof r == "string")
        this.getAttribute("preserveAspectRatio", true).setValue(r);
      else {
        var h = this.getAttribute("preserveAspectRatio");
        h.hasValue() && h.setValue(h.getString().replace(/^\s*(\S.*\S)\s*$/, "$1"));
      }
    if (i.setValue(e), n.setValue(t), o.hasValue() || o.setValue("0 0 ".concat(u || e, " ").concat(l || t)), s.hasValue()) {
      var f = this.getStyle("width"), c = this.getStyle("height");
      f.hasValue() && f.setValue("".concat(e, "px")), c.hasValue() && c.setValue("".concat(t, "px"));
    }
  }
};
var xl = class extends A {
  constructor() {
    super(...arguments), this.type = "rect";
  }
  path(e) {
    var t = this.getAttribute("x").getPixels("x"), r = this.getAttribute("y").getPixels("y"), i = this.getStyle("width", false, true).getPixels("x"), n = this.getStyle("height", false, true).getPixels("y"), o = this.getAttribute("rx"), s = this.getAttribute("ry"), u = o.getPixels("x"), l = s.getPixels("y");
    if (o.hasValue() && !s.hasValue() && (l = u), s.hasValue() && !o.hasValue() && (u = l), u = Math.min(u, i / 2), l = Math.min(l, n / 2), e) {
      var h = 4 * ((Math.sqrt(2) - 1) / 3);
      e.beginPath(), n > 0 && i > 0 && (e.moveTo(t + u, r), e.lineTo(t + i - u, r), e.bezierCurveTo(t + i - u + h * u, r, t + i, r + l - h * l, t + i, r + l), e.lineTo(t + i, r + n - l), e.bezierCurveTo(t + i, r + n - l + h * l, t + i - u + h * u, r + n, t + i - u, r + n), e.lineTo(t + u, r + n), e.bezierCurveTo(t + u - h * u, r + n, t, r + n - l + h * l, t, r + n - l), e.lineTo(t, r + l), e.bezierCurveTo(t, r + l - h * l, t + u - h * u, r, t + u, r), e.closePath());
    }
    return new ce(t, r, t + i, r + n);
  }
  getMarkers() {
    return null;
  }
};
var V1 = class extends A {
  constructor() {
    super(...arguments), this.type = "circle";
  }
  path(e) {
    var t = this.getAttribute("cx").getPixels("x"), r = this.getAttribute("cy").getPixels("y"), i = this.getAttribute("r").getPixels();
    return e && i > 0 && (e.beginPath(), e.arc(t, r, i, 0, Math.PI * 2, false), e.closePath()), new ce(t - i, r - i, t + i, r + i);
  }
  getMarkers() {
    return null;
  }
};
var D1 = class extends A {
  constructor() {
    super(...arguments), this.type = "ellipse";
  }
  path(e) {
    var t = 4 * ((Math.sqrt(2) - 1) / 3), r = this.getAttribute("rx").getPixels("x"), i = this.getAttribute("ry").getPixels("y"), n = this.getAttribute("cx").getPixels("x"), o = this.getAttribute("cy").getPixels("y");
    return e && r > 0 && i > 0 && (e.beginPath(), e.moveTo(n + r, o), e.bezierCurveTo(n + r, o + t * i, n + t * r, o + i, n, o + i), e.bezierCurveTo(n - t * r, o + i, n - r, o + t * i, n - r, o), e.bezierCurveTo(n - r, o - t * i, n - t * r, o - i, n, o - i), e.bezierCurveTo(n + t * r, o - i, n + r, o - t * i, n + r, o), e.closePath()), new ce(n - r, o - i, n + r, o + i);
  }
  getMarkers() {
    return null;
  }
};
var L1 = class extends A {
  constructor() {
    super(...arguments), this.type = "line";
  }
  getPoints() {
    return [new k(this.getAttribute("x1").getPixels("x"), this.getAttribute("y1").getPixels("y")), new k(this.getAttribute("x2").getPixels("x"), this.getAttribute("y2").getPixels("y"))];
  }
  path(e) {
    var [{
      x: t,
      y: r
    }, {
      x: i,
      y: n
    }] = this.getPoints();
    return e && (e.beginPath(), e.moveTo(t, r), e.lineTo(i, n)), new ce(t, r, i, n);
  }
  getMarkers() {
    var [e, t] = this.getPoints(), r = e.angleTo(t);
    return [[e, r], [t, r]];
  }
};
var Tl = class extends A {
  constructor(e, t, r) {
    super(e, t, r), this.type = "polyline", this.points = [], this.points = k.parsePath(this.getAttribute("points").getString());
  }
  path(e) {
    var {
      points: t
    } = this, [{
      x: r,
      y: i
    }] = t, n = new ce(r, i);
    return e && (e.beginPath(), e.moveTo(r, i)), t.forEach((o) => {
      var {
        x: s,
        y: u
      } = o;
      n.addPoint(s, u), e && e.lineTo(s, u);
    }), n;
  }
  getMarkers() {
    var {
      points: e
    } = this, t = e.length - 1, r = [];
    return e.forEach((i, n) => {
      n !== t && r.push([i, i.angleTo(e[n + 1])]);
    }), r.length > 0 && r.push([e[e.length - 1], r[r.length - 1][1]]), r;
  }
};
var k1 = class extends Tl {
  constructor() {
    super(...arguments), this.type = "polygon";
  }
  path(e) {
    var t = super.path(e), [{
      x: r,
      y: i
    }] = this.points;
    return e && (e.lineTo(r, i), e.closePath()), t;
  }
};
var B1 = class extends I {
  constructor() {
    super(...arguments), this.type = "pattern";
  }
  createPattern(e, t, r) {
    var i = this.getStyle("width").getPixels("x", true), n = this.getStyle("height").getPixels("y", true), o = new Nt(this.document, null);
    o.attributes.viewBox = new S(this.document, "viewBox", this.getAttribute("viewBox").getValue()), o.attributes.width = new S(this.document, "width", "".concat(i, "px")), o.attributes.height = new S(this.document, "height", "".concat(n, "px")), o.attributes.transform = new S(this.document, "transform", this.getAttribute("patternTransform").getValue()), o.children = this.children;
    var s = this.document.createCanvas(i, n), u = s.getContext("2d"), l = this.getAttribute("x"), h = this.getAttribute("y");
    l.hasValue() && h.hasValue() && u.translate(l.getPixels("x", true), h.getPixels("y", true)), r.hasValue() ? this.styles["fill-opacity"] = r : Reflect.deleteProperty(this.styles, "fill-opacity");
    for (var f = -1; f <= 1; f++)
      for (var c = -1; c <= 1; c++)
        u.save(), o.attributes.x = new S(this.document, "x", f * s.width), o.attributes.y = new S(this.document, "y", c * s.height), o.render(u), u.restore();
    var v = e.createPattern(s, "repeat");
    return v;
  }
};
var j1 = class extends I {
  constructor() {
    super(...arguments), this.type = "marker";
  }
  render(e, t, r) {
    if (t) {
      var {
        x: i,
        y: n
      } = t, o = this.getAttribute("orient").getString("auto"), s = this.getAttribute("markerUnits").getString("strokeWidth");
      e.translate(i, n), o === "auto" && e.rotate(r), s === "strokeWidth" && e.scale(e.lineWidth, e.lineWidth), e.save();
      var u = new Nt(this.document, null);
      u.type = this.type, u.attributes.viewBox = new S(this.document, "viewBox", this.getAttribute("viewBox").getValue()), u.attributes.refX = new S(this.document, "refX", this.getAttribute("refX").getValue()), u.attributes.refY = new S(this.document, "refY", this.getAttribute("refY").getValue()), u.attributes.width = new S(this.document, "width", this.getAttribute("markerWidth").getValue()), u.attributes.height = new S(this.document, "height", this.getAttribute("markerHeight").getValue()), u.attributes.overflow = new S(this.document, "overflow", this.getAttribute("overflow").getValue()), u.attributes.fill = new S(this.document, "fill", this.getAttribute("fill").getColor("black")), u.attributes.stroke = new S(this.document, "stroke", this.getAttribute("stroke").getValue("none")), u.children = this.children, u.render(e), e.restore(), s === "strokeWidth" && e.scale(1 / e.lineWidth, 1 / e.lineWidth), o === "auto" && e.rotate(-r), e.translate(-i, -n);
    }
  }
};
var F1 = class extends I {
  constructor() {
    super(...arguments), this.type = "defs";
  }
  render() {
  }
};
var rn = class extends Ge {
  constructor() {
    super(...arguments), this.type = "g";
  }
  getBoundingBox(e) {
    var t = new ce();
    return this.children.forEach((r) => {
      t.addBoundingBox(r.getBoundingBox(e));
    }), t;
  }
};
var Ol = class extends I {
  constructor(e, t, r) {
    super(e, t, r), this.attributesToInherit = ["gradientUnits"], this.stops = [];
    var {
      stops: i,
      children: n
    } = this;
    n.forEach((o) => {
      o.type === "stop" && i.push(o);
    });
  }
  getGradientUnits() {
    return this.getAttribute("gradientUnits").getString("objectBoundingBox");
  }
  createGradient(e, t, r) {
    var i = this;
    this.getHrefAttribute().hasValue() && (i = this.getHrefAttribute().getDefinition(), this.inheritStopContainer(i));
    var {
      stops: n
    } = i, o = this.getGradient(e, t);
    if (!o)
      return this.addParentOpacity(r, n[n.length - 1].color);
    if (n.forEach((p) => {
      o.addColorStop(p.offset, this.addParentOpacity(r, p.color));
    }), this.getAttribute("gradientTransform").hasValue()) {
      var {
        document: s
      } = this, {
        MAX_VIRTUAL_PIXELS: u,
        viewPort: l
      } = s.screen, [h] = l.viewPorts, f = new xl(s, null);
      f.attributes.x = new S(s, "x", -u / 3), f.attributes.y = new S(s, "y", -u / 3), f.attributes.width = new S(s, "width", u), f.attributes.height = new S(s, "height", u);
      var c = new rn(s, null);
      c.attributes.transform = new S(s, "transform", this.getAttribute("gradientTransform").getValue()), c.children = [f];
      var v = new Nt(s, null);
      v.attributes.x = new S(s, "x", 0), v.attributes.y = new S(s, "y", 0), v.attributes.width = new S(s, "width", h.width), v.attributes.height = new S(s, "height", h.height), v.children = [c];
      var g = s.createCanvas(h.width, h.height), d = g.getContext("2d");
      return d.fillStyle = o, v.render(d), d.createPattern(g, "no-repeat");
    }
    return o;
  }
  inheritStopContainer(e) {
    this.attributesToInherit.forEach((t) => {
      !this.getAttribute(t).hasValue() && e.getAttribute(t).hasValue() && this.getAttribute(t, true).setValue(e.getAttribute(t).getValue());
    });
  }
  addParentOpacity(e, t) {
    if (e.hasValue()) {
      var r = new S(this.document, "color", t);
      return r.addOpacity(e).getColor();
    }
    return t;
  }
};
var U1 = class extends Ol {
  constructor(e, t, r) {
    super(e, t, r), this.type = "linearGradient", this.attributesToInherit.push("x1", "y1", "x2", "y2");
  }
  getGradient(e, t) {
    var r = this.getGradientUnits() === "objectBoundingBox", i = r ? t.getBoundingBox(e) : null;
    if (r && !i)
      return null;
    !this.getAttribute("x1").hasValue() && !this.getAttribute("y1").hasValue() && !this.getAttribute("x2").hasValue() && !this.getAttribute("y2").hasValue() && (this.getAttribute("x1", true).setValue(0), this.getAttribute("y1", true).setValue(0), this.getAttribute("x2", true).setValue(1), this.getAttribute("y2", true).setValue(0));
    var n = r ? i.x + i.width * this.getAttribute("x1").getNumber() : this.getAttribute("x1").getPixels("x"), o = r ? i.y + i.height * this.getAttribute("y1").getNumber() : this.getAttribute("y1").getPixels("y"), s = r ? i.x + i.width * this.getAttribute("x2").getNumber() : this.getAttribute("x2").getPixels("x"), u = r ? i.y + i.height * this.getAttribute("y2").getNumber() : this.getAttribute("y2").getPixels("y");
    return n === s && o === u ? null : e.createLinearGradient(n, o, s, u);
  }
};
var G1 = class extends Ol {
  constructor(e, t, r) {
    super(e, t, r), this.type = "radialGradient", this.attributesToInherit.push("cx", "cy", "r", "fx", "fy", "fr");
  }
  getGradient(e, t) {
    var r = this.getGradientUnits() === "objectBoundingBox", i = t.getBoundingBox(e);
    if (r && !i)
      return null;
    this.getAttribute("cx").hasValue() || this.getAttribute("cx", true).setValue("50%"), this.getAttribute("cy").hasValue() || this.getAttribute("cy", true).setValue("50%"), this.getAttribute("r").hasValue() || this.getAttribute("r", true).setValue("50%");
    var n = r ? i.x + i.width * this.getAttribute("cx").getNumber() : this.getAttribute("cx").getPixels("x"), o = r ? i.y + i.height * this.getAttribute("cy").getNumber() : this.getAttribute("cy").getPixels("y"), s = n, u = o;
    this.getAttribute("fx").hasValue() && (s = r ? i.x + i.width * this.getAttribute("fx").getNumber() : this.getAttribute("fx").getPixels("x")), this.getAttribute("fy").hasValue() && (u = r ? i.y + i.height * this.getAttribute("fy").getNumber() : this.getAttribute("fy").getPixels("y"));
    var l = r ? (i.width + i.height) / 2 * this.getAttribute("r").getNumber() : this.getAttribute("r").getPixels(), h = this.getAttribute("fr").getPixels();
    return e.createRadialGradient(s, u, h, n, o, l);
  }
};
var z1 = class extends I {
  constructor(e, t, r) {
    super(e, t, r), this.type = "stop";
    var i = Math.max(0, Math.min(1, this.getAttribute("offset").getNumber())), n = this.getStyle("stop-opacity"), o = this.getStyle("stop-color", true);
    o.getString() === "" && o.setValue("#000"), n.hasValue() && (o = o.addOpacity(n)), this.offset = i, this.color = o.getColor();
  }
};
var an = class extends I {
  constructor(e, t, r) {
    super(e, t, r), this.type = "animate", this.duration = 0, this.initialValue = null, this.initialUnits = "", this.removed = false, this.frozen = false, e.screen.animations.push(this), this.begin = this.getAttribute("begin").getMilliseconds(), this.maxDuration = this.begin + this.getAttribute("dur").getMilliseconds(), this.from = this.getAttribute("from"), this.to = this.getAttribute("to"), this.values = new S(e, "values", null);
    var i = this.getAttribute("values");
    i.hasValue() && this.values.setValue(i.getString().split(";"));
  }
  getProperty() {
    var e = this.getAttribute("attributeType").getString(), t = this.getAttribute("attributeName").getString();
    return e === "CSS" ? this.parent.getStyle(t, true) : this.parent.getAttribute(t, true);
  }
  calcValue() {
    var {
      initialUnits: e
    } = this, {
      progress: t,
      from: r,
      to: i
    } = this.getProgress(), n = r.getNumber() + (i.getNumber() - r.getNumber()) * t;
    return e === "%" && (n *= 100), "".concat(n).concat(e);
  }
  update(e) {
    var {
      parent: t
    } = this, r = this.getProperty();
    if (this.initialValue || (this.initialValue = r.getString(), this.initialUnits = r.getUnits()), this.duration > this.maxDuration) {
      var i = this.getAttribute("fill").getString("remove");
      if (this.getAttribute("repeatCount").getString() === "indefinite" || this.getAttribute("repeatDur").getString() === "indefinite")
        this.duration = 0;
      else if (i === "freeze" && !this.frozen)
        this.frozen = true, t.animationFrozen = true, t.animationFrozenValue = r.getString();
      else if (i === "remove" && !this.removed)
        return this.removed = true, r.setValue(t.animationFrozen ? t.animationFrozenValue : this.initialValue), true;
      return false;
    }
    this.duration += e;
    var n = false;
    if (this.begin < this.duration) {
      var o = this.calcValue(), s = this.getAttribute("type");
      if (s.hasValue()) {
        var u = s.getString();
        o = "".concat(u, "(").concat(o, ")");
      }
      r.setValue(o), n = true;
    }
    return n;
  }
  getProgress() {
    var {
      document: e,
      values: t
    } = this, r = {
      progress: (this.duration - this.begin) / (this.maxDuration - this.begin)
    };
    if (t.hasValue()) {
      var i = r.progress * (t.getValue().length - 1), n = Math.floor(i), o = Math.ceil(i);
      r.from = new S(e, "from", parseFloat(t.getValue()[n])), r.to = new S(e, "to", parseFloat(t.getValue()[o])), r.progress = (i - n) / (o - n);
    } else
      r.from = this.from, r.to = this.to;
    return r;
  }
};
var H1 = class extends an {
  constructor() {
    super(...arguments), this.type = "animateColor";
  }
  calcValue() {
    var {
      progress: e,
      from: t,
      to: r
    } = this.getProgress(), i = new di(t.getColor()), n = new di(r.getColor());
    if (i.ok && n.ok) {
      var o = i.r + (n.r - i.r) * e, s = i.g + (n.g - i.g) * e, u = i.b + (n.b - i.b) * e;
      return "rgb(".concat(Math.floor(o), ", ").concat(Math.floor(s), ", ").concat(Math.floor(u), ")");
    }
    return this.getAttribute("from").getColor();
  }
};
var Y1 = class extends an {
  constructor() {
    super(...arguments), this.type = "animateTransform";
  }
  calcValue() {
    var {
      progress: e,
      from: t,
      to: r
    } = this.getProgress(), i = ne(t.getString()), n = ne(r.getString()), o = i.map((s, u) => {
      var l = n[u];
      return s + (l - s) * e;
    }).join(" ");
    return o;
  }
};
var X1 = class extends I {
  constructor(e, t, r) {
    super(e, t, r), this.type = "font", this.glyphs = /* @__PURE__ */ Object.create(null), this.horizAdvX = this.getAttribute("horiz-adv-x").getNumber();
    var {
      definitions: i
    } = e, {
      children: n
    } = this;
    for (var o of n)
      switch (o.type) {
        case "font-face": {
          this.fontFace = o;
          var s = o.getStyle("font-family");
          s.hasValue() && (i[s.getString()] = this);
          break;
        }
        case "missing-glyph":
          this.missingGlyph = o;
          break;
        case "glyph": {
          var u = o;
          u.arabicForm ? (this.isRTL = true, this.isArabic = true, typeof this.glyphs[u.unicode] > "u" && (this.glyphs[u.unicode] = /* @__PURE__ */ Object.create(null)), this.glyphs[u.unicode][u.arabicForm] = u) : this.glyphs[u.unicode] = u;
          break;
        }
      }
  }
  render() {
  }
};
var W1 = class extends I {
  constructor(e, t, r) {
    super(e, t, r), this.type = "font-face", this.ascent = this.getAttribute("ascent").getNumber(), this.descent = this.getAttribute("descent").getNumber(), this.unitsPerEm = this.getAttribute("units-per-em").getNumber();
  }
};
var q1 = class extends A {
  constructor() {
    super(...arguments), this.type = "missing-glyph", this.horizAdvX = 0;
  }
};
var Q1 = class extends Ce {
  constructor() {
    super(...arguments), this.type = "tref";
  }
  getText() {
    var e = this.getHrefAttribute().getDefinition();
    if (e) {
      var t = e.children[0];
      if (t)
        return t.getText();
    }
    return "";
  }
};
var K1 = class extends Ce {
  constructor(e, t, r) {
    super(e, t, r), this.type = "a";
    var {
      childNodes: i
    } = t, n = i[0], o = i.length > 0 && Array.from(i).every((s) => s.nodeType === 3);
    this.hasText = o, this.text = o ? this.getTextFromNode(n) : "";
  }
  getText() {
    return this.text;
  }
  renderChildren(e) {
    if (this.hasText) {
      super.renderChildren(e);
      var {
        document: t,
        x: r,
        y: i
      } = this, {
        mouse: n
      } = t.screen, o = new S(t, "fontSize", Z.parse(t.ctx.font).fontSize);
      n.isWorking() && n.checkBoundingBox(this, new ce(r, i - o.getPixels("y"), r + this.measureText(e), i));
    } else if (this.children.length > 0) {
      var s = new rn(this.document, null);
      s.children = this.children, s.parent = this, s.render(e);
    }
  }
  onClick() {
    var {
      window: e
    } = this.document;
    e && e.open(this.getHrefAttribute().getString());
  }
  onMouseMove() {
    var e = this.document.ctx;
    e.canvas.style.cursor = "pointer";
  }
};
function Ao(a3, e) {
  var t = Object.keys(a3);
  if (Object.getOwnPropertySymbols) {
    var r = Object.getOwnPropertySymbols(a3);
    e && (r = r.filter(function(i) {
      return Object.getOwnPropertyDescriptor(a3, i).enumerable;
    })), t.push.apply(t, r);
  }
  return t;
}
function ir(a3) {
  for (var e = 1; e < arguments.length; e++) {
    var t = arguments[e] != null ? arguments[e] : {};
    e % 2 ? Ao(Object(t), true).forEach(function(r) {
      en(a3, r, t[r]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a3, Object.getOwnPropertyDescriptors(t)) : Ao(Object(t)).forEach(function(r) {
      Object.defineProperty(a3, r, Object.getOwnPropertyDescriptor(t, r));
    });
  }
  return a3;
}
var Z1 = class extends Ce {
  constructor(e, t, r) {
    super(e, t, r), this.type = "textPath", this.textWidth = 0, this.textHeight = 0, this.pathLength = -1, this.glyphInfo = null, this.letterSpacingCache = [], this.measuresCache = /* @__PURE__ */ new Map([["", 0]]);
    var i = this.getHrefAttribute().getDefinition();
    this.text = this.getTextFromNode(), this.dataArray = this.parsePathData(i);
  }
  getText() {
    return this.text;
  }
  path(e) {
    var {
      dataArray: t
    } = this;
    e && e.beginPath(), t.forEach((r) => {
      var {
        type: i,
        points: n
      } = r;
      switch (i) {
        case w.LINE_TO:
          e && e.lineTo(n[0], n[1]);
          break;
        case w.MOVE_TO:
          e && e.moveTo(n[0], n[1]);
          break;
        case w.CURVE_TO:
          e && e.bezierCurveTo(n[0], n[1], n[2], n[3], n[4], n[5]);
          break;
        case w.QUAD_TO:
          e && e.quadraticCurveTo(n[0], n[1], n[2], n[3]);
          break;
        case w.ARC: {
          var [o, s, u, l, h, f, c, v] = n, g = u > l ? u : l, d = u > l ? 1 : u / l, p = u > l ? l / u : 1;
          e && (e.translate(o, s), e.rotate(c), e.scale(d, p), e.arc(0, 0, g, h, h + f, !!(1 - v)), e.scale(1 / d, 1 / p), e.rotate(-c), e.translate(-o, -s));
          break;
        }
        case w.CLOSE_PATH:
          e && e.closePath();
          break;
      }
    });
  }
  renderChildren(e) {
    this.setTextData(e), e.save();
    var t = this.parent.getStyle("text-decoration").getString(), r = this.getFontSize(), {
      glyphInfo: i
    } = this, n = e.fillStyle;
    t === "underline" && e.beginPath(), i.forEach((o, s) => {
      var {
        p0: u,
        p1: l,
        rotation: h,
        text: f
      } = o;
      e.save(), e.translate(u.x, u.y), e.rotate(h), e.fillStyle && e.fillText(f, 0, 0), e.strokeStyle && e.strokeText(f, 0, 0), e.restore(), t === "underline" && (s === 0 && e.moveTo(u.x, u.y + r / 8), e.lineTo(l.x, l.y + r / 5));
    }), t === "underline" && (e.lineWidth = r / 20, e.strokeStyle = n, e.stroke(), e.closePath()), e.restore();
  }
  getLetterSpacingAt() {
    var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;
    return this.letterSpacingCache[e] || 0;
  }
  findSegmentToFitChar(e, t, r, i, n, o, s, u, l) {
    var h = o, f = this.measureText(e, u);
    u === " " && t === "justify" && r < i && (f += (i - r) / n), l > -1 && (h += this.getLetterSpacingAt(l));
    var c = this.textHeight / 20, v = this.getEquidistantPointOnPath(h, c, 0), g = this.getEquidistantPointOnPath(h + f, c, 0), d = {
      p0: v,
      p1: g
    }, p = v && g ? Math.atan2(g.y - v.y, g.x - v.x) : 0;
    if (s) {
      var y = Math.cos(Math.PI / 2 + p) * s, x = Math.cos(-p) * s;
      d.p0 = ir(ir({}, v), {}, {
        x: v.x + y,
        y: v.y + x
      }), d.p1 = ir(ir({}, g), {}, {
        x: g.x + y,
        y: g.y + x
      });
    }
    return h += f, {
      offset: h,
      segment: d,
      rotation: p
    };
  }
  measureText(e, t) {
    var {
      measuresCache: r
    } = this, i = t || this.getText();
    if (r.has(i))
      return r.get(i);
    var n = this.measureTargetText(e, i);
    return r.set(i, n), n;
  }
  // This method supposes what all custom fonts already loaded.
  // If some font will be loaded after this method call, <textPath> will not be rendered correctly.
  // You need to call this method manually to update glyphs cache.
  setTextData(e) {
    if (!this.glyphInfo) {
      var t = this.getText(), r = t.split(""), i = t.split(" ").length - 1, n = this.parent.getAttribute("dx").split().map((T) => T.getPixels("x")), o = this.parent.getAttribute("dy").getPixels("y"), s = this.parent.getStyle("text-anchor").getString("start"), u = this.getStyle("letter-spacing"), l = this.parent.getStyle("letter-spacing"), h = 0;
      !u.hasValue() || u.getValue() === "inherit" ? h = l.getPixels() : u.hasValue() && u.getValue() !== "initial" && u.getValue() !== "unset" && (h = u.getPixels());
      var f = [], c = t.length;
      this.letterSpacingCache = f;
      for (var v = 0; v < c; v++)
        f.push(typeof n[v] < "u" ? n[v] : h);
      var g = f.reduce((T, $, E) => E === 0 ? 0 : T + $ || 0, 0), d = this.measureText(e), p = Math.max(d + g, 0);
      this.textWidth = d, this.textHeight = this.getFontSize(), this.glyphInfo = [];
      var y = this.getPathLength(), x = this.getStyle("startOffset").getNumber(0) * y, b = 0;
      (s === "middle" || s === "center") && (b = -p / 2), (s === "end" || s === "right") && (b = -p), b += x, r.forEach((T, $) => {
        var {
          offset: E,
          segment: O,
          rotation: C
        } = this.findSegmentToFitChar(e, s, p, y, i, b, o, T, $);
        b = E, !(!O.p0 || !O.p1) && this.glyphInfo.push({
          // transposeX: midpoint.x,
          // transposeY: midpoint.y,
          text: r[$],
          p0: O.p0,
          p1: O.p1,
          rotation: C
        });
      });
    }
  }
  parsePathData(e) {
    if (this.pathLength = -1, !e)
      return [];
    var t = [], {
      pathParser: r
    } = e;
    for (r.reset(); !r.isEnd(); ) {
      var {
        current: i
      } = r, n = i ? i.x : 0, o = i ? i.y : 0, s = r.next(), u = s.type, l = [];
      switch (s.type) {
        case w.MOVE_TO:
          this.pathM(r, l);
          break;
        case w.LINE_TO:
          u = this.pathL(r, l);
          break;
        case w.HORIZ_LINE_TO:
          u = this.pathH(r, l);
          break;
        case w.VERT_LINE_TO:
          u = this.pathV(r, l);
          break;
        case w.CURVE_TO:
          this.pathC(r, l);
          break;
        case w.SMOOTH_CURVE_TO:
          u = this.pathS(r, l);
          break;
        case w.QUAD_TO:
          this.pathQ(r, l);
          break;
        case w.SMOOTH_QUAD_TO:
          u = this.pathT(r, l);
          break;
        case w.ARC:
          l = this.pathA(r);
          break;
        case w.CLOSE_PATH:
          A.pathZ(r);
          break;
      }
      s.type !== w.CLOSE_PATH ? t.push({
        type: u,
        points: l,
        start: {
          x: n,
          y: o
        },
        pathLength: this.calcLength(n, o, u, l)
      }) : t.push({
        type: w.CLOSE_PATH,
        points: [],
        pathLength: 0
      });
    }
    return t;
  }
  pathM(e, t) {
    var {
      x: r,
      y: i
    } = A.pathM(e).point;
    t.push(r, i);
  }
  pathL(e, t) {
    var {
      x: r,
      y: i
    } = A.pathL(e).point;
    return t.push(r, i), w.LINE_TO;
  }
  pathH(e, t) {
    var {
      x: r,
      y: i
    } = A.pathH(e).point;
    return t.push(r, i), w.LINE_TO;
  }
  pathV(e, t) {
    var {
      x: r,
      y: i
    } = A.pathV(e).point;
    return t.push(r, i), w.LINE_TO;
  }
  pathC(e, t) {
    var {
      point: r,
      controlPoint: i,
      currentPoint: n
    } = A.pathC(e);
    t.push(r.x, r.y, i.x, i.y, n.x, n.y);
  }
  pathS(e, t) {
    var {
      point: r,
      controlPoint: i,
      currentPoint: n
    } = A.pathS(e);
    return t.push(r.x, r.y, i.x, i.y, n.x, n.y), w.CURVE_TO;
  }
  pathQ(e, t) {
    var {
      controlPoint: r,
      currentPoint: i
    } = A.pathQ(e);
    t.push(r.x, r.y, i.x, i.y);
  }
  pathT(e, t) {
    var {
      controlPoint: r,
      currentPoint: i
    } = A.pathT(e);
    return t.push(r.x, r.y, i.x, i.y), w.QUAD_TO;
  }
  pathA(e) {
    var {
      rX: t,
      rY: r,
      sweepFlag: i,
      xAxisRotation: n,
      centp: o,
      a1: s,
      ad: u
    } = A.pathA(e);
    return i === 0 && u > 0 && (u -= 2 * Math.PI), i === 1 && u < 0 && (u += 2 * Math.PI), [o.x, o.y, t, r, s, u, n, i];
  }
  calcLength(e, t, r, i) {
    var n = 0, o = null, s = null, u = 0;
    switch (r) {
      case w.LINE_TO:
        return this.getLineLength(e, t, i[0], i[1]);
      case w.CURVE_TO:
        for (n = 0, o = this.getPointOnCubicBezier(0, e, t, i[0], i[1], i[2], i[3], i[4], i[5]), u = 0.01; u <= 1; u += 0.01)
          s = this.getPointOnCubicBezier(u, e, t, i[0], i[1], i[2], i[3], i[4], i[5]), n += this.getLineLength(o.x, o.y, s.x, s.y), o = s;
        return n;
      case w.QUAD_TO:
        for (n = 0, o = this.getPointOnQuadraticBezier(0, e, t, i[0], i[1], i[2], i[3]), u = 0.01; u <= 1; u += 0.01)
          s = this.getPointOnQuadraticBezier(u, e, t, i[0], i[1], i[2], i[3]), n += this.getLineLength(o.x, o.y, s.x, s.y), o = s;
        return n;
      case w.ARC: {
        n = 0;
        var l = i[4], h = i[5], f = i[4] + h, c = Math.PI / 180;
        if (Math.abs(l - f) < c && (c = Math.abs(l - f)), o = this.getPointOnEllipticalArc(i[0], i[1], i[2], i[3], l, 0), h < 0)
          for (u = l - c; u > f; u -= c)
            s = this.getPointOnEllipticalArc(i[0], i[1], i[2], i[3], u, 0), n += this.getLineLength(o.x, o.y, s.x, s.y), o = s;
        else
          for (u = l + c; u < f; u += c)
            s = this.getPointOnEllipticalArc(i[0], i[1], i[2], i[3], u, 0), n += this.getLineLength(o.x, o.y, s.x, s.y), o = s;
        return s = this.getPointOnEllipticalArc(i[0], i[1], i[2], i[3], f, 0), n += this.getLineLength(o.x, o.y, s.x, s.y), n;
      }
    }
    return 0;
  }
  getPointOnLine(e, t, r, i, n) {
    var o = arguments.length > 5 && arguments[5] !== void 0 ? arguments[5] : t, s = arguments.length > 6 && arguments[6] !== void 0 ? arguments[6] : r, u = (n - r) / (i - t + rt), l = Math.sqrt(e * e / (1 + u * u));
    i < t && (l *= -1);
    var h = u * l, f = null;
    if (i === t)
      f = {
        x: o,
        y: s + h
      };
    else if ((s - r) / (o - t + rt) === u)
      f = {
        x: o + l,
        y: s + h
      };
    else {
      var c = 0, v = 0, g = this.getLineLength(t, r, i, n);
      if (g < rt)
        return null;
      var d = (o - t) * (i - t) + (s - r) * (n - r);
      d /= g * g, c = t + d * (i - t), v = r + d * (n - r);
      var p = this.getLineLength(o, s, c, v), y = Math.sqrt(e * e - p * p);
      l = Math.sqrt(y * y / (1 + u * u)), i < t && (l *= -1), h = u * l, f = {
        x: c + l,
        y: v + h
      };
    }
    return f;
  }
  getPointOnPath(e) {
    var t = this.getPathLength(), r = 0, i = null;
    if (e < -5e-5 || e - 5e-5 > t)
      return null;
    var {
      dataArray: n
    } = this;
    for (var o of n) {
      if (o && (o.pathLength < 5e-5 || r + o.pathLength + 5e-5 < e)) {
        r += o.pathLength;
        continue;
      }
      var s = e - r, u = 0;
      switch (o.type) {
        case w.LINE_TO:
          i = this.getPointOnLine(s, o.start.x, o.start.y, o.points[0], o.points[1], o.start.x, o.start.y);
          break;
        case w.ARC: {
          var l = o.points[4], h = o.points[5], f = o.points[4] + h;
          if (u = l + s / o.pathLength * h, h < 0 && u < f || h >= 0 && u > f)
            break;
          i = this.getPointOnEllipticalArc(o.points[0], o.points[1], o.points[2], o.points[3], u, o.points[6]);
          break;
        }
        case w.CURVE_TO:
          u = s / o.pathLength, u > 1 && (u = 1), i = this.getPointOnCubicBezier(u, o.start.x, o.start.y, o.points[0], o.points[1], o.points[2], o.points[3], o.points[4], o.points[5]);
          break;
        case w.QUAD_TO:
          u = s / o.pathLength, u > 1 && (u = 1), i = this.getPointOnQuadraticBezier(u, o.start.x, o.start.y, o.points[0], o.points[1], o.points[2], o.points[3]);
          break;
      }
      if (i)
        return i;
      break;
    }
    return null;
  }
  getLineLength(e, t, r, i) {
    return Math.sqrt((r - e) * (r - e) + (i - t) * (i - t));
  }
  getPathLength() {
    return this.pathLength === -1 && (this.pathLength = this.dataArray.reduce((e, t) => t.pathLength > 0 ? e + t.pathLength : e, 0)), this.pathLength;
  }
  getPointOnCubicBezier(e, t, r, i, n, o, s, u, l) {
    var h = u * To(e) + o * Oo(e) + i * So(e) + t * Eo(e), f = l * To(e) + s * Oo(e) + n * So(e) + r * Eo(e);
    return {
      x: h,
      y: f
    };
  }
  getPointOnQuadraticBezier(e, t, r, i, n, o, s) {
    var u = o * $o(e) + i * wo(e) + t * Co(e), l = s * $o(e) + n * wo(e) + r * Co(e);
    return {
      x: u,
      y: l
    };
  }
  getPointOnEllipticalArc(e, t, r, i, n, o) {
    var s = Math.cos(o), u = Math.sin(o), l = {
      x: r * Math.cos(n),
      y: i * Math.sin(n)
    };
    return {
      x: e + (l.x * s - l.y * u),
      y: t + (l.x * u + l.y * s)
    };
  }
  // TODO need some optimisations. possibly build cache only for curved segments?
  buildEquidistantCache(e, t) {
    var r = this.getPathLength(), i = t || 0.25, n = e || r / 100;
    if (!this.equidistantCache || this.equidistantCache.step !== n || this.equidistantCache.precision !== i) {
      this.equidistantCache = {
        step: n,
        precision: i,
        points: []
      };
      for (var o = 0, s = 0; s <= r; s += i) {
        var u = this.getPointOnPath(s), l = this.getPointOnPath(s + i);
        !u || !l || (o += this.getLineLength(u.x, u.y, l.x, l.y), o >= n && (this.equidistantCache.points.push({
          x: u.x,
          y: u.y,
          distance: s
        }), o -= n));
      }
    }
  }
  getEquidistantPointOnPath(e, t, r) {
    if (this.buildEquidistantCache(t, r), e < 0 || e - this.getPathLength() > 5e-5)
      return null;
    var i = Math.round(e / this.getPathLength() * (this.equidistantCache.points.length - 1));
    return this.equidistantCache.points[i] || null;
  }
};
var J1 = /^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;
var e2 = class extends Ge {
  constructor(e, t, r) {
    super(e, t, r), this.type = "image", this.loaded = false;
    var i = this.getHrefAttribute().getString();
    if (i) {
      var n = i.endsWith(".svg") || /^\s*data:image\/svg\+xml/i.test(i);
      e.images.push(this), n ? this.loadSvg(i) : this.loadImage(i), this.isSvg = n;
    }
  }
  loadImage(e) {
    var t = this;
    return xe(function* () {
      try {
        var r = yield t.document.createImage(e);
        t.image = r;
      } catch (i) {
        console.error('Error while loading image "'.concat(e, '":'), i);
      }
      t.loaded = true;
    })();
  }
  loadSvg(e) {
    var t = this;
    return xe(function* () {
      var r = J1.exec(e);
      if (r) {
        var i = r[5];
        r[4] === "base64" ? t.image = atob(i) : t.image = decodeURIComponent(i);
      } else
        try {
          var n = yield t.document.fetch(e), o = yield n.text();
          t.image = o;
        } catch (s) {
          console.error('Error while loading image "'.concat(e, '":'), s);
        }
      t.loaded = true;
    })();
  }
  renderChildren(e) {
    var {
      document: t,
      image: r,
      loaded: i
    } = this, n = this.getAttribute("x").getPixels("x"), o = this.getAttribute("y").getPixels("y"), s = this.getStyle("width").getPixels("x"), u = this.getStyle("height").getPixels("y");
    if (!(!i || !r || !s || !u)) {
      if (e.save(), e.translate(n, o), this.isSvg) {
        var l = t.canvg.forkString(e, this.image, {
          ignoreMouse: true,
          ignoreAnimation: true,
          ignoreDimensions: true,
          ignoreClear: true,
          offsetX: 0,
          offsetY: 0,
          scaleWidth: s,
          scaleHeight: u
        });
        l.document.documentElement.parent = this, l.render();
      } else {
        var h = this.image;
        t.setViewBox({
          ctx: e,
          aspectRatio: this.getAttribute("preserveAspectRatio").getString(),
          width: s,
          desiredWidth: h.width,
          height: u,
          desiredHeight: h.height
        }), this.loaded && (typeof h.complete > "u" || h.complete) && e.drawImage(h, 0, 0);
      }
      e.restore();
    }
  }
  getBoundingBox() {
    var e = this.getAttribute("x").getPixels("x"), t = this.getAttribute("y").getPixels("y"), r = this.getStyle("width").getPixels("x"), i = this.getStyle("height").getPixels("y");
    return new ce(e, t, e + r, t + i);
  }
};
var t2 = class extends Ge {
  constructor() {
    super(...arguments), this.type = "symbol";
  }
  render(e) {
  }
};
var r2 = class {
  constructor(e) {
    this.document = e, this.loaded = false, e.fonts.push(this);
  }
  load(e, t) {
    var r = this;
    return xe(function* () {
      try {
        var {
          document: i
        } = r, n = yield i.canvg.parser.load(t), o = n.getElementsByTagName("font");
        Array.from(o).forEach((s) => {
          var u = i.createElement(s);
          i.definitions[e] = u;
        });
      } catch (s) {
        console.error('Error while loading font "'.concat(t, '":'), s);
      }
      r.loaded = true;
    })();
  }
};
var Sl = class extends I {
  constructor(e, t, r) {
    super(e, t, r), this.type = "style";
    var i = lt(
      Array.from(t.childNodes).map((o) => o.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm, "").replace(/@import.*;/g, "")
      // remove imports
    ), n = i.split("}");
    n.forEach((o) => {
      var s = o.trim();
      if (s) {
        var u = s.split("{"), l = u[0].split(","), h = u[1].split(";");
        l.forEach((f) => {
          var c = f.trim();
          if (c) {
            var v = e.styles[c] || {};
            if (h.forEach((p) => {
              var y = p.indexOf(":"), x = p.substr(0, y).trim(), b = p.substr(y + 1, p.length - y).trim();
              x && b && (v[x] = new S(e, x, b));
            }), e.styles[c] = v, e.stylesSpecificity[c] = y1(c), c === "@font-face") {
              var g = v["font-family"].getString().replace(/"|'/g, ""), d = v.src.getString().split(",");
              d.forEach((p) => {
                if (p.indexOf('format("svg")') > 0) {
                  var y = gl(p);
                  y && new r2(e).load(g, y);
                }
              });
            }
          }
        });
      }
    });
  }
};
Sl.parseExternalUrl = gl;
var a2 = class extends Ge {
  constructor() {
    super(...arguments), this.type = "use";
  }
  setContext(e) {
    super.setContext(e);
    var t = this.getAttribute("x"), r = this.getAttribute("y");
    t.hasValue() && e.translate(t.getPixels("x"), 0), r.hasValue() && e.translate(0, r.getPixels("y"));
  }
  path(e) {
    var {
      element: t
    } = this;
    t && t.path(e);
  }
  renderChildren(e) {
    var {
      document: t,
      element: r
    } = this;
    if (r) {
      var i = r;
      if (r.type === "symbol" && (i = new Nt(t, null), i.attributes.viewBox = new S(t, "viewBox", r.getAttribute("viewBox").getString()), i.attributes.preserveAspectRatio = new S(t, "preserveAspectRatio", r.getAttribute("preserveAspectRatio").getString()), i.attributes.overflow = new S(t, "overflow", r.getAttribute("overflow").getString()), i.children = r.children, r.styles.opacity = new S(t, "opacity", this.calculateOpacity())), i.type === "svg") {
        var n = this.getStyle("width", false, true), o = this.getStyle("height", false, true);
        n.hasValue() && (i.attributes.width = new S(t, "width", n.getString())), o.hasValue() && (i.attributes.height = new S(t, "height", o.getString()));
      }
      var s = i.parent;
      i.parent = this, i.render(e), i.parent = s;
    }
  }
  getBoundingBox(e) {
    var {
      element: t
    } = this;
    return t ? t.getBoundingBox(e) : null;
  }
  elementTransform() {
    var {
      document: e,
      element: t
    } = this;
    return Be.fromElement(e, t);
  }
  get element() {
    return this.cachedElement || (this.cachedElement = this.getHrefAttribute().getDefinition()), this.cachedElement;
  }
};
function nr(a3, e, t, r, i, n) {
  return a3[t * r * 4 + e * 4 + n];
}
function sr(a3, e, t, r, i, n, o) {
  a3[t * r * 4 + e * 4 + n] = o;
}
function F(a3, e, t) {
  var r = a3[e];
  return r * t;
}
function me(a3, e, t, r) {
  return e + Math.cos(a3) * t + Math.sin(a3) * r;
}
var El = class extends I {
  constructor(e, t, r) {
    super(e, t, r), this.type = "feColorMatrix";
    var i = ne(this.getAttribute("values").getString());
    switch (this.getAttribute("type").getString("matrix")) {
      case "saturate": {
        var n = i[0];
        i = [0.213 + 0.787 * n, 0.715 - 0.715 * n, 0.072 - 0.072 * n, 0, 0, 0.213 - 0.213 * n, 0.715 + 0.285 * n, 0.072 - 0.072 * n, 0, 0, 0.213 - 0.213 * n, 0.715 - 0.715 * n, 0.072 + 0.928 * n, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1];
        break;
      }
      case "hueRotate": {
        var o = i[0] * Math.PI / 180;
        i = [me(o, 0.213, 0.787, -0.213), me(o, 0.715, -0.715, -0.715), me(o, 0.072, -0.072, 0.928), 0, 0, me(o, 0.213, -0.213, 0.143), me(o, 0.715, 0.285, 0.14), me(o, 0.072, -0.072, -0.283), 0, 0, me(o, 0.213, -0.213, -0.787), me(o, 0.715, -0.715, 0.715), me(o, 0.072, 0.928, 0.072), 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1];
        break;
      }
      case "luminanceToAlpha":
        i = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.2125, 0.7154, 0.0721, 0, 0, 0, 0, 0, 0, 1];
        break;
    }
    this.matrix = i, this.includeOpacity = this.getAttribute("includeOpacity").hasValue();
  }
  apply(e, t, r, i, n) {
    for (var {
      includeOpacity: o,
      matrix: s
    } = this, u = e.getImageData(0, 0, i, n), l = 0; l < n; l++)
      for (var h = 0; h < i; h++) {
        var f = nr(u.data, h, l, i, n, 0), c = nr(u.data, h, l, i, n, 1), v = nr(u.data, h, l, i, n, 2), g = nr(u.data, h, l, i, n, 3), d = F(s, 0, f) + F(s, 1, c) + F(s, 2, v) + F(s, 3, g) + F(s, 4, 1), p = F(s, 5, f) + F(s, 6, c) + F(s, 7, v) + F(s, 8, g) + F(s, 9, 1), y = F(s, 10, f) + F(s, 11, c) + F(s, 12, v) + F(s, 13, g) + F(s, 14, 1), x = F(s, 15, f) + F(s, 16, c) + F(s, 17, v) + F(s, 18, g) + F(s, 19, 1);
        o && (d = 0, p = 0, y = 0, x *= g / 255), sr(u.data, h, l, i, n, 0, d), sr(u.data, h, l, i, n, 1, p), sr(u.data, h, l, i, n, 2, y), sr(u.data, h, l, i, n, 3, x);
      }
    e.clearRect(0, 0, i, n), e.putImageData(u, 0, 0);
  }
};
var kr = class _kr extends I {
  constructor() {
    super(...arguments), this.type = "mask";
  }
  apply(e, t) {
    var {
      document: r
    } = this, i = this.getAttribute("x").getPixels("x"), n = this.getAttribute("y").getPixels("y"), o = this.getStyle("width").getPixels("x"), s = this.getStyle("height").getPixels("y");
    if (!o && !s) {
      var u = new ce();
      this.children.forEach((g) => {
        u.addBoundingBox(g.getBoundingBox(e));
      }), i = Math.floor(u.x1), n = Math.floor(u.y1), o = Math.floor(u.width), s = Math.floor(u.height);
    }
    var l = this.removeStyles(t, _kr.ignoreStyles), h = r.createCanvas(i + o, n + s), f = h.getContext("2d");
    r.screen.setDefaults(f), this.renderChildren(f), new El(r, {
      nodeType: 1,
      childNodes: [],
      attributes: [{
        nodeName: "type",
        value: "luminanceToAlpha"
      }, {
        nodeName: "includeOpacity",
        value: "true"
      }]
    }).apply(f, 0, 0, i + o, n + s);
    var c = r.createCanvas(i + o, n + s), v = c.getContext("2d");
    r.screen.setDefaults(v), t.render(v), v.globalCompositeOperation = "destination-in", v.fillStyle = f.createPattern(h, "no-repeat"), v.fillRect(0, 0, i + o, n + s), e.fillStyle = v.createPattern(c, "no-repeat"), e.fillRect(0, 0, i + o, n + s), this.restoreStyles(t, l);
  }
  render(e) {
  }
};
kr.ignoreStyles = ["mask", "transform", "clip-path"];
var Po = () => {
};
var i2 = class extends I {
  constructor() {
    super(...arguments), this.type = "clipPath";
  }
  apply(e) {
    var {
      document: t
    } = this, r = Reflect.getPrototypeOf(e), {
      beginPath: i,
      closePath: n
    } = e;
    r && (r.beginPath = Po, r.closePath = Po), Reflect.apply(i, e, []), this.children.forEach((o) => {
      if (!(typeof o.path > "u")) {
        var s = typeof o.elementTransform < "u" ? o.elementTransform() : null;
        s || (s = Be.fromElement(t, o)), s && s.apply(e), o.path(e), r && (r.closePath = n), s && s.unapply(e);
      }
    }), Reflect.apply(n, e, []), e.clip(), r && (r.beginPath = i, r.closePath = n);
  }
  render(e) {
  }
};
var Br = class _Br extends I {
  constructor() {
    super(...arguments), this.type = "filter";
  }
  apply(e, t) {
    var {
      document: r,
      children: i
    } = this, n = t.getBoundingBox(e);
    if (n) {
      var o = 0, s = 0;
      i.forEach((y) => {
        var x = y.extraFilterDistance || 0;
        o = Math.max(o, x), s = Math.max(s, x);
      });
      var u = Math.floor(n.width), l = Math.floor(n.height), h = u + 2 * o, f = l + 2 * s;
      if (!(h < 1 || f < 1)) {
        var c = Math.floor(n.x), v = Math.floor(n.y), g = this.removeStyles(t, _Br.ignoreStyles), d = r.createCanvas(h, f), p = d.getContext("2d");
        r.screen.setDefaults(p), p.translate(-c + o, -v + s), t.render(p), i.forEach((y) => {
          typeof y.apply == "function" && y.apply(p, 0, 0, h, f);
        }), e.drawImage(d, 0, 0, h, f, c - o, v - s, h, f), this.restoreStyles(t, g);
      }
    }
  }
  render(e) {
  }
};
Br.ignoreStyles = ["filter", "transform", "clip-path"];
var n2 = class extends I {
  constructor(e, t, r) {
    super(e, t, r), this.type = "feDropShadow", this.addStylesFromStyleDefinition();
  }
  apply(e, t, r, i, n) {
  }
};
var s2 = class extends I {
  constructor() {
    super(...arguments), this.type = "feMorphology";
  }
  apply(e, t, r, i, n) {
  }
};
var o2 = class extends I {
  constructor() {
    super(...arguments), this.type = "feComposite";
  }
  apply(e, t, r, i, n) {
  }
};
var u2 = class extends I {
  constructor(e, t, r) {
    super(e, t, r), this.type = "feGaussianBlur", this.blurRadius = Math.floor(this.getAttribute("stdDeviation").getNumber()), this.extraFilterDistance = this.blurRadius;
  }
  apply(e, t, r, i, n) {
    var {
      document: o,
      blurRadius: s
    } = this, u = o.window ? o.window.document.body : null, l = e.canvas;
    l.id = o.getUniqueId(), u && (l.style.display = "none", u.appendChild(l)), t1(l, t, r, i, n, s), u && u.removeChild(l);
  }
};
var l2 = class extends I {
  constructor() {
    super(...arguments), this.type = "title";
  }
};
var h2 = class extends I {
  constructor() {
    super(...arguments), this.type = "desc";
  }
};
var v2 = {
  svg: Nt,
  rect: xl,
  circle: V1,
  ellipse: D1,
  line: L1,
  polyline: Tl,
  polygon: k1,
  path: A,
  pattern: B1,
  marker: j1,
  defs: F1,
  linearGradient: U1,
  radialGradient: G1,
  stop: z1,
  animate: an,
  animateColor: H1,
  animateTransform: Y1,
  font: X1,
  "font-face": W1,
  "missing-glyph": q1,
  glyph: bl,
  text: Ce,
  tspan: Lr,
  tref: Q1,
  a: K1,
  textPath: Z1,
  image: e2,
  g: rn,
  symbol: t2,
  style: Sl,
  use: a2,
  mask: kr,
  clipPath: i2,
  filter: Br,
  feDropShadow: n2,
  feMorphology: s2,
  feComposite: o2,
  feColorMatrix: El,
  feGaussianBlur: u2,
  title: l2,
  desc: h2
};
function Ro(a3, e) {
  var t = Object.keys(a3);
  if (Object.getOwnPropertySymbols) {
    var r = Object.getOwnPropertySymbols(a3);
    e && (r = r.filter(function(i) {
      return Object.getOwnPropertyDescriptor(a3, i).enumerable;
    })), t.push.apply(t, r);
  }
  return t;
}
function f2(a3) {
  for (var e = 1; e < arguments.length; e++) {
    var t = arguments[e] != null ? arguments[e] : {};
    e % 2 ? Ro(Object(t), true).forEach(function(r) {
      en(a3, r, t[r]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a3, Object.getOwnPropertyDescriptors(t)) : Ro(Object(t)).forEach(function(r) {
      Object.defineProperty(a3, r, Object.getOwnPropertyDescriptor(t, r));
    });
  }
  return a3;
}
function c2(a3, e) {
  var t = document.createElement("canvas");
  return t.width = a3, t.height = e, t;
}
function g2(a3) {
  return bi.apply(this, arguments);
}
function bi() {
  return bi = xe(function* (a3) {
    var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false, t = document.createElement("img");
    return e && (t.crossOrigin = "Anonymous"), new Promise((r, i) => {
      t.onload = () => {
        r(t);
      }, t.onerror = (n, o, s, u, l) => {
        i(l);
      }, t.src = a3;
    });
  }), bi.apply(this, arguments);
}
var $e = class _$e {
  constructor(e) {
    var {
      rootEmSize: t = 12,
      emSize: r = 12,
      createCanvas: i = _$e.createCanvas,
      createImage: n = _$e.createImage,
      anonymousCrossOrigin: o
    } = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    this.canvg = e, this.definitions = /* @__PURE__ */ Object.create(null), this.styles = /* @__PURE__ */ Object.create(null), this.stylesSpecificity = /* @__PURE__ */ Object.create(null), this.images = [], this.fonts = [], this.emSizeStack = [], this.uniqueId = 0, this.screen = e.screen, this.rootEmSize = t, this.emSize = r, this.createCanvas = i, this.createImage = this.bindCreateImage(n, o), this.screen.wait(this.isImagesLoaded.bind(this)), this.screen.wait(this.isFontsLoaded.bind(this));
  }
  bindCreateImage(e, t) {
    return typeof t == "boolean" ? (r, i) => e(r, typeof i == "boolean" ? i : t) : e;
  }
  get window() {
    return this.screen.window;
  }
  get fetch() {
    return this.screen.fetch;
  }
  get ctx() {
    return this.screen.ctx;
  }
  get emSize() {
    var {
      emSizeStack: e
    } = this;
    return e[e.length - 1];
  }
  set emSize(e) {
    var {
      emSizeStack: t
    } = this;
    t.push(e);
  }
  popEmSize() {
    var {
      emSizeStack: e
    } = this;
    e.pop();
  }
  getUniqueId() {
    return "canvg".concat(++this.uniqueId);
  }
  isImagesLoaded() {
    return this.images.every((e) => e.loaded);
  }
  isFontsLoaded() {
    return this.fonts.every((e) => e.loaded);
  }
  createDocumentElement(e) {
    var t = this.createElement(e.documentElement);
    return t.root = true, t.addStylesFromStyleDefinition(), this.documentElement = t, t;
  }
  createElement(e) {
    var t = e.nodeName.replace(/^[^:]+:/, ""), r = _$e.elementTypes[t];
    return typeof r < "u" ? new r(this, e) : new P1(this, e);
  }
  createTextNode(e) {
    return new _1(this, e);
  }
  setViewBox(e) {
    this.screen.setViewBox(f2({
      document: this
    }, e));
  }
};
$e.createCanvas = c2;
$e.createImage = g2;
$e.elementTypes = v2;
function No(a3, e) {
  var t = Object.keys(a3);
  if (Object.getOwnPropertySymbols) {
    var r = Object.getOwnPropertySymbols(a3);
    e && (r = r.filter(function(i) {
      return Object.getOwnPropertyDescriptor(a3, i).enumerable;
    })), t.push.apply(t, r);
  }
  return t;
}
function De(a3) {
  for (var e = 1; e < arguments.length; e++) {
    var t = arguments[e] != null ? arguments[e] : {};
    e % 2 ? No(Object(t), true).forEach(function(r) {
      en(a3, r, t[r]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a3, Object.getOwnPropertyDescriptors(t)) : No(Object(t)).forEach(function(r) {
      Object.defineProperty(a3, r, Object.getOwnPropertyDescriptor(t, r));
    });
  }
  return a3;
}
var mt = class _mt {
  /**
   * Main constructor.
   * @param ctx - Rendering context.
   * @param svg - SVG Document.
   * @param options - Rendering options.
   */
  constructor(e, t) {
    var r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
    this.parser = new Ga(r), this.screen = new Dr(e, r), this.options = r;
    var i = new $e(this, r), n = i.createDocumentElement(t);
    this.document = i, this.documentElement = n;
  }
  /**
   * Create Canvg instance from SVG source string or URL.
   * @param ctx - Rendering context.
   * @param svg - SVG source string or URL.
   * @param options - Rendering options.
   * @returns Canvg instance.
   */
  static from(e, t) {
    var r = arguments;
    return xe(function* () {
      var i = r.length > 2 && r[2] !== void 0 ? r[2] : {}, n = new Ga(i), o = yield n.parse(t);
      return new _mt(e, o, i);
    })();
  }
  /**
   * Create Canvg instance from SVG source string.
   * @param ctx - Rendering context.
   * @param svg - SVG source string.
   * @param options - Rendering options.
   * @returns Canvg instance.
   */
  static fromString(e, t) {
    var r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, i = new Ga(r), n = i.parseFromString(t);
    return new _mt(e, n, r);
  }
  /**
   * Create new Canvg instance with inherited options.
   * @param ctx - Rendering context.
   * @param svg - SVG source string or URL.
   * @param options - Rendering options.
   * @returns Canvg instance.
   */
  fork(e, t) {
    var r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
    return _mt.from(e, t, De(De({}, this.options), r));
  }
  /**
   * Create new Canvg instance with inherited options.
   * @param ctx - Rendering context.
   * @param svg - SVG source string.
   * @param options - Rendering options.
   * @returns Canvg instance.
   */
  forkString(e, t) {
    var r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
    return _mt.fromString(e, t, De(De({}, this.options), r));
  }
  /**
   * Document is ready promise.
   * @returns Ready promise.
   */
  ready() {
    return this.screen.ready();
  }
  /**
   * Document is ready value.
   * @returns Is ready or not.
   */
  isReady() {
    return this.screen.isReady();
  }
  /**
   * Render only first frame, ignoring animations and mouse.
   * @param options - Rendering options.
   */
  render() {
    var e = arguments, t = this;
    return xe(function* () {
      var r = e.length > 0 && e[0] !== void 0 ? e[0] : {};
      t.start(De({
        enableRedraw: true,
        ignoreAnimation: true,
        ignoreMouse: true
      }, r)), yield t.ready(), t.stop();
    })();
  }
  /**
   * Start rendering.
   * @param options - Render options.
   */
  start() {
    var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, {
      documentElement: t,
      screen: r,
      options: i
    } = this;
    r.start(t, De(De({
      enableRedraw: true
    }, i), e));
  }
  /**
   * Stop rendering.
   */
  stop() {
    this.screen.stop();
  }
  /**
   * Resize SVG to fit in given size.
   * @param width
   * @param height
   * @param preserveAspectRatio
   */
  resize(e) {
    var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : e, r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;
    this.documentElement.resize(e, t, r);
  }
};
export {
  K1 as AElement,
  H1 as AnimateColorElement,
  an as AnimateElement,
  Y1 as AnimateTransformElement,
  ce as BoundingBox,
  To as CB1,
  Oo as CB2,
  So as CB3,
  Eo as CB4,
  mt as Canvg,
  V1 as CircleElement,
  i2 as ClipPathElement,
  F1 as DefsElement,
  h2 as DescElement,
  $e as Document,
  I as Element,
  D1 as EllipseElement,
  El as FeColorMatrixElement,
  o2 as FeCompositeElement,
  n2 as FeDropShadowElement,
  u2 as FeGaussianBlurElement,
  s2 as FeMorphologyElement,
  Br as FilterElement,
  Z as Font,
  X1 as FontElement,
  W1 as FontFaceElement,
  rn as GElement,
  bl as GlyphElement,
  Ol as GradientElement,
  e2 as ImageElement,
  L1 as LineElement,
  U1 as LinearGradientElement,
  j1 as MarkerElement,
  kr as MaskElement,
  yl as Matrix,
  q1 as MissingGlyphElement,
  b1 as Mouse,
  rt as PSEUDO_ZERO,
  Ga as Parser,
  A as PathElement,
  w as PathParser,
  B1 as PatternElement,
  k as Point,
  k1 as PolygonElement,
  Tl as PolylineElement,
  S as Property,
  $o as QB1,
  wo as QB2,
  Co as QB3,
  G1 as RadialGradientElement,
  xl as RectElement,
  Ge as RenderedElement,
  S1 as Rotate,
  Nt as SVGElement,
  r2 as SVGFontLoader,
  E1 as Scale,
  Dr as Screen,
  ml as Skew,
  $1 as SkewX,
  w1 as SkewY,
  z1 as StopElement,
  Sl as StyleElement,
  t2 as SymbolElement,
  Q1 as TRefElement,
  Lr as TSpanElement,
  Ce as TextElement,
  Z1 as TextPathElement,
  l2 as TitleElement,
  Be as Transform,
  O1 as Translate,
  P1 as UnknownElement,
  a2 as UseElement,
  m1 as ViewPort,
  lt as compressSpaces,
  mt as default,
  y1 as getSelectorSpecificity,
  u1 as normalizeAttributeName,
  l1 as normalizeColor,
  gl as parseExternalUrl,
  p2 as presets,
  ne as toNumbers,
  n1 as trimLeft,
  s1 as trimRight,
  bo as vectorMagnitude,
  xo as vectorsAngle,
  mi as vectorsRatio
};
/*! Bundled license information:

vue3-print-template-designer/dist/index.es-Co97bUH-.mjs:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
//# sourceMappingURL=index.es-Co97bUH--LCCCDKXM.js.map
